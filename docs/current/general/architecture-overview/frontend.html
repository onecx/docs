<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Frontend :: OneCX Docs</title>
    <link rel="canonical" href="https://onecx.github.io/docs/docs/current/general/architecture-overview/frontend.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="https://unpkg.com/bpmn-js/dist/assets/diagram-js.css">
    <link rel="stylesheet" href="https://unpkg.com/bpmn-js/dist/assets/bpmn-font/css/bpmn.css">
    <link rel="stylesheet" href="../../../../_/css/bpmn.css">
    <link href="../../../../_/css/fontawesome.css" rel="stylesheet" />
    <link href="../../../../_/css/brands.css" rel="stylesheet" />
    <link href="../../../../_/css/solid.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui.css">
    <script>var uiRootPath = '../../../../_'</script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/bpmn-js/dist/bpmn-viewer.production.min.js"></script>
    <script src="https://unpkg.com/dmn-js@11.0.2/dist/dmn-viewer.production.min.js"></script>
    <script src="../../../../_/js/bpmn.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui-standalone-preset.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui-bundle.js"></script>

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://onecx.github.io/docs">OneCX Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/docs">Home</a>
        <!--  <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/docs/docs-guides-quarkus/latest/">Quarkus</a>
            <a class="navbar-item" href="/docs/docs-guides-bpmn/latest/">Bpmn</a>
          </div> 
        </div> -->
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">OneCX Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">General</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Architecture overview</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="frontend.html">Frontend</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bff.html">Backend-for-frontend</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="backend.html">Backend</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ci.html">CI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cd.html">CD</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OneCX Docs</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../onecx-announcement/current/general/index.html">Announcement Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-announcement/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-bookmark/current/general/index.html">Bookmark Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-bookmark/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../contribution/current/contribution/index.html">Contribution</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../contribution/current/contribution/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-document-management/current/general/index.html">Document Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-document-management/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../guides/current/general/index.html">Guides</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../guides/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-help/current/general/index.html">Help Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-help/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-iam/current/general/index.html">IAM Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-iam/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../index/current/index.html">Index</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../index/current/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">OneCX Docs</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../nx-plugins/current/general/index.html">OneCX generator</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../nx-plugins/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-local-env/current/general/index.html">OneCX Local Env</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-local-env/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-portal-ui-libs/current/general/index.html">OneCX Portal UI Libs</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-portal-ui-libs/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-quarkus/current/onecx-quarkus/index.html">Onecx Quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-quarkus/current/onecx-quarkus/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-parameter/current/general/index.html">Parameter Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-parameter/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-permission/current/general/index.html">Permission Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-permission/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-product-store/current/general/index.html">Product Store Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-product-store/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-shell/current/general/index.html">Shell UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-shell/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-tenant/current/general/index.html">Tenant Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-tenant/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-test/current/general/index.html">Test Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-test/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-theme/current/general/index.html">Theme Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-theme/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-user-profile/current/general/index.html">User Profile Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-user-profile/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-welcome/current/general/index.html">Welcome Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-welcome/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../onecx-workspace/current/general/index.html">Workspace Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../onecx-workspace/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../index/current/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">OneCX Docs</a></li>
    <li><a href="index.html">Architecture overview</a></li>
    <li><a href="frontend.html">Frontend</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/onecx/docs/edit/main/docs/modules/general/pages/architecture-overview/frontend.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
      <h1 class="page">Frontend</h1>
    <div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OneCX integrates the microfrontends on client-site. This means that the individual microfrontends are loaded separately and are joined into one website inside the browser of the user. This integration is done by the OneCX Shell.</p>
</div>
<div class="paragraph">
<p>OneCX Apps can expose two kinds of mircofrontends:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>RemoteComponents</strong>: These are reusable parts of the website which are independently loaded from the current URL inside a workspace e.g. the menu.</p>
</li>
<li>
<p><strong>Microfrontends</strong>: These are parts of the website which are loaded depending on the current URL and loaded into the main area of the website.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="shell"><a class="anchor" href="#shell"></a>OneCX Shell</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OneCX Shell is responsible for the client-site integration and crosscutting support tasks for the microfrontends. The OneCX Shell is free of business logic.</p>
</div>
<div class="paragraph">
<p>The support tasks of the OneCX Shell are for example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Handling of authentication</p>
</li>
<li>
<p>Loading microfrontends at the correct point in time and displaying them at the correct location</p>
</li>
<li>
<p>Providing information about</p>
<div class="ulist">
<ul>
<li>
<p>Workspace configuration</p>
</li>
<li>
<p>Currently loaded microfrontend</p>
</li>
<li>
<p>User profile</p>
</li>
<li>
<p>User permissions</p>
</li>
<li>
<p>Theme</p>
</li>
</ul>
</div>
</li>
<li>
<p>Displaying toast messages</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/shell_layout.jpg" alt="shell layout">
</div>
</div>
<div class="paragraph">
<p>The image above shows a schematic drawing of the layout of the default shell. All boxes besides the box labeled <em>Microfrontend</em> are so called slots in OneCX. Slots are named areas in the layout of the shell which can be configured to contain one or more <em>RemoteComponents</em>.</p>
</div>
<div class="paragraph">
<p>In the box labeled <em>Microfrontend</em> the shell loads the microfrontend depending on the URL and URL changes.</p>
</div>
<div class="paragraph">
<p>The configuration which RemoteComponent is loaded where and which microfrontend is loaded for which URL is configured inside the <em>workspace</em> definition which is loaded on startup of the shell based on the URL the user has opened.</p>
</div>
<div class="paragraph">
<p>The OneCX Shell assumes the following layout of the URL:</p>
</div>
<div class="paragraph">
<p><code>&lt;protocol&gt;://&lt;host&gt;[:&lt;port&gt;]/[&lt;path to the shell&gt;/]&lt;workspace name&gt;/&lt;microfrontend path&gt;/&lt;path inside the microfrontend&gt;</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>&lt;path to the shell&gt;</strong>: This is the path under which the shell itself is reachable. It can be empty if the OneCX shell is hosted on top-level of the domain.</p>
</li>
<li>
<p><strong>&lt;workspace name&gt;</strong>: This is the configured name of the workspace definition and identifies the workspace the shell should load on startup.</p>
</li>
<li>
<p><strong>&lt;microfrontend path&gt;</strong>: This is the path prefix of a configured microfrontend inside a workspace. The OneCX Shell loads and unloads microfrontends inside the box labeled <em>Microfrontend</em> based on this path prefix.</p>
</li>
<li>
<p><strong>&lt;path inside the microfrontend&gt;</strong>: This is the part of the URL the microfrontend itself can use to control which page inside the microfrontend is shown. This is the part of the path the <em>application</em> developer is responsible for.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="information_sharing"><a class="anchor" href="#information_sharing"></a>Information sharing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As mentioned above the OneCX shell communicates with the RemoteComponents and Microfrontends. This cannot be done via shared memory inside a library because it con not be guaranteed that each part of the website uses the same version and instance of a library.</p>
</div>
<div class="paragraph">
<p>There are in general two ways to solve this issue:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Usage shared memory inside the browser window. This makes it hard to version the communication, react to value changes and to garbage collect.</p>
</li>
<li>
<p>Usage of messages/events on bowser window level.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>OneCX offers a versioned decentralized publish and subscribe mechanism inside the browser window. This mechanism is used to communicate information between the parts of the website. The OneCX Shell is using it to offer its integration interface to the apps.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="loading"><a class="anchor" href="#loading"></a>Loading of microfrontends</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When discussing Microfrontend loading mechanisms the way how to expose the microfrontend for loading is an important factor. There are two expose microfrontends in OneCX context:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Angular lazy loaded modules</p>
</li>
<li>
<p>WebComponents aka Custom Elements</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The way, how a microfrontend is loaded has to be configured when registering a microfrontend in OneCX.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<strong>It is NOT recommended</strong> to use the Angular expose method. Doing so restrains the platform from using many frameworks with different versions, which means that all Microfrontends would need to use the same technology and version as the OneCX shell.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
OneCX platform uses Module Federation technology integrated with webpack to expose and load Microfrontends. Therefore, all webcomponents which are bundled in a Module Federation compatible way are loadable.
</td>
</tr>
</table>
</div>
</div>
</div>
  </article>  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.addEventListener('readystatechange', event => {
    if (event.target.readyState === "complete") {
        renderAllBpmnJs();
    }
    });    
</script>
  </body>
</html>
