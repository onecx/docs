<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OneCX Local Env - Versions - v2 :: OneCX Docs</title>
    <link rel="canonical" href="https://onecx.github.io/docs/onecx-local-env/current/general/versions/v2/v2.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <link rel="stylesheet" href="https://unpkg.com/bpmn-js/dist/assets/diagram-js.css">
    <link rel="stylesheet" href="https://unpkg.com/bpmn-js/dist/assets/bpmn-font/css/bpmn.css">
    <link rel="stylesheet" href="../../../../../_/css/bpmn.css">
    <link href="../../../../../_/css/fontawesome.css" rel="stylesheet" />
    <link href="../../../../../_/css/brands.css" rel="stylesheet" />
    <link href="../../../../../_/css/solid.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui.css">
    <script>var uiRootPath = '../../../../../_'</script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/bpmn-js/dist/bpmn-viewer.production.min.js"></script>
    <script src="https://unpkg.com/dmn-js@11.0.2/dist/dmn-viewer.production.min.js"></script>
    <script src="../../../../../_/js/bpmn.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui-standalone-preset.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui-bundle.js"></script>

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://onecx.github.io/docs">OneCX Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/docs">Home</a>
        <!--  <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/docs/docs-guides-quarkus/latest/">Quarkus</a>
            <a class="navbar-item" href="/docs/docs-guides-bpmn/latest/">Bpmn</a>
          </div> 
        </div> -->
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="onecx-local-env" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">OneCX Local Env</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">General</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../getting-started.html">Run OneCX locally</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Versions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">v2 (latest)</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="4">
    <a class="nav-link" href="v2.html">v2 (latest)</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="migrate.html">Migration Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../v1/v1.html">v1</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Advanced</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../advanced/default-database.html">Default Databases</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../advanced/extending-default-environment.html">Extending the default environment</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../advanced/imports.html">Imports</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Networking</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../networking.html">Networking in OneCX</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Troubleshooting</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../troubleshooting/common-issues.html">Common Issues</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OneCX Local Env</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../onecx-announcement/current/general/index.html">Announcement Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-announcement/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-bookmark/current/general/index.html">Bookmark Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-bookmark/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../contribution/current/contribution/index.html">Contribution</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../contribution/current/contribution/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-document-management/current/general/index.html">Document Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-document-management/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../guides/current/general/index.html">Guides</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../guides/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-help/current/general/index.html">Help Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-help/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-iam/current/general/index.html">IAM Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-iam/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../index/current/index.html">Index</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../index/current/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../docs/current/general/index.html">OneCX Docs</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../docs/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../nx-plugins/current/general/index.html">OneCX generator</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../nx-plugins/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">OneCX Local Env</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-portal-ui-libs/current/general/index.html">OneCX Portal UI Libs</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-portal-ui-libs/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-quarkus/current/onecx-quarkus/index.html">Onecx Quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-quarkus/current/onecx-quarkus/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-parameter/current/general/index.html">Parameter Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-parameter/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-permission/current/general/index.html">Permission Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-permission/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-product-store/current/general/index.html">Product Store Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-product-store/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-shell/current/general/index.html">Shell UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-shell/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-tenant/current/general/index.html">Tenant Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-tenant/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-test/current/general/index.html">Test Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-test/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-theme/current/general/index.html">Theme Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-theme/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-user-profile/current/general/index.html">User Profile Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-user-profile/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-welcome/current/general/index.html">Welcome Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-welcome/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../onecx-workspace/current/general/index.html">Workspace Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../onecx-workspace/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../index/current/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">OneCX Local Env</a></li>
    <li><a href="../../index.html">General</a></li>
    <li>Versions</li>
    <li>v2 (latest)</li>
    <li><a href="v2.html">v2 (latest)</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/onecx/onecx-local-env/edit/main/docs/modules/general/pages/versions/v2/v2.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
      <h1 class="page">OneCX Local Env - Versions - v2</h1>
    <div id="preamble">
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>This document only contains information specific to v2 of the OneCX Local Env. Please make sure to also read the <a href="../../getting-started.html" class="xref page"><strong>top-level getting started guide</strong></a> for general information and instructions that apply to all versions.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>v2 is the current latest version of the local development environment for OneCX.</p>
</div>
<div class="paragraph">
<p>If you are currently using <a href="../v1/v1.html" class="xref page">OneCX Local Env v1</a> and want to migrate to v2, please refer to the <a href="migrate.html" class="xref page">Migrate to v2</a> guide for detailed migration instructions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>v2 contains services for Traefik, Postgres, Keycloak and all currently existing OneCX products (SVC, BFF, UI). To ensure memory-efficiency and allow developers to only start the services they need, all services are grouped into profiles that can be started individually. <strong>No services are started by default and at least one profile must be specified when starting the environment.</strong> For more details on the available services, profiles, environment variables, networks and volumes, please refer to the <a href="#components">Components</a> section of this document.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-onecx-local-env-v2"><a class="anchor" href="#running-onecx-local-env-v2"></a>Running OneCX Local Env v2</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Since the <a href="https://github.com/onecx/onecx-local-env/blob/main/docker-compose.yaml">root compose file of <code>onecx-local-env</code></a> always points to the current latest version of the OneCX Local Env, developers can run commands against v2 without needing to specify the versioned compose file explicitly.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>To start a minimal local development environment (Traefik, Postgres and Keycloak) together with the most commonly used OneCX products (Shell, Workspace, Theme, Permission, Product Store, User Profile and Welcome) and their dependencies, developers can use the <code>base</code> profile. This profile is recommended for most users and should be viewed as the default. To start the environment with the <code>base</code> profile, run the following command:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>From the repository root:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">  docker compose --profile base up -d</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>To give developers more flexibility and full control over which services/products to start, several additional profiles are available. Please refer to the <a href="#profiles">Profiles</a> section of this document for a list of all available profiles.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stopping-onecx-local-env-v2"><a class="anchor" href="#stopping-onecx-local-env-v2"></a>Stopping OneCX Local Env v2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To stop a started profile, run the following command, replacing <code>&lt;profile-name&gt;</code> with the name of the profile to stop (e.g. <code>base</code>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>From the repository root:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">  docker compose --profile &lt;profile-name&gt; down</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="importing-initial-data"><a class="anchor" href="#importing-initial-data"></a>Importing initial data</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Since the <a href="https://github.com/onecx/onecx-local-env/blob/main/import-onecx.sh">root import script of <code>onecx-local-env</code></a> always points to the current latest version of the OneCX Local Env, developers can execute the root import script to import initial data into their v2 environment without needing to specify the versioned import script explicitly.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>When starting OneCX Local Env v2 for the first time, some initial data has to be imported to set up the environment correctly. To import the initial data, please follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the automated import script:</p>
<div class="ulist">
<ul>
<li>
<p>From the repository root:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">  ./import-onecx.sh</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Wait for the script to finish and ensure that status messages for each step are green and indicate success.</p>
<div class="ulist">
<ul>
<li>
<p>If you encounter any issues while running the import script, please first try to increase the timeout defined in line 27 of the <code>versions/v2/import-onecx.v2.sh</code> script (default: <code>30</code> seconds) and re-run the script.</p>
</li>
<li>
<p>If the issue persists, do the following:</p>
</li>
<li>
<p>Manually start the <code>data-import</code> profile to start only the services required for the import of initial data (Traefik, Postgres, Keycloak and all OneCX product SVCs):</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">      docker compose --profile data-import up -d</code></pre>
</div>
</div>
</li>
<li>
<p>Wait for all services to be healthy.</p>
</li>
<li>
<p>Wait for at least 30 seconds to ensure that all services are fully initialized and operational</p>
</li>
<li>
<p>Run the import script while skipping container management:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">      SKIP_CONTAINER_MANAGEMENT=true ./versions/v2/import-onecx.v2.sh</code></pre>
</div>
</div>
</li>
<li>
<p>If any step of the import fails, please verify that all services required for the import (Traefik, Postgres, Keycloak and all OneCX SVCs) are running and healthy.</p>
</li>
<li>
<p>If they are, please check the logs of the service that failed the import for potential issues. To do so run <code>docker ps</code> to get the container ID and <code>docker logs &lt;container-id&gt;</code> to view the logs.</p>
</li>
<li>
<p>If they are not, please start the missing services and wait until they are healthy before re-running the import script.</p>
</li>
<li>
<p>Stop the <code>data-import</code> profile after the import has completed successfully:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">      docker compose --profile data-import down</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>After the script has completed successfully, all initial data has been imported and the environment is ready to use.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you want to integrate the import script into your own scripts and want to only perform the actual import operations instead of also starting and stopping all necessary services, you can set the <code>SKIP_CONTAINER_MANAGEMENT</code> environment variable to <code>1</code> or <code>true</code> before executing the script:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>From the repository root:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">    SKIP_CONTAINER_MANAGEMENT=true ./import-onecx.sh</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="components"><a class="anchor" href="#components"></a>Components</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="services"><a class="anchor" href="#services"></a>Services</h3>
<div class="ulist">
<ul>
<li>
<p><code>traefik</code></p>
</li>
<li>
<p><code>postgresdb</code></p>
</li>
<li>
<p><code>pgadmin</code></p>
</li>
<li>
<p><code>keycloak-app</code></p>
</li>
<li>
<p>OneCX Product Services:</p>
<div class="ulist">
<ul>
<li>
<p>Shell: <code>onecx-shell-ui</code>, <code>onecx-shell-bff</code></p>
</li>
<li>
<p>Theme: <code>onecx-theme-svc</code>, <code>onecx-theme-bff</code>, <code>onecx-theme-ui</code></p>
</li>
<li>
<p>Workspace: <code>onecx-workspace-svc</code>, <code>onecx-workspace-bff</code>, <code>onecx-workspace-ui</code></p>
</li>
<li>
<p>Permission: <code>onecx-permission-svc</code>, <code>onecx-permission-bff</code>, <code>onecx-permission-ui</code></p>
</li>
<li>
<p>Product Store: <code>onecx-product-store-svc</code>, <code>onecx-product-store-bff</code>, <code>onecx-product-store-ui</code></p>
</li>
<li>
<p>User Profile: <code>onecx-user-profile-svc</code>, <code>onecx-user-profile-bff</code>, <code>onecx-user-profile-ui</code></p>
</li>
<li>
<p>IAM: <code>onecx-iam-kc-svc</code>, <code>onecx-iam-bff</code>, <code>onecx-iam-ui</code></p>
</li>
<li>
<p>Tenant: <code>onecx-tenant-svc</code>, <code>onecx-tenant-bff</code>, <code>onecx-tenant-ui</code></p>
</li>
<li>
<p>Welcome: <code>onecx-welcome-svc</code>, <code>onecx-welcome-bff</code>, <code>onecx-welcome-ui</code></p>
</li>
<li>
<p>Help: <code>onecx-help-svc</code>, <code>onecx-help-bff</code>, <code>onecx-help-ui</code></p>
</li>
<li>
<p>Parameter: <code>onecx-parameter-svc</code>, <code>onecx-parameter-bff</code>, <code>onecx-parameter-ui</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="profiles"><a class="anchor" href="#profiles"></a>Profiles</h3>
<div class="paragraph">
<p>To give developers more flexibility and ensure the highest possible memory-efficiency, OneCX Local Env v2 exposes all services via a variety of profiles that can be started individually. At least one profile must be specified when starting the environment. The following profiles are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>minimal</code></p>
</li>
<li>
<p>starts only a minimal local development environment (Traefik, Postgres and Keycloak) together with OneCX Shell and its dependencies</p>
</li>
<li>
<p>useful as a basis if developers only want to test one or very few applications/products inside the Shell</p>
</li>
<li>
<p>keeps memory usage as low as possible</p>
</li>
<li>
<p><code>data-import</code></p>
</li>
<li>
<p>not recommended for regular use</p>
</li>
<li>
<p>is used internally by <code>import-onecx.v2.sh</code> to start only the services required for the import of initial data (Traefik, Postgres, Keycloak and all OneCX product SVCs)</p>
</li>
<li>
<p><code>base</code></p>
</li>
<li>
<p>the recommended default profile for most users</p>
</li>
<li>
<p>starts a minimal local development environment (Traefik, Postgres and Keycloak) together with the most commonly used OneCX products (Shell, Workspace, Theme, Permission, Product Store, User Profile and Welcome) and their dependencies</p>
</li>
<li>
<p><code>pgadmin</code></p>
</li>
<li>
<p>starts PGAdmin alongside Traefik and Postgres (if not already started via another profile)</p>
</li>
<li>
<p>useful if developers want to use PGAdmin to inspect or manage the Postgres database</p>
</li>
<li>
<p><code>all</code></p>
</li>
<li>
<p>starts all available services</p>
</li>
<li>
<p>might be useful in certain testing scenarios, but is generally not recommended due to high memory usage</p>
</li>
<li>
<p><code>&lt;PRODUCT-NAME&gt;</code></p>
</li>
<li>
<p>starts all services for a specific OneCX product (SVC, BFF, UI)</p>
</li>
<li>
<p>must be combined with at least the <code>minimal</code> profile to also start the required dependencies (Traefik, Postgres, Keycloak and Shell)</p>
</li>
<li>
<p>e.g. to start only the Workspace product alongside its dependencies, run:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">      docker compose --profile minimal --profile workspace up -d</code></pre>
</div>
</div>
</li>
<li>
<p><code>&lt;PRODUCT-NAME&gt;-ui</code></p>
</li>
<li>
<p>starts only the UI stack of a specific OneCX product (UI, BFF)</p>
</li>
<li>
<p>only works if all dependencies (e.g. <code>minimal</code> profile and related product SVC) are already started</p>
</li>
<li>
<p>useful if developers need to constantly run a certain product SVC (e.g. Workspace) and want to occasionally start and stop the related UI stack</p>
</li>
<li>
<p>e.g. to start only the Workspace UI alongside an already running Workspace SVC, run:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">      docker compose --profile workspace-ui up -d</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For details on how to run profiles, please refer to the <a href="#running-onecx-local-env-v2">Running OneCX Local Env v2</a> section of this document.</p>
</div>
</div>
<div class="sect2">
<h3 id="environment-variables"><a class="anchor" href="#environment-variables"></a>Environment variables</h3>
<div class="paragraph">
<p>All services are based on images defined in the <code>.env</code> file in the <code>versions/v2</code> directory. Services might also reference additional environment variables from the <code>.env</code>, <code>common.env</code>, <code>svc.env</code> and <code>bff.env</code> files in the <code>versions/v2</code> directory.</p>
</div>
<div class="paragraph">
<p>The <code>.env</code> file is always loaded automatically, while other env files are referenced by some services via the <code>env_file</code> directive.</p>
</div>
<div class="paragraph">
<p>Some services also define additional environment variables directly in the compose file.</p>
</div>
</div>
<div class="sect2">
<h3 id="networks"><a class="anchor" href="#networks"></a>Networks</h3>
<div class="ulist">
<ul>
<li>
<p><code>default</code> — primary network used by OneCX Local Env v2. All services connect via this network.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="volumes"><a class="anchor" href="#volumes"></a>Volumes</h3>
<div class="paragraph">
<p>OneCX Local Env v2 mounts one global volume:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>postgres</code> — volume used by <code>postgresdb</code> to persist its data across container restarts.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, some services (<code>traefik</code>, <code>postgresdb</code>, <code>pgadmin</code> and <code>keycloak-app</code>) mount local directories for initialization data.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshooting"><a class="anchor" href="#troubleshooting"></a>Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you encounter any issues while using OneCX Local Env v2, please refer to the <a href="../../../troubleshooting/common-issues.html" class="xref page">Troubleshooting - Common Issues</a> page for potential solutions and workarounds.</p>
</div>
</div>
</div>
  </article>  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../../../_/js/site.js" data-ui-root-path="../../../../../_"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
<script>
    document.addEventListener('readystatechange', event => {
    if (event.target.readyState === "complete") {
        renderAllBpmnJs();
    }
    });    
</script>
  </body>
</html>
