

Getting Started with OneCX
====================
This section contains essential information to help you get started with OneCX. You’ll find quick-start instructions for setting up the local development environment, generating new applications with the OneCX generator, and running and testing apps locally.

Installation Instructions for Local Developer AI support
====================
## [](#installation-ai-locally)Installation AI locally (Ollama)

You can set up ollama either through installation or using a Docker image.

### [](#install-on-localhost)Install on local host

This installation option has the advantage of out of the box gpu support. Currently windows has only a preview version available.

Visit <https://ollama.com/download> for installation instructions.

Configure your ollama to run the desired large language model

```sh
ollama run mistral
```

### [](#run-ollama-with-docker)Run ollama with Docker

If docker is already setup this option is propably the fastest setup, but might require some additional steps for gpu support setup.

Utilize the Docker image provided by ollama Instructions can be found at: <https://ollama.com/blog/ollama-is-now-available-as-an-official-docker-image>Setup Language Model Provider:

Configure your ollama to run the desired large language model

```sh
docker exec -it ollama ollama run mistral
```

## [](#install-continue-dev)Install continue.dev

Use <https://continue.dev/docs/quickstart> to install it on your ide.

configure continue.dev and point to you running ollama instance and define the large language model eg.: mistral → open c:\\Users\\username\\.continue\\config.json and add under models

"models": [
  {
    "title": "Mistral@LocalOllama",
    "provider": "ollama",
    "model": "mistral",
    "apiBase": "http://localhost:11434/"
  }
],

Detailed instructions can be found under: <https://continue.dev/docs/model-setup/select-provider>

To checkout available options of development support with continue.dev <https://continue.dev/docs/how-to-use-continue>

API Guidelines
====================
## [](#%5Fintroduction)1\. Introduction

This document defines the standards and best practices for designing REST APIs using OpenAPI specifications. It ensures consistency, maintainability, and clarity across all OneCX applications. However, they may not cover every possible use case or technical scenario.

## [](#%5Fgeneral%5Fprinciples)2\. General Principles

* Follow an API-first approach: design OpenAPI spec before implementation.
* Use consistent naming and DTO patterns.
* Prefer plural nouns for resource names.
* Use standard HTTP methods: GET, POST, PUT, PATCH, DELETE.
* Define your objects in the schemas tab and use references to them in your endpoint definitions.
* Avoid code duplication, if possible reuse your objects.
* Avoid the use of quotation marks for tags, descriptions etc. if not really needed.

## [](#%5Fapi%5Fversioning)3\. API Versioning

* Use versioning in the URL path: `/v1`, `/v2`, etc.
* For internal APIs use `/internal/`.
* Make sure to include the version into the name of your OpenAPI file e.g. `hello-world-v1.yaml`.
* Use the `version` tag at the top of your OpenAPI file to set the version.

## [](#%5Fresource%5Fnaming)4\. Resource Naming

* Use plural form of entity names: `/themes`, `/users`.
* Use up to 2 path parameters. If more are needed, use the request body.

## [](#%5Fmandatory%5Fschema%5Ffields)5\. Mandatory Schema Fields

### [](#%5Fgeneral)5.1\. General

* `title`: `{applicationName} {external/internal} service {version}`. Example: onecx-help external service V1
* `description`: Short description of the purpose of this API and which entities are targeted.
* `version`: version of the OpenAPI file. Example: `1.0.0`
* `servers`: `{url}:{port}` of the application
* `tags`: list all used tags like this:

- name: {tagName}
  description: short description of the purpose

* `paths`: endpoint definitions
* `schemas`: object definitions

Example 

---
openapi: 3.0.3
info:
  title: onecx-hello-world external service V1
  description: This API provides endpoints for managing Hello World.
  version: 1.0.0
servers:
  - url: "http://onecx-hello-world:8080"
tags:
  - name: helloV1
    description: Managing Hello
  - name: worldV1
    description: Managing World

### [](#%5Fendpoints)5.2\. Endpoints

* `tags`: `{tagName}`. Use camel case for all tags.
* `description`: description of the purpose of this endpoint.
* `operationId`: name of the generated Java method.
* `requestBody`: definition of the required object and content-type. Not needed for GET
* `responses`: possible response-codes including description and object definitions. For response description please use the following pattern: `{Resource} {operation} {status}`  
Example:

    Theme created successfully.
    Theme not found.

## [](#%5Fdto%5Fnaming%5Fconvention)6\. DTO Naming Convention

| |  Use the following conventions for the naming of responses and request bodies for all HTTP Methods. |
| ----------------------------------------------------------------------------------------------------- |

```none
<Get|Create|Update|Patch|Search><ResourceName><Request|Response>
```

Examples:  
`CreateThemeRequest`  
`GetUserResponse`  

* Do not include the suffix `DTO` in your object names. This should and will be added by the generator.
* If you plan to just return a sub-set of a resource, e.g. as result of an `/search` endpoint, name your object with the suffix `Abstract`. Like this for example: `ThemeAbstract`.

## [](#%5Fhttp%5Fmethods)7\. HTTP Methods

### [](#%5Fget)7.1\. GET

```none
GET /{apiVersion}/{resources}/{id}
```

* No request body.
* Returns `200 OK` with list or single resource.
* Returns `404 NOT FOUND` if entity does not exist.
* Include the actual response resource inside the `resource` field.  
Example:  
GetThemeResponse:  
type: object  
properties:  
 resource:  
  $ref: '#/components/schemas/Theme'

| |  Return a full set of business and technical related fields. Make sure to include the modificationCount field to make updates possible. |
| ----------------------------------------------------------------------------------------------------------------------------------------- |

### [](#%5Fpost)7.2\. POST

```none
POST /{apiVersion}/{resources}
POST /{apiVersion}/{resources}/search
```

* Used for creation, search, or import.
* Returns `201 CREATED`. Optional with location header or created resource as response.
* Returns `400 BAD REQUEST` for invalid input or constraint violations.

#### [](#%5Fsearch)7.2.1\. Search

* To support pagination include the following mandatory criteria:

    pageNumber:
      format: int32
      description: The number of page.
      default: 0
      type: integer
    pageSize:
      format: int32
      description: The size of page
      default: 100
      maximum: 1000
      type: integer

and the following fields in the response:

    stream:
      type: array
      items:
       $ref: '#/components/schemas/ThemeAbstract'
    totalElements:
      format: int64
      description: The total elements in the resource.
      type: integer
    number:
      format: int32
      type: integer
    size:
      format: int32
      type: integer
    totalPages:
      format: int64
      type: integer

| |  Return abstracts in your page result with a minimum set of needed fields to reduce the amount of transfered data. |
| -------------------------------------------------------------------------------------------------------------------- |

### [](#%5Fput)7.3\. PUT

```none
PUT /{apiVersion}/{resources}/{id}
```

* Full update of business entity.
* Returns `200 OK`. Optional with updated resource as response.
* Returns `400 BAD REQUEST` if the request fails (e.g. constraint violation)
* Returns `404 NOT FOUND` if the targeted entity is not found.
* Include the actual response resource inside the `resource` field.  
Example:  
UpdateThemeResponse:  
type: object  
properties:  
 resource:  
  $ref: '#/components/schemas/Theme'  
| |  Make sure to include the full business entity and the most recent modificationCount retrieved by the previous GET request to avoid optimisticlock exceptions. |  
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#%5Fpatch)7.4\. PATCH

```none
PATCH /{apiVersion}/{resources}/{id}
```

* Partial update of resource.
* Returns `200 OK`. Optional with updated resource as response.
* Returns `400 BAD REQUEST` or `404 NOT FOUND`.

### [](#%5Fdelete)7.5\. DELETE

```none
DELETE /{apiVersion}/{resources}/{id}
```

* Idempotent deletion.
* Returns `204 NO CONTENT`.
* Returns `400 BAD REQUEST` for constraint violations.

## [](#%5Ferror%5Fhandling)8\. Error Handling

Use `ProblemDetailResponse` as defined in \[RFC 7807\](<https://datatracker.ietf.org>) for `400`

    ProblemDetailResponse:
      type: object
      properties:
        errorCode:
          type: string
        detail:
          type: string
        params:
          type: array
          items:
            $ref: '#/components/schemas/ProblemDetailParam'
        invalidParams:
          type: array
          items:
            $ref: '#/components/schemas/ProblemDetailInvalidParam'
    ProblemDetailParam:
      type: object
      properties:
        key:
          type: string
        value:
          type: string
    ProblemDetailInvalidParam:
      type: object
      properties:
        name:
          type: string
        message:
          type: string

Example Usage 

responses:
  200:
    description: ExampleResource updated successfully
  400:
    description: Bad request
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/ProblemDetailResponse'

* Do not include `401`, `403`, `500` errors in OpenAPI files.
* `401`, `403` and `500` are handled by the framework.

## [](#%5Fcode%5Fstyle)9\. Code Style

* Order endpoints this way: GET, POST, PUT, PATCH, DELETE.
* Use a consistent way of indentations.
* Use camelCase for `tag` and `operationId`.
* Use PascalCase for object names.

## [](#%5Fexamples)10\. Examples

Take a look at the OpenAPI files of our official OneCX applications:<https://github.com/onecx>

Guides and Contribution
====================
This guide brings together the collective knowledge of the Onecx community around best practices for creating Onecx software products.

Troubleshooting
====================
This page helps on how to resolve common encountered issues by using OneCX.

## [](#general-troubleshooting-steps)General Troubleshooting Steps

When you encounter an issue like an injection error, application is not loading, blank page, etc., please do the following steps first which should resolve most of the common issues:

## [](#onecx-compatibility)OneCX Compatibility

Make sure that the App is [OneCX compatible and you followed the guidelines](../javascript/general/onecx-compatibility.html).

## [](#disable-minified-build)Disable minified build

* To better debug your App, you need to disable the minified build.
* In your project.json or angular.json file, set "optimization" to false in the build options which will disable minification of the build files for all configurations (production, development).:

Example for all builds

{
...
"targets": {
    ...
    "build": {
        ...
        "options": {
            "optimization": false,
            ...
        }
        ...
    }
    ...
  }
}
...

* If you want to disable minification only for a specific build, set "optimization" to false in the respective configuration:

Example for production build

{
...
"targets": {
    ...
    "build": {
        ...
        "configurations": {
            "production": {
                "optimization": false,
                ...
            }
            ...
        }
        ...
    }
    ...
  }
}
...

* If you get an error like this: `Error: bundle initial exceeded maximum budget. Budget 1.05 MB was not met by 267.90 kB with a total of 1.32 MB.`
* Increase the budget in the budgets section of your project.json or angular.json file.

Example budgets section

{
...
"targets": {
    ...
    "build": {
        ...
        "configurations": {
            "production": {
                "optimization": false,
                "budgets": [
                    {
                      ...
                      "maximumError": "1.5mb"
                    },
                    ...
                ]
                ...
            }
            ...
        }
        ...
    }
    ...
  }
}
...

* In this example you can see the difference between a minified and a non-minified code snippet in the DevTool’s Sources tab.

__Table 1\. Example code snippet in DevTool’s Sources tab__
| minified                                                                                                                                                                                                                                                                                                                                                                              | non-minified                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ...  ), (0,         x.on)(k.searchButtonClicked, (t, {searchCriteria: s}) => ({             ...t,             criteria: s         })), (0,         x.on)(k.resetButtonClicked, t => ({             ...t,             criteria: {}         })), (0,         x.on)(k.tenantSearchResultsReceived, (t, {results: s}) => ({             ...t,             results: s         })), (0, ... | ... search(formValue) {       const searchCriteria = Object.entries(formValue.getRawValue())         .reduce((acc, \[key, value\]) => ({         ...acc,         \[key\]: this.isVisible(key) ?           (0,\_shared\_utils\_isValidDate\_utils\_\_WEBPACK\_IMPORTED\_MODULE\_5\_\_             .isValidDate)(value) ?             new Date(Date.UTC(value.getFullYear(), value.getMonth(),               value.getDate(), value.getHours(), value.getMinutes(),               value.getSeconds())) :             value {vbar}{vbar} null : null       }), {});       this.store.dispatch(\_tenant\_search\_actions\_\_WEBPACK\_IMPORTED\_MODULE\_6\_\_         .TenantSearchActions.searchButtonClicked({         searchCriteria       }));     }     resetSearch() {       this.store.dispatch(\_tenant\_search\_actions\_\_WEBPACK\_IMPORTED\_MODULE\_6\_\_         .TenantSearchActions.resetButtonClicked());     } ... |

* In this example you can see the difference between a minified and a non-minified NullInjectorError message in the console.

__Table 2\. Example NullInjectorError non-minified in App__
| minified                                                                                                                | non-minified                                                                                          |
| ----------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------- |
| ERROR NullInjectorError: R3InjectorError\[PortalDialogService -> i -> i -> i\]:   NullInjectorError: No provider for i! | ERROR NullInjectorError: R3InjectorError\[i -> i -> i -> i\]:   NullInjectorError: No provider for i! |

* In cases like above you are still seeing names like "i" in the non-minified error message, then you should additionally disable the minified build for the Shell locally, too.  
   * Clone the Shell repository `<https://github.com/onecx/onecx-shell-ui>`  
   * Run `npm install`  
   * Set "optimization" to false in the project.json file of the Shell.  
   * Depending on your App’s Angular version, set the "optimization" option in the corresponding `pre_loaders/angular-<version>/project.json` file.  
   * E.g.: for Angular 18 in the `pre_loaders/angular-18/project.json`  
   * Then to start Shell locally, refer to [Automatic Image Build](../onecx-docs-getting-started/first-application/image%5Fbuild%5Fautomatic.html) which builds from your local source code each time you run `docker compose` or [Manual Image Build](../onecx-docs-getting-started/first-application/image%5Fbuild%5Fmanual.html#manual-image-build) for manual image building.

__Table 3\. Example NullInjectorError non-minified in App + Shell__
| App non-minified                                                                                                        | App + Shell non-minified                                                                                                                                                |
| ----------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ERROR NullInjectorError: R3InjectorError\[PortalDialogService -> i -> i -> i\]:   NullInjectorError: No provider for i! | ERROR NullInjectorError: R3InjectorError\[PortalDialogService -> DialogService -> DialogService -> DialogService\]:   NullInjectorError: No provider for DialogService! |

## [](#webpack-configuration)Webpack Configuration

* Verify if all necessary packages are shared in your webpack.config.js:  
   * angular packages  
   * onecx packages  
   * rxjs  
   * primeng  
   * ngx-translate  
   * ngrx packages
* Check in your package.json which of the mentioned packages are installed:

Example package.json

...
"dependencies": {
    ...
    "@angular/core": "^18.2.12",
    "@angular/forms": "^18.2.12",
    "@angular/platform-browser": "^18.2.12",
    "@angular/router": "^18.2.12",
    "@ngx-translate/core": "^15.0.0",
    "@onecx/accelerator": "^5.48.3",
    "@onecx/integration-interface": "^5.48.3",
    "primeng": "^17.18.11",
    "rxjs": "~7.8.1",
    ...
  },
...

* Check your webpack.config.json if those packages are shared and add them if they are missing:

__Table 4\. Example webpack.config.js__
| Correct (✓)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Incorrect (✗)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| webpack.config.js ...   shared: share({     '@angular/common': {       requiredVersion: 'auto',       includeSecondaries: { skip: \['@angular/common/http/testing'\] },     },     '@angular/common/http': {       requiredVersion: 'auto',       includeSecondaries: true,     },     '@angular/core': { requiredVersion: 'auto', includeSecondaries: true },     '@angular/forms': { requiredVersion: 'auto', includeSecondaries: true },     '@angular/platform-browser': {       requiredVersion: 'auto',       includeSecondaries: true,     },     '@angular/router': { requiredVersion: 'auto', includeSecondaries: true },     '@ngx-translate/core': { requiredVersion: 'auto' },     primeng: { requiredVersion: 'auto', includeSecondaries: true },     rxjs: { requiredVersion: 'auto', includeSecondaries: true },     '@onecx/accelerator': { requiredVersion: 'auto', includeSecondaries: true },     '@onecx/integration-interface': {       requiredVersion: 'auto',       includeSecondaries: true,     },     ...   }), ... | webpack.config.js ... shared: share({     '@angular/common': {       requiredVersion: 'auto',       includeSecondaries: { skip: \['@angular/common/http/testing'\] },     },     '@angular/common/http': {       requiredVersion: 'auto',       includeSecondaries: true,     },     '@angular/forms': { requiredVersion: 'auto', includeSecondaries: true },     '@angular/platform-browser': {       requiredVersion: 'auto',       includeSecondaries: true,     },     '@angular/router': { requiredVersion: 'auto', includeSecondaries: true },     '@ngx-translate/core': { requiredVersion: 'auto' },     primeng: { requiredVersion: 'auto', includeSecondaries: true },     '@onecx/accelerator': { requiredVersion: 'auto', includeSecondaries: true },     // MISSING: '@angular/core'     // MISSING: 'rxjs'     // MISSING: '@onecx/integration-interface'     ...   }), ... |

## [](#installed-packages)Installed Packages

* Verify if all shared packages have the caret '^' sign in your package.json (except for rxjs it is a tilde '\~').
* For that, first check your webpack.config.js which packages are being shared:

Example webpack.config.js

...
    shared: share({
    '@angular/common': {
      requiredVersion: 'auto',
      includeSecondaries: { skip: ['@angular/common/http/testing'] },
    },
    '@angular/common/http': {
      requiredVersion: 'auto',
      includeSecondaries: true,
    },
    '@angular/core': { requiredVersion: 'auto', includeSecondaries: true },
    '@angular/forms': { requiredVersion: 'auto', includeSecondaries: true },
    '@angular/platform-browser': {
      requiredVersion: 'auto',
      includeSecondaries: true,
    },
    '@angular/router': { requiredVersion: 'auto', includeSecondaries: true },
    '@ngx-translate/core': { requiredVersion: 'auto' },
    primeng: { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/accelerator': { requiredVersion: 'auto', includeSecondaries: true },
    ...
  }),
...

* Then check if the correct range (caret '^' or tilde '\~' for rxjs) is present for the shared packages in your package.json:

__Table 5\. Example package.json__
| Correct (✓)                                                                                                                                                                                                                                                                                                                                                                                                                    | Incorrect (✗)                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| package.json ... "dependencies": {     ...     "@angular/common": "^18.2.12",     "@angular/core": "^18.2.12",     "@angular/forms": "^18.2.12",     "@angular/platform-browser": "^18.2.12",     "@angular/router": "^18.2.12",     "@ngx-translate/core": "^15.0.0",     "@onecx/accelerator": "^5.48.3",     "@onecx/integration-interface": "^5.48.3",     "primeng": "^17.18.11",     "rxjs": "\~7.8.1",     ...   }, ... | package.json ... "dependencies": {     ...     "@angular/common": "18.2.12",     "@angular/core": "18.2.12",     "@angular/forms": "18.2.12",     "@angular/platform-browser": "18.2.12",     "@angular/router": "18.2.12",     "@ngx-translate/core": "15.0.0",     "@onecx/accelerator": "5.48.3",     "@onecx/integration-interface": "5.48.3",     "primeng": "17.18.11",     "rxjs": "7.8.1",     ...   }, ... |

## [](#clean-install-build)Clean Install and Build

Do a clean install and build of the App:

* Remove .angular and .nx folder
* Remove node\_modules and package-lock.json
* Run following command to clear the npm cache:

  npm cache clean --force

* Install all packages:

  npm install

* Build the App

## [](#application-setup-settings)Application Setup/Settings

* Verify if the Remote Module name in the webpack.config.js is the same as the Remote Module setting in the Application Store.
* Navigate to the Application Store → open the App → click on the 'Components' tab → open the 'Module' UI Component → check App ID:

__Table 6\. Example webpack.config.js and Application Store setting (remote module name)__
| webpack.config.js                                                                                                                                                                             | Application Store                                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| ... const config = withModuleFederationPlugin({   name: 'onecx-workspace-ui',   filename: 'remoteEntry.js',   exposes: {     './OneCXWorkspaceModule': 'src/main.ts',     ...     }   }), ... | ![application store remote module name](_images/application_store_remote_module_name.png) |

* Verify if the tag name for the component is the same as the tag name set in the Application Store:

__Table 7\. Example values.yaml and Application Store setting (tag name)__
| values.yaml                                                                                                                                                                                                                                                                                                                                                                                                                                    | Application Store                                                                                 |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| values.yaml ... microfrontend:   enabled: true   specs:     main:       exposedModule: "./OneCXWorkspaceModule"       description: "OneCX Workspace UI"       note: "OneCX Workspace UI auto import via MF operator"       type: MODULE       technology: WEBCOMPONENTMODULE       remoteName: onecx-workspace       tagName: ocx-workspace-component       endpoints:         \- name: workspace-detail           path: /{workspace-name} ... | ![application store remote module tag name](_images/application_store_remote_module_tag-name.png) |

## [](#shell-related)Shell related

* Make sure you are using the latest version of the Shell.
* Verify if the Angular version of the App is lower than the Shell’s.
* Go to the browser’s DevTools and run in the console following command:

DevTools Console

window['onecxWebpackContainer']

* You will get a list of all the shared packages.
* Check e.g. the @angular/core entry to see the versions:

![devtools webpack shared packages](_images/devtools_webpack_shared_packages.png) 

## [](#compilation-must-be-instance-of-compilation)TypeError: The 'compilation' argument must be an instance of Compilation

The error typically occurs when there’s more than 1 version of webpack used by the packages. It is a common issue if the `@angular-devkit/build-angular` library is used. To resolve the issue check the webpack versions requested by the packages and adjust so only one version remains. In order to check webpack versions execute `npm ls webpack` command. This command is going to show the exact package version used per dependency.

## [](#specific-issues)Specific issues

### [](#webpack-compilation)The 'compilation' argument must be an instance of Compilation

Errors indicating issues with webpack compilation are related to multiple versions used in the project. In order to fix the issue:

* run `npm ls webpack`
* identify packages with different webpack version
* ensure only 1 version of webpack is present

To use only 1 version of webpack, you should adjust the versions of the packages that depend on webpack to use the same version. You can do this by updating the package.json file to specify compatible versions or by using npm overrides feature.

### [](#angular-compilation)Application is not showing up and "t is not a function" error is in console

If the application is not showing up and errors like `t is not a function` are in the console, then most likely the builder and the Angular packages used in the project are not compatible. To resolve the issue:

* make sure that the builder used in the project is compatible with the Angular version used  
   * e.g., for Angular 18 and ngx-build-plus package use version `^18.0.0`

OneCX Documentation
====================
## [](#introduction)Introduction

OneCX is a platform that allows projects to easily build systems with microservice and microfrontend architecture and utilize the advantage of those architectures in regards of scales agile development. The platform offers various assets which can be leveraged to have a quick project ramp-up and a high speed of development without losing the flexibility of a custom developed solution.

Some of these assets are:

* Development guidelines for the teams
* Build in security and multitenancy
* Build in client-side integration of microfrontends which support all major SPA frameworks e.g. angular, react
* Reference implementation of cross-cutting system features including administrative UIs (e.g. user and permission management) which can be used to quickly ramp up a system and can be exchanged later if needed

## [](#documentation-overview)Documentation overview

To get familiar with OneCX technical information, refer to the following content:

* [Introduction](#)
* [Architecture overview](architecture-overview/index.html)  
   * [Frontend](architecture-overview/frontend.html)  
   * [Backend-for-frontend](architecture-overview/bff.html)  
   * [Backend](architecture-overview/backend.html)  
   * [CI](architecture-overview/ci.html)  
   * [CD](architecture-overview/cd.html)

OneCX Utilities
====================
This module contains utilities to support OneCX development and operations.

Clean Removal of a Custom App
====================
To remove a previously loaded custom app:

* Remove the app’s service definition from `docker-compose.yaml`.
* Delete any related import files (microfrontends, microservices, products, permissions) from the `imports` folders.
* Remove menu entries and product references from the `onecx_admin.json`.
* Re-import the data and restart the environment to ensure the app is fully removed by running:

./import-onecx.sh

Creating Import Files and Docker Compose Entry using the onecx-local-env-cli
====================
The recommended way to set up the custom application in the OneCX environment is to use the `onecx-local-env-cli` to automate the creation of import files and the docker compose entry.

| |  This method requires a correct Helm setup for your application as it is generated with the OneCX generator. If Helm values are missing or incorrect, the CLI may not work as expected. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

To sync the app with your local environment, navigate to your hello-world UI folder and run:

```sh
npx @onecx/local-env-cli sync ui hello-world /hello-world ./helm/values.yaml -e /path/to/onecx-local-env -n hello-world-ui
```

In this command:

* `hello-world` refers to the product name.
* `/hello-world` specifies the product’s base path.
* `./helm/values.yaml` is the path to the application’s `values.yaml` file.
* `-e /path/to/onecx-local-env` should be adjusted to the path of your local `onecx-local-env` repository.
* `-n hello-world-ui` specifies the name of the microfrontend service.

This command will update your onecx-local-env with the necessary information about your new application’s UI.

To add the UI as an image to the `docker-compose.yaml` of your onecx-local-env, run (adjust the path as needed):

```sh
npx @onecx/local-env-cli docker hello-world create hello-world helloWorld -e /path/to/onecx-local-env -s ui
```

In this command: - `hello-world` after `docker` refers to the name of the custom docker compose that will be created. - `hello-world` after `create` references the product name. - `helloWorld` is the name of the UI path as defined in the `values.yaml` of the application UI. In this case it is `helloWorld` as the routing path in the `values.yaml` is `/mfe/helloWorld/`. - `-e /path/to/onecx-local-env` should be adjusted to the path of your local `onecx-local-env` repository. - `-s ui` specifies that the service to be added is the UI.

A `hello-world.docker-compose.yaml` should now be created in the onecx-local-env, containing an image for `hello-world-ui`.

| |  In the same way as for the UI we can also handle the BFF and SVC of our application by using the commands in the [General Getting Started guide](getting%5Fstarted.html#creating-the-bff). |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

For more details regarding the usage of the CLI, see the [onecx-local-env-cli README](https://github.com/onecx/onecx-local-env-cli/).

Now all necessary files are created and you can run your application in the OneCX environment as described in [Running and Testing Applications](running%5Fcustom%5Fapps%5Foverview.html#running-and-testing-applications).

Manually Creating Import Files and Docker Compose Entry
====================
You can set up the custom application in OneCX by manually creating the required JSON files in the imports folder and updating the container definitions in the onecx-local-env repository.

## [](#creating-import-files)Create Import Files

### [](#%5F1%5Fadd%5Fassignments)1\. Add Assignments

First, we need to add the permission assignments for our application by adding the following code under `assignments` in **imports > assignments > onecx.json**.

onecx.json

```json
"hello-world": {
  "hello-world-ui": {
    "onecx-admin": {
      "HELLO": [
        "CREATE",
        "EDIT",
        "DELETE",
        "SAVE",
        "IMPORT",
        "EXPORT",
        "VIEW",
        "SEARCH",
        "BACK"
      ]
    }
  },
  "onecx-hello-world-bff": {
    "onecx-admin": {
      "hello": [
        "read",
        "write",
        "delete"
      ]
    }
  }
}
```

### [](#create-microfrontend-file)2\. Create Microfrontend File

Then we need to define our application by creating the following file in **imports > product-store > microfrontends**.

| |  The file name must match the shown pattern consisting of **product name** (here: hello-world), **microservice**(hello-world-ui) and **UI component**(main). |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------- |

hello-world\_hello-world-ui\_main.microfrontend.json

```json
{
  "appVersion": "xxx",
  "appName": "hello-world",
  "description": "OneCX HelloWorld Module",
  "remoteBaseUrl": "/mfe/helloWorld/",
  "remoteEntry": "/mfe/helloWorld/remoteEntry.js",
  "note": "OneCX HelloWorld UI module auto import via MF operator",
  "exposedModule": "./HelloWorldModule",
  "technology": "WEBCOMPONENTMODULE",
  "remoteName": "hello-world",
  "tagName": "hello-world-webcomponent",
  "type": "MODULE",
  "deprecated": false,
  "undeployed": false
}
```

* The `appName` matches the product name.
* The `remoteBaseUrl` should match the routing path in your app’s helm `values.yaml`.
* The `exposedModule` should match the module name, that is exposed in your app’s webpack config.
* The `tagName` can be found in the remoteModule ts file in the ngDoBootstrap() function.

### [](#create-permissions-file)3\. Create Permissions File

We also need to add the permissions for our application by creating the following file in **imports > product-store > permissions**.

| |  The file name must match the shown pattern consisting of **product name** (here: hello-world) and **microservice**(hello-world-ui). |
| -------------------------------------------------------------------------------------------------------------------------------------- |

hello-world\_hello-world-ui.json

```json
{
  "name": "hello-world-ui",
  "permissions": [
    {
      "resource": "HELLO",
      "action": "CREATE"
    },
    {
      "resource": "HELLO",
      "action": "EDIT"
    },
    {
      "resource": "HELLO",
      "action": "DELETE"
    },
    {
      "resource": "HELLO",
      "action": "SAVE"
    },
    {
      "resource": "HELLO",
      "action": "IMPORT"
    },
    {
      "resource": "HELLO",
      "action": "EXPORT"
    },
    {
      "resource": "HELLO",
      "action": "VIEW"
    },
    {
      "resource": "HELLO",
      "action": "SEARCH"
    }
  ]
}
```

The permissions need to match the permissions defined in your applications `values.yaml`.

### [](#create-microservice-file)4\. Create Microservice File

Then the UI microservice needs to be defined by creating the following file in **imports > product-store > microservices**.

| |  The file name must match the shown pattern consisting of **product name** (here: hello-world) and **microservice**(hello-world-ui). |
| -------------------------------------------------------------------------------------------------------------------------------------- |

hello-world\_hello-world-ui.json

```json
{
    "version": "xxx",
    "description": "hello-world-ui",
    "name": "hello-world-ui",
    "type": "ui"
}
```

* The name needs to match the name of the microservice.

For BFF and SVC microservices, similar files need to be created in the same folder. The same pattern as for the UI applies, just replace **microservice** with the corresponding product names "hello-world-bff" and "hello-world-svc" and type to "bff" or "svc".

### [](#create-product-definition)5\. Create Product Definition

We also need to add the product definition by creating the following file in **imports > product-store > products**.

| |  The file name must match the **product name** (here: hello-world). |
| --------------------------------------------------------------------- |

hello-world.json

```json
{
    "version": "xxx",
    "description": "hello-world",
    "basePath": "/hello-world",
    "displayName": "hello-world",
    "iconName": "pi-briefcase"
}
```

* The `basePath` defines the URL path where the application will be accessible later.

### [](#register-application-in-workspace)6\. Register Application in Workspace

To register the application in the workspace, we can add it to the `products` array in the `onecx_admin.json` file located in **imports > workspace**.

onecx\_admin.json

```json
{
    "productName": "hello-world",
    "baseUrl": "/hello-world",
    "microfrontends": [
        {
            "appId": "hello-world-ui",
            "basePath": "/"
        }
    ]
},
```

* The `productName`, `basePath` and `appId` should match the values we used in the files we created before.

## [](#creating-docker-compose)Create Docker Compose Entry

Now we need to add the container definition for our application by creating a new `hello-world.docker-compose.yaml` at the same level as the `docker-compose.yaml`. This file should define the image, environment variables, labels for traefik, network, and profiles. For our Hello World app, it looks like this:

hello-world.docker-compose.yaml

```yaml
include:
  - docker-compose.yaml
services:
  hello-world-ui:
    image: ${HELLO_WORLD_UI}
    environment:
      APP_BASE_HREF: /mfe/helloWorld/
      APP_ID: hello-world-ui
      PRODUCT_NAME: hello-world
    depends_on:
      hello-world-bff:
        condition: service_healthy
    labels:
      - traefik.http.services.hello-world-ui.loadbalancer.server.port=8080
      - traefik.http.routers.hello-world-ui.rule=Host(`local-proxy`)&&PathPrefix(`/mfe/helloWorld/`)
    networks:
      - default
    profiles:
      - base
      - hello-world
      - hello-world-ui
      - all
```

* The environment variables should match the values we defined in the import files. (APP\_BASE\_HREF should match remoteBaseUrl in the microfrontend file)
* The `labels` section configures traefik for routing. The service will be accessible via port 8080 (the default exposed port for nginx) and the `PathPrefix` value should match the `APP_BASE_HREF`.
* The `profiles` section specifies which profiles the service can be started with. For further explanation of the profiles see the [onecx-local-env documentation](https://onecx.github.io/docs/onecx-local-env/current/general/versions/v2/v2.html).

Under the `services` section, you can also define the BFF and SVC of your application in a similar way as the hello-world-ui service:

hello-world.docker-compose.yaml

```yaml
  hello-world-bff:
    image: ${HELLO_WORLD_BFF}
    environment:
      ONECX_PERMISSIONS_PRODUCT_NAME: hello-world
    healthcheck:
      test: curl --head -fsS http://localhost:8080/q/health
      interval: 10s
      timeout: 5s
      retries: 3
    depends_on:
      hello-world-svc:
        condition: service_healthy
    labels:
      - traefik.http.services.hello-world-bff.loadbalancer.server.port=8080
      - traefik.http.routers.hello-world-bff.rule=Host(`hello-world-bff`)
    env_file:
      - common.env
      - bff.env
    networks:
      - default
    profiles:
      - base
      - hello-world
      - hello-world-ui
      - all
  hello-world-svc:
    image: ${HELLO_WORLD_SVC}
    environment:
      QUARKUS_DATASOURCE_USERNAME: hello_world
      QUARKUS_DATASOURCE_PASSWORD: hello_world
      QUARKUS_DATASOURCE_JDBC_URL: jdbc:postgresql://postgresdb:5432/hello_world?sslmode=disable
    healthcheck:
      test: curl --head -fsS http://localhost:8080/q/health
      interval: 10s
      timeout: 5s
      retries: 3
    depends_on:
      postgresdb:
        condition: service_healthy
    labels:
      - traefik.http.services.hello-world-svc.loadbalancer.server.port=8080
      - traefik.http.routers.hello-world-svc.rule=Host(`hello-world-svc`)
    env_file:
      - common.env
      - svc.env
    networks:
      - default
    profiles:
      - base
      - hello-world
      - all
```

Now all necessary files are created and you can run your application in the OneCX environment as described in [Running and Testing Applications](running%5Fcustom%5Fapps%5Foverview.html#running-and-testing-applications).

Enable Hot Reload
====================
For development purposes, you can enable hot reload in your local environment. This allows you to see changes in the application immediately without rebuilding the image. For that we need to adjust the routing configuration in the traefik configurations of the docker image by replacing the labels section of the hello-world-bff service in the `hello-world.docker-compose.yaml` with the following lines.

```yaml
- "traefik.http.routers.local_mfe.entrypoints=web"
- "traefik.http.routers.local_mfe.rule=Host(`local-proxy`)&&PathPrefix(`/mfe/helloWorld/`)"
- "traefik.http.routers.local_mfe.service=local_mfe@file"
```

The value of `PathPrefix` in the traefik label should match the value of APP\_BASE\_HREF in the environment section of your docker-compose.yaml. Now, routing is handled directly to your locally running application instead of the Docker container.

To make sure, that traefik can access the local application, enhance the `npm start` script in the applications `package.json` with `--host 0.0.0.0 --disable-host-check`.

Additionally the PROXY\_CONFIG in the `proxy.config.js` of the UI application needs to be updated like this. Note that the path needs to be adjusted according to the `PathPrefix` value in the traefik label.

```javascript
const PROXY_CONFIG = {
  '/mfe/helloWorld': {
    target: 'http://localhost:4200/',
    secure: false,
    pathRewrite: {
      '^.*/mfe/helloWorld': '',
    },
    changeOrigin: true,
    logLevel: 'debug',
    bypass: bypassFn,
  }
}
```

If your app runs on the standard port 4200, you can start your application with `npm start`, restart your containers with `docker compose --profile base up -d` and every change in the application should be reflected immediately under `<http://local-proxy/onecx-shell/admin/helloWorld/hello>`.

## [](#note-different-ports)Note for different ports

If your application uses a **port other than 4200**, you need to first update the port in the `url` field of the `local_mfe` service in the `./init-data/traefik/traefik-services.yml` file within your `onecx-local-env`. Set the port to match the one your application is running on.

```yaml
local_mfe:
    loadBalancer:
      servers:
      - url: "http://host.docker.internal:4200/"
```

Now you can start your application with `npm start` and restart your containers with `docker compose --profile base up -d`. Every change in the application should be reflected immediately under `<http://local-proxy/onecx-shell/admin/helloWorld/hello>`.

If you want to run multiple applications on different ports, see the [Running Multiple Local Apps Simultaneously](run%5Fmultiple%5Fapps.html) section.

## [](#troubleshooting)Troubleshooting

### [](#local-changes-not-visible)Local Changes are not Visible

If your local changes are not visible in the OneCX Shell, it could be due to issues with the traefik configurations with the global UI container, that might be still running. To resolve this, stop the container with `docker compose stop hello-world-ui`, so that only your local container is running.

### [](#angular-ngdevmode-error)Angular ngDevMode is not defined Error

When running your Angular application, you may see the following error in the browser console:

`hook.js:608 ERROR ReferenceError: ngDevMode is not defined`

This error occurs when the global variable `ngDevMode`, which Angular uses to enable development mode features, is missing from the runtime environment. This is often due to Webpack not injecting the variable during the build process.

**How to fix:**

To resolve this, ensure that `ngDevMode` is defined in your Webpack configuration. You can do this by using the `DefinePlugin` to set the value based on your environment.

First set the environment variable in your Dockerfile:

```dockerfile
ENV NODE_ENV production
```

Then add the following code to the webpack.config.js:

```javascript
const webpack = require('webpack');
const isProduction = process.env.NODE_ENV === 'production';

module.exports = {
  ...
  plugins: [
    new webpack.DefinePlugin({
      ngDevMode: JSON.stringify(!isProduction)
    }),
    ...
  ],
  ...
};
```

And in your package.json scripts, ensure ngDevMode is set as production in build time:

```json
"scripts": {
  "start": "nx serve --host 0.0.0.0 --disable-host-check",
  "build": "NODE_ENV=production nx build"
}
```

This setup ensures that `ngDevMode` is correctly defined for both development and production builds, preventing the error.

Creating a new OneCX Angular App
====================
## [](#general-overview)General Overview

After [setting up the onecx-environment locally](https://onecx.github.io/docs/onecx-local-env/current/general/index.html), you can begin creating your own application within this environment. This guide walks through the process of building a simple "Hello World" Angular app and integrating it into the OneCX environment. To integrate an application into the OneCX environment, it should follow the standard architecture consisting of three main services (ui, bff and svc). These services are consumed by the OneCX shell, which orchestrates and displays the UI components within the broader platform.

## [](#creating-the-ui)Creating the UI

### [](#creating-basic-ui-structure)1\. Create the basic UI structure

We start with creating the UI structure of our "Hello World" App by running the following commands using the custom OneCX generator.

Please check the [prerequisites for using the generator](https://onecx.github.io/docs/nx-plugins/current/general/getting%5Fstarted/prerequisites.html) before starting.

#### [](#setup-new-angular-workspace)Setup New Angular Workspace

First, we can generate the basic project structure and required files for the application. This includes necessary configuration and build files, initial Angular source code, generated API services, translation assets, Swagger specifications, environment settings and Helm deployment configurations.

We can set up the new Angular workspace by running:

```sh
npx @onecx/create-workspace ngrx hello-world
```

| |  Details to generating a new OneCX Angular workspace can be found [here](https://onecx.github.io/docs/nx-plugins/current/general/getting%5Fstarted/new-onecx-app.html). |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Navigate into the newly created hello-world directory and install the packages with `npm install`.

#### [](#adding-feature-module)Add a Feature Module

Now we want to add a feature module to our application, that encapsulates the functionality of our new feature "hello". Therefore a new folder with the name of the feature module will be created in the `/src/app/` directory.

This will be generated by running the following command:

```sh
nx generate @onecx/nx-plugin:feature hello
```

| |  Details to generating a feature module can be found [here](https://onecx.github.io/docs/nx-plugins/current/general/getting%5Fstarted/feature-module.html). |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------- |

#### [](#adding-search-page)Add a Search Page

Additionally we can add a search feature, that includes a table and allows users to search for an item in a certain column. The search page can be generated in the same way as the feature module:

```sh
nx generate @onecx/nx-plugin:search hello
```

| |  Details to generating a search page can be found [here](https://onecx.github.io/docs/nx-plugins/current/general/getting%5Fstarted/search-page.html). |
| ------------------------------------------------------------------------------------------------------------------------------------------------------- |

#### [](#adding-details-page)Add a Details Page

Now we can also create a details page for the items in the search results by running:

```sh
nx generate @onecx/nx-plugin:details hello
```

| |  Details to generating a details page can be found [here](https://onecx.github.io/docs/nx-plugins/current/general/getting%5Fstarted/details-page.html). |
| --------------------------------------------------------------------------------------------------------------------------------------------------------- |

#### [](#adding-create-update-page)Add a Create-Update Dialog

Additionally we can add a create and update dialog for creating and updating items on the page by running:

```sh
nx generate @onecx/nx-plugin:create-update hello
```

| |  Details to generating a create-update dialog can be found [here](https://onecx.github.io/docs/nx-plugins/current/general/getting%5Fstarted/create-update-dialog.html). |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

The application can now be built, tested and started by running `npm run build`, `npm run test` and `npm start`.

For further customization of the app, you can refer to the general [OneCX generator documentation](https://onecx.github.io/docs/).

### [](#include-application-in-onecx-environment)2\. Include application in OneCX environment

Now let’s integrate the "Hello World" app into the OneCX environment using the onecx-local-env. **This section assumes your local environment is already set up and running**.

#### [](#synchronization)Synchronization

In your hello-world UI folder, sync the app with your local environment (adjust the path to your `onecx-local-env`):

```sh
npx @onecx/local-env-cli sync ui hello-world /hello-world ./helm/values.yaml -e /path/to/onecx-local-env -n hello-world-ui
```

In this command:

* `hello-world` refers to the product name.
* `/hello-world` specifies the product’s base path.
* `./helm/values.yaml` is the path to the application’s `values.yaml` file.
* `-e /path/to/onecx-local-env` should be adjusted to the path of your local `onecx-local-env` repository.
* `-n hello-world-ui` specifies the name of the microfrontend service.

This command will adjust the files in your onecx-local-env to include the necessary information about the new application’s UI.

#### [](#adding-menu-entry)Add Menu Entry

Add a menu entry for the new application in the OneCX environment by running (adjust the path to your `onecx-local-env` again):

```sh
npx @onecx/local-env-cli menu create hello-world-ui /hello-world/hello "Hello World" -e /path/to/onecx-local-env
```

This command will create a new menu entry "Hello World" under Custom Applications with the path to the applications feature module `/hello-world/hello`.

#### [](#adding-to-docker-compose)Add the UI to Docker Compose

Add the UI as an image to the `docker-compose.yaml` of your `onecx-local-env` with the following command (adjust the path to your `onecx-local-env` again):

```sh
npx @onecx/local-env-cli docker hello-world create hello-world helloWorld -e /path/to/onecx-local-env -s ui
```

In this command: - `hello-world` after `docker` refers to the name of the custom docker compose that will be created. - `hello-world` after `create` references the product name. - `helloWorld` is the name of the UI path as defined in the `values.yaml` of the application UI. In this case it is `helloWorld` as the routing path in the `values.yaml` is `/mfe/helloWorld/`. - `-e /path/to/onecx-local-env` should be adjusted to the path of your local `onecx-local-env` repository. - `-s ui` specifies that the service to be added is the UI.

Now a `hello-world.docker-compose.yaml` should be created in the onecx-local-env containing an image for `hello-world-ui`.

| |  More details to the onecx-local-env-cli can be found [here](https://github.com/onecx/onecx-local-env-cli/). |
| -------------------------------------------------------------------------------------------------------------- |

## [](#creating-the-bff)Creating the BFF

First clone the bff repository: `<https://github.com/onecx/onecx-hello-world-bff.git>` and navigate into the folder.

As we did for the UI, we can sync the app with your local environment for the bff and add the bff to our hello-world.docker-compose.yaml as well. The src/main/helm/values.yaml path refers to the values.yaml file of the bff.

```sh
npx @onecx/local-env-cli sync bff hello-world /hello-world src/main/helm/values.yaml -e /path/to/onecx-local-env
npx @onecx/local-env-cli docker hello-world create hello-world helloWorld -e /path/to/onecx-local-env -s bff
```

## [](#creating-the-svc)Creating the SVC

Now we can clone the svc repository: `<https://github.com/onecx/onecx-hello-world-svc>` and navigate into the folder.

The same way as for the UI and BFF, we can sync the app with your local environment for the svc and add the svc to our hello-world.docker-compose.yaml as well. The src/main/helm/values.yaml path refers to the values.yaml file of the svc.

```sh
npx @onecx/local-env-cli sync svc hello-world /hello-world src/main/helm/values.yaml -e /path/to/onecx-local-env
npx @onecx/local-env-cli docker hello-world create hello-world helloWorld -e /path/to/onecx-local-env -s svc
```

**Now that the services are created, the application can be run in the OneCX environment as described [here](running%5Fcustom%5Fapps%5Foverview.html#running-and-testing-applications).**

Automatic Image Build
====================
If you want to develop or test local changes, you can use Docker’s build context to build the image from your local source code each time you run `docker compose`. With the build context from your local application, Docker will automatically build the image.

To use this approach, first update your `hello-world.docker-compose.yaml` to use a `build` section instead of an image reference. Adjust the `context` to your local app path and reference the application’s Dockerfile as shown in the examples below. For the UI it would look like this:

```yaml
include:
  - docker-compose.yaml
services:
  hello-world-ui:
    # image: ${HELLO_WORLD_UI}
    build:
      context: /path/to/hello-world-ui
      dockerfile: Dockerfile
    environment:
      APP_BASE_HREF: /mfe/helloWorld/
      APP_ID: hello-world-ui
      PRODUCT_NAME: hello-world
    depends_on:
      hello-world-bff:
        condition: service_healthy
    labels:
      - traefik.http.services.hello-world-ui.loadbalancer.server.port=8080
      - traefik.http.routers.hello-world-ui.rule=Host(`local-proxy`)&&PathPrefix(`/mfe/helloWorld/`)
    networks:
      - default
    profiles:
      - base
      - hello-world
      - hello-world-ui
      - all
```

If you want to use the build context for the BFF service, it would look like this:

```yaml
...
  hello-world-bff:
    # image: ${HELLO_WORLD_BFF}
    build:
      context: /path/to/hello-world-bff
      dockerfile: Dockerfile
  ...
```

In order for the Svc to use the build context, it must be customized in the same way:

```yaml
...
  hello-world-svc:
    # image: ${HELLO_WORLD_SVC}
    build:
      context: /path/to/hello-world-svc
      dockerfile: Dockerfile
    ...
```

Now you can import the initial data in the `onecx-local-env` by running:

```sh
./import-onecx.sh
```

The corresponding application can now be built, e.g. with `npm run build` for the UI, and the `onecx-local-env` can be started and built with:

```sh
docker compose -f hello-world.docker-compose.yaml --profile base up -d --build
```

Your application will now be built and available at `<http://local-proxy/onecx-shell/admin/helloWorld/hello>` in the OneCX Shell. If you make changes in your application, you need to rebuild it with `npm run build` and restart the `onecx-local-env` with the command above.

**This method of running the application may lead to potential caching issues that could prevent changes from being reflected immediately.**

Manual Image Build
====================
To avoid caching issues and ensure the latest code is always used, it is recommended to manually build the Docker image after building your app locally. This can be done for the UI, BFF, and SVC.

First, go to your application and **remove any cache and build folders to avoid using cached images**. In the UI you should for example delete the `dist` folder and nx cache by running the following command:

```sh
rm -rf .nx/cache ./dist
```

Then you can build your application (e.g. `npm run build` for the UI) and create a local docker image with e.g.:

```sh
docker build --no-cache -t hello_world_ui_local .
```

Now in the `onecx-local-env` navigate to the .env file at the same level as your `hello-world.docker-compose.yaml`. If the .env file does not exist, please create it first. If you want to use a local image for the UI, the image name for `HELLO_WORLD_UI` should match the name you used when building the local docker image in your application. So in this case, the images would look like this:

```env
HELLO_WORLD_SVC=${DOCKER_REPO}/hello-world-svc:main-native
HELLO_WORLD_BFF=${DOCKER_REPO}/hello-world-bff:main-native
HELLO_WORLD_UI=hello_world_ui_local:latest
```

If you want to build local images for the BFF or SVC, you can update the corresponding image names in the .env file in the same way, so it would look like this for the BFF:

```env
HELLO_WORLD_SVC=${DOCKER_REPO}/hello-world-svc:main-native
HELLO_WORLD_BFF=hello_world_bff_local:latest
HELLO_WORLD_UI=${DOCKER_REPO}/hello-world-ui:main
```

and like this for the SVC:

```env
HELLO_WORLD_SVC=hello_world_svc_local:latest
HELLO_WORLD_BFF=${DOCKER_REPO}/hello-world-bff:main-native
HELLO_WORLD_UI=${DOCKER_REPO}/hello-world-ui:main
```

Now you can also import the initial data by running:

```sh
./import-onecx.sh
```

and start the service with:

```sh
docker compose -f hello-world.docker-compose.yaml --profile base up -d
```

Now the local image is used and changes in the application should be reflected under `<http://local-proxy/onecx-shell/admin/helloWorld/hello>` after rebuilding the image of the application with `docker build --no-cache -t helloworld_local .`.

If you want to your application to reflect changes immediately without rebuilding the image each time, you can set up your application for hot reloading by following these steps in the [Enable Hot Reload](enable%5Fhot%5Freload.html) section.

Running Multiple Local Apps Simultaneously
====================
You can include multiple custom apps in your docker-compose.yaml and run them simultaneously. For each app, follow the steps outlined in the [hot reloading](enable%5Fhot%5Freload.html) guide.

Note that each app needs to run on a unique port. Make sure the target port specified in the app’s `PROXY_CONFIG` is different for every app.

For each port that is used by an application, you need to add a corresponding entry in the `./init-data/traefik/traefik-services.yml` file within your `onecx-local-env`. This ensures that Traefik can route requests to the correct application based on the port. For that, you can add a new `local_mfe2` entry to the `services` and adjust the port to match the port of your application. For example, if you have two applications running on ports 4200 and 4300, the configuration would look like this:

```yaml
local_mfe:
  loadBalancer:
    servers:
    - url: "http://host.docker.internal:4200/"
local_mfe2:
  loadBalancer:
    servers:
    - url: "http://host.docker.internal:4300/"
```

Also the traefik rules in the docker-compose need to be adjusted to the right local\_mfe, so for the second app, you would need to change `local_mfe` to `local_mfe2` in the labels section of the traefik configuration in the `hello-world-bff` service:

```yaml
- "traefik.http.routers.local_mfe2.entrypoints=web"
- "traefik.http.routers.local_mfe2.rule=Host(`local-proxy`)&&PathPrefix(`/mfe/anotherApp/`)"
- "traefik.http.routers.local_mfe2.service=local_mfe2@file"
```

Now you can start both applications with `npm start` in their respective directories and restart your containers with `docker compose --profile base up -d`. Every change in either application should be reflected immediately under their respective paths, e.g., `<http://local-proxy/onecx-shell/admin/helloWorld/hello>` and `<http://local-proxy/onecx-shell/admin/anotherApp/feature>`.

Running Custom Applications in OneCX
====================
After [creating a new application](getting%5Fstarted.html), we want to run it in our local environment. This guide walks you through the process of setting up, running, testing, and removing custom applications in the OneCX environment. It covers different ways to achieve these tasks using a custom "Hello World" application as an example.

Before you begin, please ensure your local OneCX environment is already set up and running correctly. For setup instructions, refer to the [onecx-local-env documentation](https://onecx.github.io/docs/onecx-local-env/current/general/index.html). Additionally, make sure that entries for `hello-world-bff` and `hello-world-svc` are added to your system’s hosts file (`C:\Windows\System32\drivers\etc\hosts` on Windows) the same way as it was done in the [onecx-local-env setup](https://onecx.github.io/docs/onecx-local-env/current/general/getting-started.html).

## [](#application-setup)1\. Application Setup

We first need to define our application, microservice, Ui Component and register the application in our workspace. There are two main approaches to add the necessary data. You can either create the import files and update the container definitions manually, or you can use the `onecx-local-env-cli` to automate the process. The recommended method depends on how your application was created:

* If you used the OneCX generator as outlined in the [Getting Started guide](getting%5Fstarted.html), you can quickly set up your application using the `onecx-local-env-cli`. See the detailed steps here: [Application Setup using OneCX CLI](app%5Fsetup%5Fcli.html)
* If your application was created manually or lacks the Helm structure provided by the OneCX generator, you can also manually create the setup in the `onecx-local-env`: [Manual Application Setup](app%5Fsetup%5Fmanual.html).

## [](#running-and-testing-applications)2\. Running and Testing Applications

After the necessary import and docker files were created as explained in step 1, you can run and test the application in the OneCX Shell in one of the following ways.

* You can use Docker’s build context to build the image from your local application each time you run Docker Compose. With the build context specified in `docker-compose.yaml`, Docker will automatically build the image from the local Dockerfile of your application: [Automatic Image Build](image%5Fbuild%5Fautomatic.html)
* You can also manually build the Docker image from your local application and use this local image in your `onecx-local-env`. This method avoids potential caching issues that may arise when using the automatic image build: [Manual Image Build](image%5Fbuild%5Fmanual.html)

## [](#local-applications)3\. Local Applications

In addition to the methods mentioned above, you can configure your application for hot reloading to speed up development and testing.

* If you want to your application to reflect changes immediately without rebuilding the image each time and only starting the application once, you can set up your application for hot reloading: [Hot Reload](enable%5Fhot%5Freload.html)
* You can also run and test multiple local applications simultaneously: [Multiple Applications](run%5Fmultiple%5Fapps.html)

## [](#testing-changes-to-existing-onecx-core-apps)4\. Testing Changes to Existing OneCX Core Apps

You can also test changes to existing OneCX core applications in your local OneCX environment: [Testing Core Apps](testing%5Fexisting%5Fcore%5Fapps.html)

## [](#removal-of-custom-app)5\. Removal of Custom App

If you need to remove a custom app from the environment, you can do so by following the steps outlined in [Removal of Custom App](app%5Fremoval.html).

Testing Changes to Existing OneCX Core Apps
====================
If you’ve modified an existing OneCX core app (e.g., OneCX Theme UI), you can test it using the same methods available for custom applications.

You can use the same options as described in [Running and Testing Applications](running%5Fcustom%5Fapps%5Foverview.html#running-and-testing-applications):

* You can follow the [automatic image build process](image%5Fbuild%5Fautomatic.html) and use the build context in `docker-compose.yaml` to build the image from your local application each time you run Docker Compose.
* You can follow the [manual image build process](image%5Fbuild%5Fmanual.html) to build a local image in the application and adjust the .env UI variable to use your local image.
* You can set up your application for hot reloading as described in [Hot Reload](enable%5Fhot%5Freload.html) for faster development and testing.

Backend
====================
OneCX proposes the use of Quarkus for backends and offers ready-to-use solutions for containerization, monitoring and deployment.

The backend service utilizes the Quarkus framework, which is designed for building Java applications with a focus on microservices. Quarkus optimizes Java for containers and cloud-native environments, providing a lightweight and fast framework for building scalable backend services.

Quarkus is likely being used to handle HTTP requests, manage configuration, and support integration with other services or components, while maintaining a low memory footprint and fast startup times, which are essential in modern cloud and microservice architectures. It leverages features such as dependency injection, RESTful APIs, and configuration management, making it a suitable choice for building efficient backend systems.

Backend-for-frontend
====================
OneCX proposes the use of Quarkus for BFFs and offers ready-to-use solutions for security, authentication and permission checking.

OneCX Quarkus BFF provides a robust solution to implement security in a backend-for-frontend (BFF) architecture using Quarkus. The focus is on securing API endpoints and efficiently managing user access permissions to ensure proper authentication, authorization and protection of system resources. The goal is to provide a comprehensive and scalable approach to securing applications in modern web environments.

The Security & Permissions system leverages Role-Based Access Control (RBAC) to manage permissions based on user roles, allowing for fine-grained access control across various resources and endpoints. Integration with identity providers such as Keycloak or other OpenID Connect (OIDC) compliant systems ensures secure user authentication. The system verifies user credentials and assigns appropriate roles according to predefined rules. For every request, the BFF performs permission validation to confirm that the user has the necessary access rights to the requested resource, preventing unauthorized users from bypassing security measures. Additionally, the BFF enforces access control for microservices by evaluating user permissions and applying security policies at the API level. This centralized security logic simplifies the management of roles and permissions, ensuring consistent security policies throughout the application and eliminating the need to replicate logic across different services.

This approach ensures secure communication between the frontend and backend, prevents unauthorized access to critical resources, and supports scalable, flexible role-based management.

CD
====================
Project using GitOps for deployment is especially beneficial in Kubernetes environments where continuous delivery and declarative configuration are key practices. It simplifies the deployment process, improves visibility, enhances security, and helps teams maintain consistent, automated deployments across multiple clusters and environments.

CI
====================
The project employs GitHub Actions to automate various stages of their software development lifecycle, including building, testing, and deploying applications. This workflow is triggered on specific events, such as pushes to the main branch or pull requests, and is responsible for compiling the application’s code, running tests, and preparing artifacts for deployment. The workflow’s configuration specifies the sequence of steps to be executed, ensuring consistency and reliability in the build process.

The use of GitHub Actions across the OneCX organization streamlines development processes, enhances collaboration among team members, and maintains high-quality standards throughout the software development lifecycle.

Frontend
====================
## [](#overview)Overview

OneCX integrates the microfrontends on client-site. This means that the individual microfrontends are loaded separately and are joined into one website inside the browser of the user. This integration is done by the OneCX Shell.

OneCX Apps can expose two kinds of mircofrontends:

* **RemoteComponents**: These are reusable parts of the website which are independently loaded from the current URL inside a workspace e.g. the menu.
* **Microfrontends**: These are parts of the website which are loaded depending on the current URL and loaded into the main area of the website.

## [](#shell)OneCX Shell

The OneCX Shell is responsible for the client-site integration and crosscutting support tasks for the microfrontends. The OneCX Shell is free of business logic.

The support tasks of the OneCX Shell are for example:

* Handling of authentication
* Loading microfrontends at the correct point in time and displaying them at the correct location
* Providing information about  
   * Workspace configuration  
   * Currently loaded microfrontend  
   * User profile  
   * User permissions  
   * Theme
* Displaying toast messages

![shell layout](../_images/shell_layout.jpg) 

The image above shows a schematic drawing of the layout of the default shell. All boxes besides the box labeled _Microfrontend_ are so called slots in OneCX. Slots are named areas in the layout of the shell which can be configured to contain one or more _RemoteComponents_.

In the box labeled _Microfrontend_ the shell loads the microfrontend depending on the URL and URL changes.

The configuration which RemoteComponent is loaded where and which microfrontend is loaded for which URL is configured inside the _workspace_ definition which is loaded on startup of the shell based on the URL the user has opened.

The OneCX Shell assumes the following layout of the URL:

`<protocol>://<host>[:<port>]/[<path to the shell>/]<workspace name>/<microfrontend path>/<path inside the microfrontend>`

* **<path to the shell>**: This is the path under which the shell itself is reachable. It can be empty if the OneCX shell is hosted on top-level of the domain.
* **<workspace name>**: This is the configured name of the workspace definition and identifies the workspace the shell should load on startup.
* **<microfrontend path>**: This is the path prefix of a configured microfrontend inside a workspace. The OneCX Shell loads and unloads microfrontends inside the box labeled _Microfrontend_ based on this path prefix.
* **<path inside the microfrontend>**: This is the part of the URL the microfrontend itself can use to control which page inside the microfrontend is shown. This is the part of the path the _application_ developer is responsible for.

## [](#information%5Fsharing)Information sharing

As mentioned above the OneCX shell communicates with the RemoteComponents and Microfrontends. This cannot be done via shared memory inside a library because it con not be guaranteed that each part of the website uses the same version and instance of a library.

There are in general two ways to solve this issue:

* Usage shared memory inside the browser window. This makes it hard to version the communication, react to value changes and to garbage collect.
* Usage of messages/events on bowser window level.

OneCX offers a versioned decentralized publish and subscribe mechanism inside the browser window. This mechanism is used to communicate information between the parts of the website. The OneCX Shell is using it to offer its integration interface to the apps.

## [](#loading)Loading of microfrontends

When discussing Microfrontend loading mechanisms the way how to expose the microfrontend for loading is an important factor. There are two expose microfrontends in OneCX context:

* Angular lazy loaded modules
* WebComponents aka Custom Elements

The way, how a microfrontend is loaded has to be configured when registering a microfrontend in OneCX.

| |  **It is NOT recommended** to use the Angular expose method. Doing so restrains the platform from using many frameworks with different versions, which means that all Microfrontends would need to use the same technology and version as the OneCX shell. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

| |  OneCX platform uses Module Federation technology integrated with webpack to expose and load Microfrontends. Therefore, all webcomponents which are bundled in a Module Federation compatible way are loadable. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

OneCX Architecture Overview
====================
This chapter gives an overview of the fundamental architecture of OneCX.

**Core Architecture Principles**

* **Microservices- and microfrontend-based architecture**: The platform is composed of independent services that can be developed, deployed, and scaled independently.
* **Backend for frontend (BFF)**: OneCX proposes and uses the backend for frontend pattern for communication between frontend and backend.
* **API-first design**: RESTful APIs are used for communication between the frontend and backend, as well as between microservices.
* **Containerization and CI/CD**: Services are containerized using Docker, and the project uses GitHub Actions for continuous integration and continuous deployment.
* **Cloud-native architecture**: Services are designed to be deployed in cloud environments with Kubernetes for orchestration, ensuring easy scaling and high availability.

## [](#applications)Applications

To reduce testing and deployment complexity OneCX uses a concept called _application_. An _application_ is a versioned bundle of frontends, BFFs, backends. The parts of an _application_ are called _apps_. An _application_ contains all system parts of a specific subdomain (e.g. user management). The testing and deployment are always done for a complete _application_. This reduces the effort because it reduces the possible permutations which must be considered.

## [](#workspaces)Workspaces

In OneCX a workspace is a set of settings for a portal for a subset of the users or for a special purpose, e.g. there could be a workspace focusing on administrating the system or one focusing on sales. The number of workspaces in the system is not limited.

A workspace contains the following settings:

* Name
* Path to identify the workspace from the URL
* Theme
* Menu
* List of selected applications from the pool of available applications with  
   * Path inside the workspace  
   * [Slot configuration](frontend.html#shell)

OneCX Microfrontends
====================
## [](#overview)Overview

A Microfrontend is a OneCX App, often considered as a UI App, which is a part of the OneCX Application. It is responsible for exposing modules and Remote Components via a remote entry file that can be used by other UI Apps. The difference between the standard UI application and a Microfrontend is that Microfrontend is never accessed directly, but instead used by the host application.

## [](#why-microfrontends)Why Microfrontends

To precisely explain the purpose of using Microfrontends, it is crucial to become familiar with the client-side perspective of each Microfrontend.

### [](#microfrontend-clients)Microfrontend Clients

As previously stated, each Microfrontend is exposing a remote entry file that can be accessed by any UI App. This remote entry file should contain all the data required to display the desired pieces of user interface. In the context of OneCX platform, this file should expose the following types of content:

* **Module**: During workspace construction, the Shell creates routing rules and associates a module, from the remote entry file, with a specific route. Whenever a user navigates to that route, the module is loaded using the remote entry file to display desired content in the content pane of the page.
* **Remote Component**: A component exposed via remote entry file is loaded onto a page on demand using Slot Component.

Module type is suited for displaying whole UI modules containing many pages and its own routing rules, whereas Remote Component is suited for smaller pieces of UI, which are easily replaceable and reusable within the platform. It is important to know that **Remote Components and Modules are both exposed via a Microfrontend through a remote entry file**. More on the topic of Remote Components can be found [here](remote-components.html).

### [](#scaled-agile)Scaled Agile

The main reason for using the Microfrontends approach is to allow teams to develop user interfaces in a scaled agile manner. It is best suited for large organizations that want to create user interfaces using many independent teams. In such cases, it is not possible to develop a UI monolith application efficiently. With the Microfrontends approach, OneCX platform is delivering a solution to allow those teams to work on their own pieces of user interfaces while preserving a common ground and allowing them to easily integrate with each other.

In OneCX platform context, a Microfrontend is part of the Application which can be integrated using OneCX Core Applications in a matter of seconds and customized depending on the users needs. Each Microfrontend is independent of others and can be responsible for a subset of the functionalities needed for the organization. The technical details of the displayed content within a Module or Remote Component exposed via Microfrontend are only relevant for the developers responsible for that Application.

## [](#exposing-user-interfaces)Exposing User Interfaces

The mechanism of displaying Microfrontend’s content dynamically in OneCX platform context is related to the content type and expose method. In the previous section, differences between content types were explained. In terms of the expose method, there are 2 options:

* **Angular**: Angular components and modules are exposed.
* **Webcomponent**: Components and modules are wrapped as Web Components and then exposed.

| |  **It is NOT recommended** to use the Angular expose method. Doing so restrains the platform from using many frameworks with different versions, which means that all Microfrontends would need to use the same technology and version. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

For more information about [Microfrontend content loading](../../implementation-details/microfrontend-content-loading.html), please refer here.

## [](#useful-resources)Useful Resources

* [Microfrontend idea](https://www.angulararchitects.io/en/blog/the-microfrontend-revolution-module-federation-in-webpack-5/)
* [OneCX Remote Components](remote-components.html)
* OneCX Microfrontend with angular
* [Module Federation](https://webpack.js.org/concepts/module-federation/)
* [Web Components](../../implementation-details/webcomponents.html)

OneCX Remote Components
====================
## [](#overview)Overview

Exposing user interfaces via a Microfrontend requires a remote entry file, which is later used by the host application to display content on the page. OneCX Remote Component is a piece of user interface representing a single UI component exposed via a remote entry file by a single Microfrontend.

## [](#remote-components-concept)Remote Components Concept

With OneCX platform the go-to method for exposing complete user interfaces is to expose complete modules via Microfrontend’s remote entry file. However, there might be cases in which some components developed within one Application might be useful for other Applications.

The concept of Remote Components extends the concept of Microfrontends by focusing on both scaled agile and reusability. A Remote Component will always be owned by a specific Microfrontend, but can be used in any desired place (Shell, Microfrontend’s module, another Remote Component). The mechanism of Remote Components display will make more sense once OneCX Slots are explained.

## [](#remote-components-value)Remote Components Value

The implementation details of a Remote Component are located in a specific Microfrontend’s source code. The client side of that Remote Component does not need to prepare additional technical code, which means that they are implemented once and maintained in a single place. With Remote Components it is easy to share the technical implementation details from one Application to another.

For example, Remote Components might come in handy when your Applications require the ability to change the current user’s password via a button. In that scenario, the User Profile UI would expose a Remote Component that implements such functionality, and other Applications with that requirement would use it in the desired place to allow users to change their password. Technical details on how the password change is handled would be in a single place, and all Applications using the Remote Component will not need to take care of that matter.

## [](#onecx-slot)OneCX Slot

Every Remote Component requires a host to be displayed within a page. OneCX Slots are the elements fulfilling this role. To use a Remote Component it is necessary to first implement and expose it via a Microfrontend remote entry file and then create and confiure a OneCX Slot in which it should be displayed.

### [](#onecx-slot-definition)OneCX Slot Definition

OneCX Slot is a standard component used in the HTML content templates. It uses current workspace information to determine what content should be loaded inside the Slot. Slots themselves do not have any content, and their only purpose is to render Remote Components that are assigned to them. With OneCX Slots it is easy to reuse components and dynamically change the content displayed on the pages.

### [](#slot-mechanism)Slot Mechanism

Whenever it is desired to display a Remote Component, a Slot is needed to act as a host element for it. For OneCX Core Applications, there are existing Slots, which can be used to configure displayed content (especially Shell Application’s Slots).

To create a Slot the following requirements have to be fulfilled:

* Register Slot in Application Store: Slot needs to be registered via the Application Store.
* Use Slot in HTML template: Slot needs to be used in the HTML template of Microfrontend’s content.
* Unique name: Slot requires having a unique name property to be recognizable.

To assign a Remote Component to a Slot the following requirements have to be fulfilled:

* Prerequisites  
   * Slot has to be created.  
   * A Remote Component has to be exposed by the provider Application’s Microfrontend.  
   * Both provider and consumer Application need to be registered for a Workspace.
* Register Slot in Workspace: Slot needs to be registered for a Workspace that will be using it via Workspace Management.
* Assign Remote Component to Slot: a Remote Component needs to be assigned to a Slot for a Workspace that will be using it via Workspace Management.

#### [](#remote-component-loading)Remote Component loading

Modules exposed by a Microfrontend are loaded by the Shell Application’s UI App using routing rules. With Remote Components this responsibility is on OneCX Slot. Here is a quick overview of steps happening when Remote Components are being loaded:

1. On initial page load, Shell UI gathers Remote Components and Slots data and passes it to a [Topic](#latest@documentation:javascript:libraries/integration-interface.adoc#topics).
2. Slot Component:  
   1. is rendered within a page.  
   2. reads the data passed down via a [Topic](#latest@documentation:javascript:libraries/integration-interface.adoc#topics) and fills out its content.  
         1. checks for registered Remote Components.  
         2. creates Remote Components and renders them inside itself.  
         3. runs the initialization function of each Remote Component.  
   3. listens to Input and Output changes and passes the data to registered Remote Components.

For more information about [Microfrontend content loading](../../implementation-details/microfrontend-content-loading.html), please refer here.

## [](#useful-resources)Useful Resources

* [Microfrontend idea](https://www.angulararchitects.io/en/blog/the-microfrontend-revolution-module-federation-in-webpack-5/)
* OneCX Microfrontend
* [Module Federation](https://webpack.js.org/concepts/module-federation/)
* OneCX Remote Component with Angular

OneCX Shell
====================
## [](#overview)Overview

OneCX Shell is the heart of the OneCX platform. It’s the most important OneCX core Application that glues together all Applications and makes the platform seem like a single page application. Without the Shell running, there will be nothing for users to use.

## [](#application-bundle)Application Bundle

Below is a list of apps the Shell Application consists of:

* UI - user interface app which renders the platform overlay and is responsible for routing between applications
* BFF - backend for frontend app connecting with OneCX core applications SVCs to construct workspaces

## [](#application-responsibilities)Application Responsibilities

The Shell Application is a special case of OneCX Application. It is a host for Microfrontends within the platform. The list of its responsibilities is the following:

* client-side workspace construction
* routing and remotes loading
* workspace and user data sharing

### [](#client-side-workspace-construction)Client-side Workspace Construction

OneCX platform is operating on the idea of workspaces. Each workspace can have many applications registered and can be customized to its users' needs via custom menu configuration, page theming and many more possibilities. To construct a valid workspace, the following operations happen:

1. **Shell BFF gathers workspace information**. Data required to construct a valid workspace to function on the platform is saved in several databases. These can be reached using the backend services of OneCX Core Applications. Shell BFF connects with them and gathers all required information in a single response.
2. **Shell UI constructs routing rules** for a given workspace based on the data fetched by Shell BFF.

### [](#routing-and-loading-remote-modules)Routing and Loading Remote Modules

When Shell UI is finished with workspace construction, its next responsibility is to **react to routing changes and load Microfrontends' exposed modules** into the page. To achieve that, Shell UI App is using [@angular-architects/module-federation](https://www.npmjs.com/package/@angular-architects/module-federation), which allows loading remote entries at runtime. In this way, on a valid routing operation, the Shell UI App will load the exposed Microfrontend’s module and display it in the content pane of the page.

| |  Shell is responsible for loading Microfrontend’s modules only. To learn more, please refer to the [Microfrontend content loading document](../../implementation-details/microfrontend-content-loading.html). |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#workspace-and-user-data-sharing)Workspace and User Data Sharing

When Shell UI App receives the workspace and current user data from the backend, it makes sure that this data is available for any Microfrontend’s content. This data is passed on by the Shell UI App to Topics.

A Topic is a similar concept to an Observable, but it can be used to pass data between the UI Apps using browser memory. It is a concept implemented in OneCX. A more in-depth explanation of it can be found here. For Angular-based Microfrontends, services in the [@onecx/angular-integration-interface](#latest@documentation:angular:libraries/angular-integration-interface.adoc) package might be useful during the development. They are operating on [Topics](#latest@documentation:javascript:libraries/integration-interface.adoc#topics) that contain information passed along by the Shell UI App.

Having data in browser memory via [Topics](#latest@documentation:javascript:libraries/integration-interface.adoc#topics) gives Microfrontend’s content direct access to information about the workspace and current user. Information passed on by the Shell UI App contains the following information:

* details of current workspace
* Remote Components and Slots registered for the current workspace
* the current user’s personal information, settings (such as language or locale), permissions
* currently accessed Application data (information available after Application’s Microfrontend gets loaded)

Any Microfrontend’s content can then utilize this data and act on it with the possibility to react to data changes.

## [](#useful-resources)Useful Resources

* [Architecture overview](index.html)
* [OneCX Microfrontends](mfe.html)
* [OneCX Remote Components](remote-components.html)
* [@onecx/integration-interface](#latest@documentation:javascript:libraries/integration-interface.adoc)
* [@onecx/angular-integration-interface](#latest@documentation:angular:libraries/angular-integration-interface.adoc)
* [Module Federation](https://webpack.js.org/concepts/module-federation/)

OneCX Documentation
====================
## [](#overview)Overview

The OneCX Smart Factory Platform is an innovative open-source solution designed to build and personalize digital workspace solutions for enterprises. It enhances enterprise agility and fosters collaboration across multiple teams and organizations. The platform is built on three main pillars: the Enterprise Application Store, Workspace Management, and the Shell.

The OneCX Smart Factory Platform addresses the need for a unified digital workspace in today’s fast-paced business environment. By leveraging cloud-native applications and a MACH architecture (Microservices, API-first, Cloud-native, and Headless), it allows businesses to adapt quickly to changing market conditions, accelerating time-to-market and enabling rapid adaptation of business processes. The platform supports the modernization of legacy systems through an agile and evolutionary architecture, allowing gradual transitions without the need for a disruptive overhaul.

### [](#background-and-challenges)Background & Challenges

In recent years we have seen that many companies and their partners are relocating their corporate IT to the **cloud**.

Companies see the following advantages in a public **cloud strategy**:

* **Scalability** \- the ability to scale on demand
* **Time-to-Market** \- it is expected, that cloudification, **Microservice Architecture** and DevOps will speed up, thus accelerating the delivery of new services. Instead of delivering in Months/Years-time the expectation is to deliver in Days/Weeks.
* **Automation** in all areas

Companies are adopting ways of working and changing their organizational structure to support an **agile architecture** “that supports the active, evolutionary design and architecture of a system. This approach embraces the DevOps mindset and allows the architecture of a system to continuously evolve over time while meeting the needs of current users.” © Scaled Agile, Inc

![agile architecture](_images/agile_architecture.png) 

Especially in large programs, multiple teams work separately to deliver different microservices-based applications to ensure a great digital customer experience across all channels and stages of the customer lifecycle without overhead and delays.

![ci cd](_images/ci_cd.png) 

OneCX Platform’s essential principles are designed to foster innovation, efficiency, and sustainability, ensuring a seamless and user-centric experience.

* **Agile Architecture**: Enables multiple teams to work independently on different solutions or products, reducing time to market and providing a competitive advantage.
* **Container-First Approach**: Utilizes Kubernetes-native applications combined with a MACH architecture for quick adaptation to market changes, accelerating time-to-market and new feature delivery.
* **Full-Stack Solution Management**: Manages frontend, backend-for-frontend (BFF), and backend services, ensuring seamless integration and consistent performance.
* **Building Block-like Workspace Configuration**: Encourages the use of reusable backend and frontend components, making it easy to assemble and reconfigure solutions.
* **User-Centric Approach**: Focuses on delivering intuitive and engaging user experiences, incorporating user feedback and usability testing.
* **Mobile-First Design**: Prioritizes mobile optimization for enhanced accessibility and usability.
* **Developer’s Joy**: Provides comprehensive documentation, intuitive APIs, and robust tools for a productive development experience.
* **Efficiency and Automation**: Enhances operational efficiency through automation, integrating DevOps practices for continuous delivery.
* **Sustainability**: Emphasizes eco-friendly development practices, ensuring long-term viability and relevance.

## [](#onecx-core-pillars)OneCX Core Pillars

![onecx pillars](_images/onecx_pillars.png) 

### [](#enterprise-application-store)Enterprise Application Store

A repository for custom-built and third-party software solutions, offering out-of-the-box accelerator solutions and enterprise custom-built solutions. It functions like a marketstore for discovering and integrating third-party applications and services.

![application store](_images/application_store.png) 

### [](#workspace-management)Workspace Management

Facilitates the creation of workspaces tailored to different personas or user roles, ensuring relevant tools and services are accessible to the right users. Configures menu items and workspace features to enhance security and usability.

![workspace](_images/workspace.png) 

### [](#portal-shell)Portal Shell

Provides a unified interface and orchestration layer, ensuring a consistent look and feel across all integrated solutions. Coordinates the interaction between various Microfrontends (MFEs) for seamless integration and functionality.

![shell](_images/shell.png) 

### [](#onecx-core-features-or-solutions)OneCX Core Features or Solutions

![features](_images/features.png) 

The picture illustrates the core features of the OneCX solutions

* **Enterprise Application Store**
* **Workspace Management**
* **Portal Shell**
* **Tenant Management**: Handles multiple tenants within the platform.
* **Roles & Permission Management**
* **Welcome Page**: Provides a customizable landing page.
* **Personalization User Profile Management**: Manages user profiles and preferences.
* **Announcements Management**: Allows for independent push notifications.
* **Help Management**
* **Theme Management**
* **Favorites/Bookmark Management**: Allows users to manage their favorite applications and tools.
* **System Parameter Management**: Manages system parameters for consistent configurations
* **IDM Integration**: Integrates identity management solutions like Keycloak and OpenID.
* …

## [](#initiators-contributors-and-partners)Initiators, Contributors & Partners

OneCX is an integral part of the tkit.org open-source project, established in 2004, which includes both technical and business accelerators. The entire accelerator stack has been redesigned with a modern, MACH-compatible architecture. All supporting business features are consolidated in a default admin workspace, providing operational transparency and support features.

The project was initiated by Dr. Stefan Tausendpfund and Trian Kirtzakis, who currently co-lead as CTOs. Key contributors include Milan Horvath, Jan-Gerrit Schettler-Köhler, Andrej Petras, Matus Majchrak and Henry Täschner, among others.

We also thank our partners, Samir Dorhmi, Stephan Weber, and Roland Schier, for their excellent feedback, which has been instrumental in delivering high-quality solutions.

## [](#oss-and-apache-license)OSS and Apache License

The OneCX SmartFactory Platform is open-source software (OSS), which means its source code is freely available for anyone to use, modify, and distribute. [It is licensed under the Apache License 2.0, a permissive open-source license that provides users with significant freedom while also protecting the rights of the original authors](https://vladimirgorej.com/blog/how-to-apply-apache2-license-to-your-open-source-software-project/).

The Apache License 2.0 allows you to:

* Use the software for any purpose.
* Distribute the software.
* Modify the software and distribute your modifications.
* Sublicense the software under different terms.

However, it also requires that:

* You include a copy of the license in any distribution.
* You provide clear attribution to the original authors.
* [You do not use the trade names, trademarks, service marks, or product names of the original authors without permission](https://vladimirgorej.com/blog/how-to-apply-apache2-license-to-your-open-source-software-project/).

### [](#links)Links

Demo OneCX Links:

* <https://dev.one-cx.org/newShell/admin/workspace>
* <https://nshop-dev.test.1000kit.net/ui/product-configurator?M=10872D82A2>

OneCX Microfrontend Content Bootstrapping
====================
## [](#overview)Overview

Bootstrapping a Microfrontend involves setting up the initial structure and configuration for a Microfrontend application. This process typically includes creating the necessary directories, installing dependencies, and configuring the build tools to ensure that the Microfrontend can run independently and integrate with other Microfrontends or a shell application.

This document aims to explain the details related to Microfrontend’s content bootstrapping. Depending on the content’s type and expose method, there are different requirements needed to be fulfilled to ensure the content is loaded correctly by OneCX platform elements. This topic is highly related to [Microfrontend content loading](microfrontend-content-loading.html) and [Microfrontend configuration with Webpack](webpack.html). It is recommended to be familiar with those before reading this document.

## [](#microfrontend-content-bootstrapping-explained)Microfrontend Content Bootstrapping Explained

[Microfrontend content loading](microfrontend-content-loading.html) is an action triggered by the route change (Shell Application’s responsibility of loading modules) or by the Slot Component display (Slot Component’s responsibility of loading Remote Components). During this action, Microfrontend’s content, exposed via remote entry file, is loaded and bootstrapped using the provided file in [Webpack configuration](webpack.html).

Depending on the content type and chosen expose method, different adjustments have to be made to ensure correct content bootstrapping.

### [](#content-exposed-using-angular-method)Content Exposed Using Angular Method

| |  **It is NOT recommended** to use the Angular expose method. Doing so restrains the platform from using many frameworks with different versions, which means that all Microfrontends would need to use the same technology and version. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

When exposing modules and Remote Components using the Angular method, there are two requirements:

1. Webpack configuration needs to expose the module or component file directly. It means that instead of pointing to a **main.ts** file that is bootstrapping the content, **module.ts** and **component.ts** files should be used directly.
2. The **main.ts** file of Microfrontend’s modules (content type) needs to bootstrap the module asynchronously.  
**main.ts** content should look similar to:  
```typescript  
import('./bootstrap').catch(err => console.error(err));  
```  
**bootstrap.ts** content should look similar to (or any custom bootstrap of your Microfrontend):  
```typescript  
import { AppModule } from './app/app.module';  
import { environment } from './environments/environment';  
import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';  
import { enableProdMode } from '@angular/core';  
if (environment.production) {  
  enableProdMode();  
}  
platformBrowserDynamic().bootstrapModule(AppModule)  
  .catch(err => console.error(err));  
```

### [](#content-exposed-using-webcomponent-method)Content Exposed Using Webcomponent Method

[Loading mechanism for modules and Remote Components exposed using Webcomponent method](webcomponents.html#onecx-angular-webcomponents) requires that content is adapted to using Web Components Custom Elements. For both content types, bootstrapping logic needs to register a Custom Element in the Custom Elements Registry.

| |  For Angular-based content, apart from Custom Element registration, it is also required to cover a few Angular-related issues. For more information on those issues, please refer [here](webcomponents.html#angular-issues). |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

It is recommended to use the [@onecx/angular-webcomponents](webcomponents.html#onecx-angular-webcomponents) library to bootstrap Microfrontend’s content using its exposed methods. This library will be used in the examples throughout this document.

#### [](#module-bootstrapping-and-configuration)Module Bootstrapping and Configuration

The following requirements need to be fulfilled when exposing modules using the Webcomponent method:

1. Webpack configuration needs to expose the **main.ts** file of the module.
2. The **main.ts** file of the module needs to bootstrap the module asynchronously.
3. Module bootstrapping has to cover [Angular issues](webcomponents.html#angular-issues) (for Angular-based modules only)
4. Module class  
   1. needs to register an entry point as a Custom Element in the Custom Elements Registry.  
   2. needs to adapt routing so Shell registers routing happening within the module.  
   3. needs to adapt configuration, so services are using correct URLs to external resources.

Below, a module setup example (Angular-based) for using the Webcomponent expose method is presented. Each file’s content is going to be explained in detail, with important context information for technologies other than those presented.

webpack.config.js

```typescript
const config = withModuleFederationPlugin({
  name: 'example-ui',
  filename: 'remoteEntry.js',
  exposes: {
    './ExampleModule': './src/main.ts'
  },
  ...
})
```

Webpack configuration is exposing a **main.ts** file.

src/main.ts

```typescript
import('./bootstrap').catch((err) => console.error(err))
```

The **main.ts** file is importing (asynchronously) the **bootstrap.ts** file.

src/bootstrap.ts

```typescript
import { bootstrapModule } from '@onecx/angular-webcomponents'
import { environment } from './environments/environment'
import { ExampleModule } from './app/module'

bootstrapModule(ExampleModule, 'microfrontend', environment.production)
```

The **bootstrap.ts** file is bootstrapping the module using @onecx/angular-webcomponents library to ensure that [Angular ngZone and platform are shared](webcomponents.html#angular-issues) (Angular requirement only). For other technologies, simply call any asynchronous bootstrap function required.

src/app/module.ts

```typescript
import { HttpClient, provideHttpClient, withInterceptorsFromDi } from '@angular/common/http'
import { APP_INITIALIZER, DoBootstrap, Injector, NgModule } from '@angular/core'
import { Router, RouterModule, Routes } from '@angular/router'
import { BrowserModule } from '@angular/platform-browser'
import { BrowserAnimationsModule } from '@angular/platform-browser/animations'
import { CommonModule } from '@angular/common'
import { MissingTranslationHandler, TranslateLoader, TranslateModule } from '@ngx-translate/core'
import {
  AppStateService,
  ConfigurationService,
  createTranslateLoader,
  PortalCoreModule,
  PortalMissingTranslationHandler,
  PortalApiConfiguration,
} from '@onecx/portal-integration-angular'
import { AngularAuthModule } from '@onecx/angular-auth'
import { createAppEntrypoint, initializeRouter, startsWith } from '@onecx/angular-webcomponents'
import { addInitializeModuleGuard } from '@onecx/angular-integration-interface'
import { Configuration } from './shared/generated'

@Component({
  selector: 'app-root',
  template: `<router-outlet></router-outlet>`
})
export class AppEntrypointComponent {}

export const routes: Routes = [
  {
    matcher: startsWith(''),
    loadChildren: () => import('./feature/feature.module').then((mod) => mod.FeatureModule)
  },
  {
    matcher: startsWith('tracking'),
    loadChildren: () => import('./tracking/tracking.module').then((mod) => mod.TrackingModule)
  }
]

function apiConfigProvider(configService: ConfigurationService, appStateService: AppStateService) {
  return new PortalApiConfiguration(Configuration, environment.apiPrefix, configService, appStateService)
}

@NgModule({
    declarations: [AppEntrypointComponent],
    imports: [
        CommonModule,
        PortalCoreModule.forMicroFrontend(),
        RouterModule.forRoot(addInitializeModuleGuard(routes)),
        TranslateModule.forRoot({
        extend: true,
        isolate: false,
        loader: {
            provide: TranslateLoader,
            useFactory: createTranslateLoader,
            deps: [HttpClient, AppStateService]
        },
        missingTranslationHandler: {
            provide: MissingTranslationHandler,
            useClass: PortalMissingTranslationHandler
        }
        }),
        BrowserModule,
        AngularAuthModule,
        BrowserAnimationsModule,
    ],
    exports: [],
    providers: [
        {
            provide: Configuration,
            useFactory: apiConfigProvider,
            deps: [ConfigurationService, AppStateService]
        },
        {
            provide: APP_INITIALIZER,
            useFactory: initializeRouter,
            multi: true,
            deps: [Router, AppStateService]
        },
        provideHttpClient(withInterceptorsFromDi())
    ]
})
export class ExampleModule implements DoBootstrap {
    constructor(private readonly injector: Injector) {}

    ngDoBootstrap(): void {
        createAppEntrypoint(AppEntrypointComponent, 'example-webcomponent', this.injector)
    }
}
```

#### [](#remote-module-example-deep-dive)Remote Module Example Deep Dive

The **module.ts** file prepares the module for integration with the OneCX platform.

This example showcases the recommended approach of defining modules (Angular-based) using the Webcomponent method. Here is a list of important features of this example:

Module imports

* CommonModule, BrowserModule and BrowserAnimationsModule Angular modules used for adding functionality to the module.
* PortalCoreModule is defined to allow usage of OneCX components and services.
* TranslateModule is defined to allow translations using translation keys within the module.
* AngularAuthModule is defined to use OneCX authorization mechanisms.
* RouterModule is defined for routing to feature modules within the exposed module.

Entrypoint component

AppEntrypoint is a standard Angular component that has a `<router-outlet>` element in its template. The [createAppEntrypoint](webcomponents.html#create-app-entrypoint) registers AppEntrypointComponent in the Custom Elements Registry, so anytime '<example-webcomponent>' is rendered, AppEntrypointComponent should be instantiated.

The third parameter, being the module’s Injector, is very important. This injector will be used by the instances of AppEntrypointComponent rendered using Web Components technology, meaning that each instance will have everything related to the module already set up. That also means the `<router-outlet>` will be using routes defined for the module.

The [createAppEntrypoint](webcomponents.html#create-app-entrypoint) method is also responsible for connecting the module’s router to the Shell’s router. Every time the URL of the browser changes, the Shell is going to publish a new message, via [EventsTopic](#latest@documentation:javascript:libraries/integration-interface.adoc#events-topic), with information about the new URL. The `createAppEntrypoint` method subscribes to the [EventsTopic](#latest@documentation:javascript:libraries/integration-interface.adoc#events-topic) and updates the router state accordingly to the received information.

| |  For technologies other than Angular, it is recommended to: register a Custom Element in the Custom Elements Registry. provide dependencies to registered Custom Element according to the module. listen to [EventsTopic](#latest@documentation:javascript:libraries/integration-interface.adoc#events-topic) data changes and update the state of the module’s routing. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Routes matching

Each defined route will load a feature module whenever it is activated. Because the Webcomponent expose method causes multiple routers to exist at the same time (Shell has its own router and every module or Remote Component displayed at a single point in time can have their own), an adjustment to the routes definition has to be made.

The idea of routing in this example is the following:

* User enters 'shell\_url/workspace\_name/example\_base\_path' URL - FeatureModule is used.
* User enters 'shell\_url/workspace\_name/example\_base\_path/tracking' URL - TrackingModule is used.

With the following URL parts meaning:

* `shell_url` \- the Shell Application deployment URL, e.g. `localhost:4200/shell.`
* `workspace_name` \- name of the accessed Workspace, e.g. `admin`.
* `example_base_path` \- base path of the example Microfrontend (configured via OneCX Core Applications), e.g. `example`.

Prior to routing within Microfrontend’s module, the Shell uses shell\_url, workspace\_name and example\_base\_path parts of the URL to load the module. Because of this fact, the module’s router needs to remove those parts from consideration when matching its routes. Usually, the `path` property of the route is used to control the route activation, but in that case, the Microfrontend’s module needs a way to only match the relevant part of the URL.

Using the [startsWith](webcomponents.html#starts-with) function from [@onecx/angular-webcomponents](webcomponents.html#onecx-angular-webcomponents) for the [matcher](https://angular.dev/api/router/UrlMatcher) property of a route object results in the router considering only those URL parts relevant to the module. In order for it to work properly, the [initializeRouter](webcomponents.html#initialize-router) provider has to be added for the module as an app initializer.

During module creation [initializeRouter](webcomponents.html#initialize-router):

* adds Microfrontend information (based on [CurrentMfeTopic](#latest@documentation:javascript:libraries/integration-interface.adoc#current-mfe-topic)) to each route.
* rewrites routes containing `redirectTo` for correct redirection.
* creates a new route (used when routing away from the module):  
   * matched when none of the defined routes were matched.  
   * displays nothing (for a period of time when the user routes between Microfrontends).

The [startsWith](webcomponents.html#starts-with) method uses Microfrontend information, saved in the route’s data, to remove already used parts from consideration when matching routes within the module.

To create your own matchers, please consider using the [@onecx/angular-webcomponents](webcomponents.html#onecx-angular-webcomponents) library.

| |  For technologies other than Angular, it is recommended to: Use Microfrontend information from [CurrentMfeTopic](#latest@documentation:javascript:libraries/integration-interface.adoc#current-mfe-topic) to only use relevant parts of the URL for routing and redirecting correctly. Ensure routing away from the module is not causing side effects. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Configuration

All services utilizing HttpClient used within the Microfrontend’s module need to know how to make requests to external resources. Depending on the configuration of the Workspace, they need to take that context into consideration when creating a URL for those resources.

A service might want to call `deployment_url/bff/search` by default. With this call being made, the MFE App will need to access the BFF. When the Application’s path within the Workspace is `mfe/example` the call has to be made to `deployment_url/mfe/example/bff/search`.

The `apiConfigProvider` presented in the example is utilizing the `PortalApiConfiguration` class as `Configuration` for the services. It is listening for the [CurrentMfeTopic](#latest@documentation:javascript:libraries/integration-interface.adoc#current-mfe-topic) changes and overwriting the basePath accordingly to the received message, and all services use that information to construct a valid URL.

| |  For technologies other than Angular, it is recommended to: Listen to [CurrentMfeTopic](#latest@documentation:javascript:libraries/integration-interface.adoc#current-mfe-topic) changes and overwrite services configuration to ensure the correct resource is accessed. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

#### [](#remote-component-bootstrapping-and-configuration)Remote Component Bootstrapping and Configuration

The following requirements need to be fulfilled when exposing Remote Components using the Webcomponent method:

1. Webpack configuration needs to expose the **main.ts** file of the Remote Component.
2. The **main.ts** file of the Remote Component needs to bootstrap the component asynchronously.
3. Component bootstrap  
   1. has to cover [Angular issues](webcomponents.html#angular-issues) (for Angular-based Remote Components only).  
   2. needs to register the component as a Custom Element in the Custom Elements Registry.  
   3. needs to adapt routing so Shell registers routing happening within the Remote Component.
4. Component class needs to use the Remote Component initialization mechanism.

Below is an example of setting up a Remote Component in Angular using the Webcomponent expose method. Each file’s content is going to be explained in detail, with important context information for technologies other than those presented.

webpack.config.js

```typescript
const config = withModuleFederationPlugin({
  name: 'example-ui',
  filename: 'remoteEntry.js',
  exposes: {
    './ExampleComponent': './src/app/remotes/example/example.component.main.ts'
  },
  ...
})
```

Webpack configuration is exposing an **example.component.main.ts** file.

src/app/remotes/example/example.component.main.ts

```typescript
import('./example.component.bootstrap').catch((err) => console.error(err))
```

The **example.component.main.ts** file is importing (asynchronously) the **example.component.bootstrap.ts** file.

src/app/remotes/example/example.component.bootstrap.ts

```typescript
import {
  HttpClient,
  provideHttpClient,
  withInterceptorsFromDi,
} from '@angular/common/http';
import {
  APP_INITIALIZER,
  importProvidersFrom
} from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { BrowserAnimationsModule } from '@angular/platform-browser/animations';
import { AngularAuthModule } from '@onecx/angular-auth';
import { bootstrapRemoteComponent } from '@onecx/angular-webcomponents';
import {
  createRemoteComponentTranslateLoader,
  UserService
} from '@onecx/portal-integration-angular';
import { environment } from 'src/environments/environment';
import { ExampleComponent } from './example.component';
import {
  BASE_URL,
  provideTranslateServiceForRoot,
} from '@onecx/angular-remote-components';
import { TranslateLoader } from '@ngx-translate/core';
import { ReplaySubject } from 'rxjs';

function userProfileInitializer(userService: UserService) {
  return async () => {
    await userService.isInitialized;
  };
}

bootstrapRemoteComponent(
  ExampleComponent,
  'example-remote-component',
  environment.production,
  [
    provideHttpClient(withInterceptorsFromDi()),
    {
      provide: BASE_URL,
      useValue: new ReplaySubject<string>(1),
    },
    provideTranslateServiceForRoot({
      isolate: true,
      loader: {
        provide: TranslateLoader,
        useFactory: createRemoteComponentTranslateLoader,
        deps: [HttpClient, BASE_URL],
      },
    }),
    importProvidersFrom(
      AngularAuthModule,
      BrowserModule,
      BrowserAnimationsModule,
    ),
    {
      provide: APP_INITIALIZER,
      useFactory: userProfileInitializer,
      deps: [UserService],
      multi: true,
    },
  ]
)
```

The **example.component.bootstrap.ts** file is bootstrapping the Remote Component using [@onecx/angular-webcomponents](webcomponents.html#onecx-angular-webcomponents) library to ensure that [Angular ngZone and platform are shared](webcomponents.html#angular-issues) (Angular requirement only). It also connects the Shell router with the Remote Component’s router (if such exists). The last argument is an array of providers required for the component to work properly. A detailed description of this file can be found in the [\[summary\]](#summary).

src/app/remotes/example/example.component.ts

```typescript
import { CommonModule, Location } from '@angular/common';
import { Component, Inject, Input } from '@angular/core';
import { TranslateModule, TranslateService } from '@ngx-translate/core';
import { AngularAuthModule } from '@onecx/angular-auth';
import {
  UserService
} from '@onecx/angular-integration-interface';
import {
  AngularRemoteComponentsModule,
  BASE_URL,
  ocxRemoteComponent,
  ocxRemoteWebcomponent,
  RemoteComponentConfig,
} from '@onecx/angular-remote-components';
import {
  PortalCoreModule
} from '@onecx/portal-integration-angular';
import { ReplaySubject } from 'rxjs';
import { environment } from 'src/environments/environment'

@NgModule({
  imports: [
    PortalCoreModule.forMicroFrontend()
  ]
})
export class SharedModule {}

@Component({
  standalone: true,
  imports: [
    AngularAuthModule,
    AngularRemoteComponentsModule,
    CommonModule,
    SharedModule,
    PortalCoreModule,
    TranslateModule,
  ],
  selector: 'example-comp',
  template: `<h>Hello from Remote Component</h>`,
})
export class ExampleComponent
  implements ocxRemoteComponent, ocxRemoteWebcomponent
{
  permissions: string[] = [];

  constructor(
    @Inject(BASE_URL) private readonly baseUrl: ReplaySubject<string>,
    private readonly userService: UserService,
    private readonly translateService: TranslateService,
    private readonly exampleService: ExampleAPIService
  ) {
    this.translateService.use(this.userService.lang$.getValue());
  }

  @Input() set ocxRemoteComponentConfig(config: RemoteComponentConfig) {
    this.ocxInitRemoteComponent(config);
  }

  ocxInitRemoteComponent(config: RemoteComponentConfig): void {
    this.baseUrl.next(config.baseUrl);
    this.permissions = config.permissions;
    this.exampleService.configuration = new Configuration({
      basePath: Location.joinWithSlash(config.baseUrl, environment.apiPrefix)
    })
  }
}
```

#### [](#remote-component-example-deep-dive)Remote Component Example Deep Dive

The **example.component.ts** file prepares the Remote Component for integration with the OneCX platform.

This example showcases the recommended approach to define Remote Components (Angular-based) using the Webcomponent method. Here is a list of important features of this example:

Component bootstrap

Remote Components are better suited for integration with the Web Components Custom Elements concept. The biggest reason for this is that a Remote Component already represents a component, meaning that there is no need to define any additional entry point component (like what was done for module content type).

The [bootstrapRemoteComponent](webcomponents.html#bootstrap-remote-component) method is bootstrapping the Remote Component. It is responsible for:

Creating application

As a first step, the [bootstrapRemoteComponent](webcomponents.html#bootstrap-remote-component) method is going to create an Angular application. The created application will use defined providers (argument of [bootstrapRemoteComponent](webcomponents.html#bootstrap-remote-component)). In this example, the following providers are defined:

* HttpClient (via provideHttpClient) - used for making HTTP calls.
* TranslateService (via provideTranslateServiceForRoot) - used for making translations via translation keys.
* providers from AngularAuthModule - OneCX authorization mechanisms.
* providers from BrowserModule.
* providers from BrowserAnimationsModule.
* APP\_INITIALIZER using userProfileInitializer factory function - in ExampleComponent’s constructor, the `this.userService.lang$.getValue()` call is made to set TranslationService language. Since that call is synchronous, it is important to ensure that [UserService](#latest@documentation:angular:libraries/angular-integration-interface.adoc#user-service) has been initialized before fetching its data.

| |  Providers passed in the xref:webcomponents.adoc#bootstrap-remote-componentbootstrapRemoteComponent method call should contain any providers required by the Remote Component. Any services or injection tokens have to be defined here. It is important that those providers are aligned with imports defined via the Remote Component’s definition. Depending on the Remote Component, different providers and imports will be defined. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

The created application is going to have an Injector (just like a module does). This Injector will be used by the instance of ExampleComponent rendered using Web Components technology.

For Angular-based Remote Components, it is recommended to use [bootstrapRemoteComponent](webcomponents.html#bootstrap-remote-component) and define every required provider as an argument of this method. This approach will ensure that the rendered component has all required services, tokens, etc. already set up.

Fixing [Angular issues](webcomponents.html#angular-issues) (Angular requirement only)

The [bootstrapRemoteComponent](webcomponents.html#bootstrap-remote-component) method takes care of ngZone and platform sharing.

Connecting router

The [bootstrapRemoteComponent](webcomponents.html#bootstrap-remote-component) method is responsible for connecting the Remote Component’s router to the Shell’s router (if there is one defined), so their states are always the same. The connection is set up in the same way as for the [module’s router](#module-rotuer-connection).

Registering the Custom Element

The [bootstrapRemoteComponent](webcomponents.html#bootstrap-remote-component) method registers the ExampleComponent in the Custom Elements Registry, so anytime `<example-remote-component>` is rendered, ExampleComponent should be instantiated.

| |  For technologies other than Angular, it is recommended to: register a Custom Element in the Custom Elements Registry. provide dependencies to registered Custom Element according to the Remote Component. listen for EventsTopic data changes and update the state of the Remote Component’s routing (if routing is used). |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

Component definition and configuration

For Angular-based components, any Remote Component is required to be a standalone Angular component. The component’s import array’s purpose is to declare all required dependencies, just like for Angular modules. It is recommended to import:

* AngularAuthModule for authorization mechanisms.
* CommonModule for common Angular functionalities.
* SharedModule with `PortalCoreModule.forMicroFrontend()` import for allowing OneCX components and services usage.
* PortalCoreModule so the component recognizes OneCX components and services.
* TranslateModule for translations mechanism.
* AngularRemoteComponentsModule.

In the **example.component.bootstrap.ts**, some providers related to those dependencies were already declared in the [bootstrapRemoteComponent](webcomponents.html#bootstrap-remote-component) method call.

| |  For technologies other than Angular, it is recommended to: define the component so that all dependencies are provided. |
| ------------------------------------------------------------------------------------------------------------------------- |

Configuration and initialization

The ExampleComponent implements two interfaces:

* ocxRemoteComponent - requires component to define ocxInitRemoteComponent method
* ocxRemoteWebcomponent - requires component to define ocxRemoteComponentConfig property

For Webcomponent method, it is required to implement ocxRemoteWebcomponent, but optional to implement ocxRemoteComponent. The `ocxRemoteComponentConfig` is set by the Remote Component’s Slot Component after the Remote Component’s element is created in the HTML. The value that is set is of type [RemoteComponentConfig structure](#RemoteComponentConfig). On receiving the configuration, the Remote Component should:

* update BASE\_URL.
* update permissions (if permissions are used).
* update the base URL of its services (if services that require external calls are used).

__Table 1\. RemoteComponentConfig structure__
| **Property** | **Type**   | **Description**                                                                                                                         |
| ------------ | ---------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| appId        | string     | Unique identifier of the Microfrontend Remote Component is part of.                                                                     |
| productName  | string     | Name of the Application currently Remote Component is part of.                                                                          |
| permissions  | string\[\] | Current user permissions related to the Remote Component’s Microfrontend.                                                               |
| baseUrl      | string     | URL of Remote Component’s Microfrontend to be used when accessing its content (remote entry file, assets, etc.), e.g. '/mfe/mfe\_name'. |

| |  For technologies other than Angular, it is recommended to: implement the component so the ocxRemoteComponentConfig property is defined, and whenever it is set: the component’s resources or the component itself will use the correct baseUrl to access external resources. permission checking mechanisms will use provided permissions. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

OneCX Implementation Details
====================
## [](#overview)Overview

This section of the documentation aims to explain some of the technical implementation details of OneCX platform. The goal of this section is to understand some of the requirements for Applications meant to be integrated with OneCX platform by providing the details about certain solutions and technologies used.

## [](#section-overview)Section overview

For detailed explanation of OneCX platform technical implementation details, please refer to the following content:

* [Microfrontend Content Loading](microfrontend-content-loading.html)  
   * [Web Components](webcomponents.html)
* [Microfrontend Webpack Configuration](webpack.html)
* [Microfrontend Bootstrapping](bootstrapping.html)

Microfrontend Content Loading in OneCX
====================
## [](#microfrontends-content-loading-explained)Microfrontend’s Content Loading Explained

When discussing Microfrontend loading mechanisms there are 2 important factors that decide on how loading mechanisms work. Those factors are:

* **content type**  
   * Module  
   * Remote Component
* **expose method**  
   * Angular  
   * Webcomponent

All of them are dependent on the Application Microfrontend’s content that is meant to be integrated with OneCX platform. Please make sure to properly configure each integrated Application in the Application Store.

| |  **It is NOT recommended** to use the Angular expose method. Doing so restrains the platform from using many frameworks with different versions, which means that all Microfrontends would need to use the same technology and version. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  OneCX platform uses **Module Federation** technology integrated with **Webpack** to expose and load Microfrontends. To find out more about how Module Federation enables Microfrontends, please refer [here](https://webpack.js.org/concepts/module-federation/). |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#content-type)Content Type

In the context of content loading, content type **determines which mechanism will be responsible for loading**. Module loading will be handled by the Shell UI router via constructed routing rules, and Remote Component loading will be handled by the Slot Component (to which the Remote Component has been assigned).

#### [](#shell-ui-router-mechanism)Shell UI Router Mechanism (Module)

When dealing with modules, Shell UI is responsible for loading them. As explained in the [Shell overview](../onecx-docs-overview/architecture-overview/shell.html), Shell UI first constructs workspace and then handles routing and loading of remotes. Workspace configuration contains all valid routes to Applications registered for a given workspace, each route associated with a Microfrontend’s module.

Prior to any routing events, the Shell UI initializes the router to reflect workspace configuration. Based on the data from backend services about the current workspace, Shell UI creates routing rules to use during the runtime.

Let’s take a workspace using a User Profile Application as an example. Each Application in the workspace configuration has to have a path defined. This path is used for routing and accessing the remote entry file of the Application’s Microfrontend. Assuming the path is `/user`, Shell UI will create a routing rule specifying that whenever url of the page changes to one starting with `/user` it has to load the Microfrontend’s module.

After routing rules are successfully created, each registered Application should have a route registered in Shell UI’s router. Each route has a **loadChildren method, which is called whenever a route gets activated**, but it also has additional properties that are used by the shell during routing.

The **loadChildren method is responsible for loading the remote module into the Shell UI’s memory using [@angular-architects/module-federation](https://www.npmjs.com/package/@angular-architects/module-federation)**. When the remote module is loaded successfully, it is used by the router to display the module’s content in the content pane of the page.

#### [](#slot-component-mechanism)Slot Component Mechanism (Remote Component)

Remote Component loading is handled by the Slot Component. The overall mechanism of Remote Component loading was explained in the [Remote Components documentation](../onecx-docs-overview/architecture-overview/remote-components.html). In the context of content loading, it’s important to note the following aspects:

* The Remote Component **loading process starts when a Slot Component is rendered** on a page.
* Remote Component **exposed content is loaded via [@angular-architects/module-federation](https://www.npmjs.com/package/@angular-architects/module-federation)** (similar to module content type). Then, once it’s loaded successfully, it is **rendered onto a page within the Slot Component via a dynamic content creation mechanism dependent on the chosen expose method**.

### [](#expose-method)Expose Method

Expose method is a factor that is taken into consideration by the respective loading mechanism (Shell UI router or Slot Component) to ensure correct content loading. For module loading, the loadChildren method and router configuration are impacted. For Remote Component loading, a different mechanism of dynamic content creation is chosen. For information on specific expose method impacts, please refer to the following documents:

* [Webcomponent method](webcomponents.html)

### [](#module-federation-loading-explained)Module Federation Loading Explained

Independent on the content type and expose method, OneCX platform will load exposed content using [Module Federation](https://webpack.js.org/concepts/module-federation/). During this step, exposed content is loaded using the file specified in the webpack configuration for the respective content. Such configuration is usually located in the `webpack.config.js` file. In the code snippet below, the `./src/main.ts` file would be used for the module and the `./src/app/remotes/my-comp/my-comp.component.main.ts` file for Remote Component loading.

```typescript
const config = withModuleFederationPlugin({
  name: 'my-application-ui',
  filename: 'remoteEntry.js',
  exposes: {
    './MyDefaultModule': './src/main.ts',
    './MyRemoteComponent': './src/app/remotes/my-comp/my-comp.component.main.ts'
  },
  ...
})
```

Those files should contain code that takes care of all the setup required to display the content. Depending on the chosen expose method, the code in those files will vary.

## [](#useful-resources)Useful Resources

* [Shell overview](../onecx-docs-overview/architecture-overview/shell.html)
* [OneCX Microfrontend](../onecx-docs-overview/architecture-overview/mfe.html)
* [OneCX Remote Components](../onecx-docs-overview/architecture-overview/remote-components.html)
* [Web Components](webcomponents.html)

Web Components in OneCX
====================
## [](#overview)Overview

Web Components is a suite of different technologies used to create reusable custom elements with encapsulated functionality. In the OneCX context, they are useful for dynamic content creation for both modules and the display of Remote Components in Microfrontends. Prior to reading this document, it is recommended to read the documentation of [microfrontend content loading](microfrontend-content-loading.html) to get familiar with the content loading mechanisms available within the OneCX platform.

| |  Webcomponent expose method enables the OneCX platform to use UI Apps developed with different frameworks and versions. It is the **recommended method for all Applications**. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  Web Components technologies are used within OneCX platform. However, OneCX offers its own functionalities that should be used to expose Microfrontend’s content using the Webcomponent expose method. Those functionalities are based on Web Components technologies, so there is no need to get familiar with them. Nevertheless, more resources about Web Components can be found [here](https://developer.mozilla.org/en-US/docs/Web/API/Web%5Fcomponents) |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#web-components-preview)Web Components Preview

Web Components are used in OneCX context for dynamic content creation. OneCX platform uses Web Components technologies to bound UI components to HTML elements. OneCX platform will use information from the Application Store to determine what HTML elements have to be rendered to allow certain modules and Remote Components to be bound to page content.

With Webcomponent expose method, the OneCX platform is only loading the code required for Microfrontend’s content into the Shell UI memory and creating a "host" element for Remote Components or modules to attach to using Web Components. The Microfrontend’s exposed content is partially responsible for the content creation. Microfrontends have to adapt exposed modules and components, so they are using Web Components Custom Elements.

### [](#custom-elements)Custom Elements

Custom Elements are part of the Web Components technology. It is a set of tools used to achieve the bounding between components and HTML elements. As mentioned, OneCX platform will create HTML elements specified via configuration whenever a module or Remote Component has to be displayed on a page. There are 2 steps that OneCX platform takes when dealing with content loading with Webcomponent expose method:

1. Load exposed content via Module Federation into memory.
2. Create an HTML element on a page to which exposed content should be bound.

In the [Microfrontend content loading](microfrontend-content-loading.html#module-federation-loading-explained), it was mentioned that when exposing Microfrontend content, files specified per content should take care of all setup needed to display it. With Webcomponent method, those files need to contain source code, which will register the Custom Element in the Custom Elements Registry. Without getting into the details of Web Components, a file used for content loading needs to use Web Components to assign some component to the HTML element that OneCX platform will render. This way, when OneCX platform creates this HTML element on a page, the Custom Elements Registry will use the assigned component and display it on a page.

### [](#webcomponent-expose-method-requirements)Webcomponent Expose Method Requirements

To correctly use Webcomponent expose method, 2 requirements need to be fullfield:

1. Database is correctly configured for module or Remote Component  
   1. **technology** set to **WebComponent**  
   2. **tag name** set to agreed **HTML element name**
2. Microfrontend is adapted to expose Web Components compliant content  
   1. desired component needs to be registered as Custom Element in the Custom Elements Registry  
   2. Angular issues are covered (use the `[@onecx/angular-webcomponents](#onecx/angular-webcomponents)` library to cover them by default)  
         1. multiple routers synchronization  
         2. ngZone sharing  
         3. platform sharing

| |  Database configuration is easy to set up using the Application Store Application. |
| ------------------------------------------------------------------------------------ |

| |  To ensure Microfrontend compliance with Web Components for Angular modules and Remote Components, it is recommended to use the **[@onecx/angular-webcomponents](#onecx/angular-webcomponents)** library. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#expose-microfrontends-content-as-web-components)Expose Microfrontend’s Content as Web Components

OneCX platform offers different ways of [exposing Microfrontend’s content](../onecx-docs-overview/architecture-overview/mfe.html). One of them is **Webcomponent method**.

When exposing content with Webcomponent method, it is required to ensure the correct setup. For exposing Angular content, there are functionalities provided via the [@onecx/angular-webcomponents](#onecx/angular-webcomponents) library. For a detailed guide on how to expose Microfrontend’s content via Webcomponent method, please refer here.

| |  Using **[@onecx/angular-webcomponents](#onecx/angular-webcomponents)** library, according to the guide, is the recommended way of exposing Angular content. The set of functionalities provided via the library is taking care of all requirements related to the Web Components adaptation. Apart from automatic registration to the Custom Elements Registry, they ensure that the following issues are covered: Every module and Remote Component is going to have its own router. Routers (Shell’s router, displayed module’s router, and router of each displayed Remote Component) need to be synchronized so each can react to the router events. A Single Angular version can only create one platform to operate on, which means that for every content loaded within a page, the same platform has to be used for a specific version. ngZone of Shell UI has to be shared with all modules and Remote Components to allow Web Components to function correctly. In-depth explanations for those issues can be found in the [Module Federation multi-framework and version micro frontends document](https://www.angulararchitects.io/en/blog/multi-framework-and-version-micro-frontends-with-module-federation-the-good-the-bad-the-ugly/). |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#onecx-adaptation-to-webcomponent-method)OneCX Adaptation to Webcomponent Method

As stated in [Microfrontend content loading documentation](microfrontend-content-loading.html), every method of Microfrontend’s content exposal has an impact on the OneCX platform behavior for both module and Remote Component loading. The adaptations made by OneCX to work with Web Components were briefly mentioned in the Web Components preview, however depending on the content type, the behavior varies.

### [](#module-loading-behavior)Module Loading Behavior

The Shell UI App is responsible for displaying Microfrontend’s module when router navigation is matched for a desired Microfrontend. With Webcomponent method, Shell UI will adapt the loadChildren method to:

1. load desired remote module using [@angular-architects/module-federation](https://www.npmjs.com/package/@angular-architects/module-federation) (no change).
2. use **WebComponentLoaderModule** as the module to be lazy-loaded (instead of the Microfrontend’s module).

The [loadChildren method bound to a Route](https://angular.dev/guide/ngmodules/lazy-loading) is an asynchronous method that in the end should return a module to be displayed when activating a certain Route. With Webcomponent method, the desired Microfrontend’s module is still being loaded using [@angular-architects/module-federation](https://www.npmjs.com/package/@angular-architects/module-federation). During that loading, it should register a component in the Custom Elements Registry, as mentioned in the previous section. For OneCX platform, it means that it no longer should load the Microfrontend’s module directly but ensure that the HTML code has the correct Custom Element in order to display the module.

**WebComponentLoaderModule** is a simple Angular module with a Router set up to always display **WebComponentLoaderComponent**. This component is responsible for rendering the HTML element required to display the module with Web Components Custom Elements. Whenever Shell UI’s router detects a change of the Microfrontend (another path is matched than the current one), it calls **loadChildren method** to load the desired module and returns **WebComponentLoaderModule**. The module then creates and initializes **WebComponentLoaderComponent**, which, after initializations, creates the HTML element. Then Web Components using Custom Elements technology bounds the Microfrontend’s module to the created element.

For a detailed guide on how to expose Microfrontend’s module via Webcomponent method, please refer here.

### [](#remote-component-behavior)Remote Component Behavior

Slot Component is responsible for displaying Microfrontend’s Remote Components during Slot Component initialization. With the Webcomponent method, the Slot Component will adapt the steps to:

1. load desired remote content using [@angular-architects/module-federation](https://www.npmjs.com/package/@angular-architects/module-federation) (no change).
2. create HTML element directly inside a container (instead of creating Microfrontend’s Remote Component instance).

The Slot Component content is based on [Angular ViewContainerRef](https://angular.dev/api/core/ViewContainerRef) to dynamically create content inside the Slot Component. With Webcomponent method, the desired Microfrontend’s Remote Component is still being loaded using [@angular-architects/module-federation](https://www.npmjs.com/package/@angular-architects/module-federation). During that loading, it should register a component in the Custom Elements Registry, as mentioned in the previous section. For OneCX platform, it means that it no longer should create the Microfrontend’s component directly but ensure that the HTML code has the correct element in order to display the component.

The difference with the Webcomponent method is that, from the OneCX platform’s perspective, no component needs to be created. Instead, a "host" element must be created to allow Web Components' Custom Elements to display desired content.

For a detailed guide on how to expose Microfrontend’s Remote Components via Webcomponent method, please refer here.

## [](#onecx-angular-webcomponents)@onecx/angular-webcomponents Details

Using [@onecx/angular-webcomponents](#onecx/angular-webcomponents) to expose modules and Remote Components via Microfrontends is the recommended way within the OneCX platform. There are guides available that showcase how to transform already-created Microfrontend’s content to use Webcomponent method. In this section, all the specific functions available within the angular-webcomponents library are explained.

### [](#bootstrapmodule)bootstrapModule Function

Use **bootstrapModule** function for Angular module bootstrapping.

This function ensures that the module is bootstrapped correctly and takes care of:

* ngZone sharing
* platform sharing

__Table 1\. bootstrapModule arguments__
| **Argument** | **Type**                   | **Description**                              |
| ------------ | -------------------------- | -------------------------------------------- |
| module       | Type<M>                    | Angular Module to load                       |
| appType      | 'shell' or 'microfrontend' | Use 'microfrontend' for exposing modules     |
| production   | boolean                    | if application should run in production mode |

### [](#bootstrap-remote-component)bootstrapRemoteComponent Function

Use **bootstrapRemoteComponent** function for Angular Remote Component bootstrapping.

This function ensures that the Remote Component is bootstrapped correctly and takes care of:

* Remote Component router connection
* ngZone sharing
* platform sharing

__Table 2\. bootstrapRemoteComponent arguments__
| **Argument** | **Type**                                  | **Description**                                               |
| ------------ | ----------------------------------------- | ------------------------------------------------------------- |
| component    | Type<any>                                 | Angular Component to load                                     |
| elementName  | string                                    | HTML element name to be used for Custom Elements registration |
| production   | boolean                                   | if application should run in production mode                  |
| providers    | Array<(Provider \| EnvironmentProviders)> | Array of providers for Remote Component to run                |

### [](#create-app-entrypoint)createAppEntrypoint Function

Use **createAppEntrypoint** function to create an entrypoint component for Microfrontend’s module in the Microfrontend’s ngDoBootstrap function.

__Table 3\. createAppEntrypoint arguments__
| **Argument** | **Type**  | **Description**                                                                                                                                         |
| ------------ | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| component    | Type<any> | Angular Component to load, representing module entrypoint. This component should have **router-outlet** in its template to enable routing for a module. |
| elementName  | string    | HTML element name to be used for Custom Element’s registration of entrypoint                                                                            |
| injector     | Injector  | Module’s injector (usually this.injector) to be used for dependency injection                                                                           |

### [](#initialize-router)initializeRouter Function

Use **initializeRouter** function as APP\_INITIALIZER in the Microfrontend’s module definition.

This function ensures that the bootstrapped module’s router is connected with other routers.

```typescript
@NgModule({
  ...
  providers: [
    {
      provide: APP_INITIALIZER,
      useFactory: initializeRouter,
      multi: true,
      deps: [Router, AppStateService]
    }
  ]
})
export class RemoteModule ...
```

### [](#starts-with)startsWith Function

Use **startsWith** function when constructing Routes for Microfrontend’s module.

__Table 4\. createAppEntrypoint arguments__
| **Argument** | **Type** | **Description**                                             |
| ------------ | -------- | ----------------------------------------------------------- |
| prefix       | string   | Prefix to match in order to display certain module content. |

## [](#useful-resources)Useful Resources

* [Microfrontend content loading](microfrontend-content-loading.html)
* Remote Component with Webcomponent method integration
* Module with Webcomponent method integration

OneCX Microfrontend Configuration with Webpack
====================
## [](#overview)Overview

This document aims to explain the details related to Microfrontend’s configuration. It is required to utilize [Webpack technology](https://webpack.js.org) to expose Microfrontend’s content via a remote entry file, so the Shell and other Microfrontends (e.g. via Slot Components) are able to load and use it. Webpack is a powerful module bundler for JavaScript, which takes modules with dependencies and generates static assets representing those modules. Since Webpack version five, [Module Federation technology](https://webpack.js.org/concepts/module-federation/), integrated with Webpack, is used to achieve these goals.

| |  For Angular based Microfrontends, consider using [@angular-architects/module-federation package](https://www.npmjs.com/package/@angular-architects/module-federation). This package is used internally by OneCX to load remote modules and is recommended for Angular based applications. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#microfrontend-configuration-with-webpack-explained)Microfrontend Configuration with Webpack Explained

Each Microfrontend integrated with OneCX needs to have a configuration file for Webpack (usually called `webpack.config.js`), utilizing Module Federation to expose remote modules. For both module and Remote Components, a remote module needs to be exposed.

### [](#important-elements-of-webpack-configuration)Important Elements of Webpack Configuration

Webpack configuration is going to contain important configuration describing the Microfrontend. This configuration is used by Webpack to create and expose a remote entry file containing the whole code required to load remote modules in other Applications using Module Federation.

Below, a Webpack configuration example of an Angular based Microfrontend is presented.

```typescript
const { ModifyEntryPlugin } = require('@angular-architects/module-federation/src/utils/modify-entry-plugin')
const { share, withModuleFederationPlugin } = require('@angular-architects/module-federation/webpack')
const config = withModuleFederationPlugin({
  name: 'example-ui',
  filename: 'remoteEntry.js',
  exposes: {
    './ExampleModule': './src/main.ts',
    './ExampleComponent': './src/remotes/example/example.component.main.ts'
  },
  shared: share({
    '@angular/core': { requiredVersion: 'auto', includeSecondaries: true },
    '@angular/forms': { requiredVersion: 'auto', includeSecondaries: true },
    '@angular/common': { requiredVersion: 'auto', includeSecondaries: { skip: ['@angular/common/http/testing'] } },
    '@angular/common/http': { requiredVersion: 'auto', includeSecondaries: true },
    '@angular/platform-browser': { requiredVersion: 'auto', includeSecondaries: true },
    '@angular/router': { requiredVersion: 'auto', includeSecondaries: true },
    '@ngx-translate/core': { requiredVersion: 'auto' },
    primeng: { requiredVersion: 'auto', includeSecondaries: true },
    rxjs: { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/accelerator': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/angular-accelerator': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/angular-auth': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/angular-integration-interface': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/angular-remote-components': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/angular-testing': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/angular-webcomponents': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/integration-interface': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/keycloak-auth': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/ngrx-accelerator': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/portal-integration-angular': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/portal-layout-styles': { requiredVersion: 'auto', includeSecondaries: true }
  }),

  sharedMappings: []
})

module.exports = config

const plugins = config.plugins.filter((plugin) => !(plugin instanceof ModifyEntryPlugin))

module.exports = {
  ...config,
  plugins,
  output: { uniqueName: 'example-ui', publicPath: 'auto' },
  experiments: { ...config.experiments, topLevelAwait: true },
  optimization: { runtimeChunk: false, splitChunks: false }
}
```

The most important elements of Webpack configurations are:

Exposed content

Each Microfrontend can expose multiple modules and Remote Components. Every separate module and Remote Component needs to be defined as a separate, unique entry representing a remote module. Each entry is a Key-Value Pair:

Key

Name of the exposed module.

Value

File to be used for module bootstrap.

In the Angular example, there are two remote modules defined:

* **ExampleModule** \- Microfrontend’s remote module pointing to Microfrontend’s main.ts file.
* **ExampleComponent** \- Remote Component’s remote module pointing to component’s main.ts file.

| |  [Module Federation](https://webpack.js.org/concepts/module-federation/) considers any exposed content as a **remote module**. In the OneCX context, Microfrontends expose two types of content, being modules and Remote Components. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Shared resources

Each Microfrontend can define packages that can be shared with others. Every Microfrontend can specify what packages and with what versions are allowed to be shared. In the OneCX context, it is important to ensure the correct package sharing configuration dependent on the used packages used functionalities within the Microfrontend’s exposed content.

In the Angular example, there are multiple packages shared. All of them are related to OneCX. For the detailed explanation on package sharing with OneCX, please refer here. For even more information on how package sharing works, please refer [here](https://www.angulararchitects.io/en/blog/getting-out-of-version-mismatch-hell-with-module-federation).

Remote name

The unique name of the Microfrontend.

Remote entry file name

The name of the remote entry file (usually `remoteEntry.js`).

### [](#related-resources)Related Resources

* [Content bootstrapping](bootstrapping.html) \- based on the content type and expose method bootstrap mechanism needs to be adjusted.
* [Package sharing](https://www.angulararchitects.io/en/blog/getting-out-of-version-mismatch-hell-with-module-federation/) \- based on the content of the Microfrontend different packages are required or should be considered for sharing.

OneCX Permissions
====================
## [](#overview)Overview

In [OneCX permission management](#latest@onecx-permission:general:index.adoc) and validation is done by core applications of the platform. The Permission Management application is in charge of managing permissions. For Angular applications [User Service](#libraries/angular-integration-interface.adoc#user-service) is available for permission checking.

[OneCX compatible application](migrations/vanilla-to-onecx/index.html):

* can use the [User Service](#libraries/angular-integration-interface.adoc#user-service) to check permissions.

## [](#permissions-overview)Permissions Overview

In OneCX, there are 3 key concepts: permission, role and user. Each application can define many permissions that allow or deny an action on a specific resource (e.g., USER#DELETE) and then can validate if the permissions is met. Every user registered has set of roles assigned to them (e.g., admin) where each role is assigned with different permissions. With combination of those 3 concepts, application can be displayed differently based on the current user permissions.

## [](#permission-setup)Permission Setup

To set up permissions for the application, OneCX core applications should be used to add or modify existing permissions and assignments for roles.

## [](#permission-validation)Permission Validation

To perform permission validation in Angular applications, [User Service](#libraries/angular-integration-interface.adoc#user-service) should be used. Depending on the requirements different methods and properties should be used

### [](#check-for-permissions)Check For Permission

To check if the currently logged in user has specific permission(s), use the `hasPermission` method of [User Service](#libraries/angular-integration-interface.adoc#user-service).

example.ts

```typescript
const userService = inject(UserService)
// Check for single permission
userService.hasPermission('USER#DELETE')

// Check for multiple permissions
userService.hasPermission(['USER#EDIT', 'USER#EXPORT'])
```

### [](#get-all-application-permissions)Get All Application Permissions

To get a list of all permissions for the current user in the context of the application, use the `getPermissions` method of [User Service](#libraries/angular-integration-interface.adoc#user-service).

example.ts

```typescript
const userService = inject(UserService)
// Get all application permissions
userService.getPermissions().pipe((
    // Pipe the permission list
))
```

OneCX Theming
====================
## [](#overview)Overview

In an OneCX application theming is handled by the OneCX shell in collaboration with the OneCX Theme Management application.

[OneCX compatible application](migrations/vanilla-to-onecx/index.html):

* should use theme variables to theme its content.

## [](#theme-appliance)Theme Appliance

In OneCX each workspace can use different theme for its pages. Each theme defines a set of the same CSS variables that are available on each pages with different values. The availability of those CSS variables is handled by the OneCX shell based on the accessed workspace. It means that **[OneCX compatible](migrations/vanilla-to-onecx/index.html) application does not have to do anything to apply the theme**. The only responsibility is to use theme variables.

## [](#theme-variables)Theme Variables

Theme variables are CSS variables available on the page for any application.

Below, is a list of all theme variables available on the page:

Basic Variables

| CSS variable        | Description                                            |
| ------------------- | ------------------------------------------------------ |
| \--primary-color    | Primary color of non-text content.                     |
| \--secondary-color  | Secondary color of non-text content.                   |
| \--content-bg-color | Default background color of non-text content.          |
| \--hover-bg-color   | Default background color on hover of non-text content. |

Text-related Variables

| CSS variable            | Description                                                                               |
| ----------------------- | ----------------------------------------------------------------------------------------- |
| \--font-family          | Default font family for text content.                                                     |
| \--font-size            | Default font size for text content.                                                       |
| \--text-color           | Primary font text color.                                                                  |
| \--text-secondary-color | Secondary font text color for elements in lower design hierarchy, usually less prominent. |

Button-related Variables

| CSS variable        | Description                                        |
| ------------------- | -------------------------------------------------- |
| \--button-hover-bg  | Background color of a button in hover state.       |
| \--button-active-bg | Background color of a button in active state.      |
| \--danger-button-bg | Background color of a button with danger severity. |

Message-related Variables

| CSS variable          | Description                                          |
| --------------------- | ---------------------------------------------------- |
| \--info-message-bg    | Background color of a message with info severity.    |
| \--success-message-bg | Background color of a message with success severity. |
| \--warning-message-bg | Background color of a message with warning severity. |
| \--error-message-bg   | Background color of a message with error severity.   |

Misc Variables

| CSS variable                | Description                                                                            |
| --------------------------- | -------------------------------------------------------------------------------------- |
| \--divider-color            | Color of divider HTML elements, such as <hr> or component borders.                     |
| \--body-bg-color            | Background color of the document’s body, used for the content pane’s background color. |
| \--overlay-content-bg-color | Background color of the overlays,                                                      |

Topbar Variables

| CSS variable                       | Description                                                          |
| ---------------------------------- | -------------------------------------------------------------------- |
| \--topbar-bg-color                 | Background color of the topbar.                                      |
| \--topbar-left-bg-color            | Background color of the topbar’s left side.                          |
| \--topbar-text-color               | Color of the text in the topbar.                                     |
| \--topbar-item-text-color          | Color of the text of the items located in the topbar.                |
| \--topbar-item-text-hover-bg-color | Background color for the items located in the topbar on hover state. |
| \--topbar-menu-button-bg-color     | Background color of the vertical menu hiding toggle.                 |
| \--logo-color                      | Color of the topbar’s logo.                                          |

Sidebar Variables

| CSS variable                   | Description                                                                                         |
| ------------------------------ | --------------------------------------------------------------------------------------------------- |
| \--menu-bg-color               | Background color of the sidebar (left side of the shell).                                           |
| \--menu-text-color             | Text color of the menu, located in the sidebar (left side of the shell).                            |
| \--menu-item-text-color        | Text color of the menu item, located in the sidebar (left side of the shell).                       |
| \--menu-item-bg-color          | Background color of the menu item, located in the sidebar (left side of the shell).                 |
| \--menu-item-hover-bg-color    | Background color of the menu item in hover state, located in the sidebar (left side of the shell).  |
| \--menu-active-item-text-color | Text color of the menu item in active state, located in the sidebar (left side of the shell).       |
| \--menu-active-item-bg-color   | Background color of the menu item in active state, located in the sidebar (left side of the shell). |

## [](#utilizing-theme-variables)Utilizing Theme Variables

When creating styles for UI components it’s important to consider whether a style should be theme-aware. Example of a stylesheet using a theme variable:

styles.css

```css
button {
    background-color: var(--primary-color);
}
```

The example above will set background color for each button element to the value corresponding to the `--primary-color` theme variable value.

OneCX Toast Messages
====================
## [](#overview)Overview

In OneCX toast messages display is handled via [PortalMessageService](#cookbook/service/portal-message-service/index.adoc).

[OneCX compatible application](migrations/vanilla-to-onecx/index.html):

* should use [PortalMessageService](#cookbook/service/portal-message-service/index.adoc) to display toast messages
* should not contain any toast component (in OneCX shell is in charge of displaying toast messages)

## [](#display-toast-message)Display Toast Message

Details about the usage can be found in the [PortalMessageService documentation](#cookbook/service/portal-message-service/index.adoc).

Angular Guidelines
====================
This chapter gives guidance which guidelines should be followed during the development.

## [](#testing)Testing

* Write Unit Tests and Component Tests.  
   * Prefer Unit Tests over Component Tests.
* Manually test with shell and in the standalone mode.
* Tests should run in the build pipeline.

## [](#asynchronous-behavior-observables)Asynchronous behavior / observables

The following guideline are applying for asynchronous code and the work with Observables:

| |  Do not assign the value of an Observable to members of a component or other class (function calls are OK). If storing of the value is needed, consider a [BehaviorSubject](https://www.learnrxjs.io/learn-rxjs/subjects/behaviorsubject). |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

* Consider the use of the Async pipe when displaying asynchronous values.
* Always think about [unsubscribing](https://github.com/ngneat/until-destroy). Unsubscribing is needed when the Observable is not created inside the component and emits an infinite number of values.  
   * HTTP Call: no unsubscribing needed (created externally but emits only one value).  
   * BehaviorSubject inside the component: no unsubscribing needed (emits an infinite number of values but created inside the component)  
   * BehaviorSubject in a service: unsubscribing needed (created externally and emits an infinite number of values)

## [](#translations)Translations

The following guideline are applying for translations:

* Consider the [translate pipe](https://github.com/ngx-translate/core#5-use-the-service-the-pipe-or-the-directive)
* If needed, the translations should be done locally and not in `ngOnInit()`.
* Do **not** use TranslateService.instant.
* A translation key is only used in one place. Create new one with the same value if required.
* Shared components in a library should have default translations in the translation files of the library. Only if needed, create an Input in the component to customize the displayed string.
* Every page has its own subsection in the translation file that is called like the component.
* The structure in the subsection follows the structure of the page.
* Translations of shared components are stored in a subsection with the name of the component.
* No wrapper “DEFAULTS” is needed in the translation files in a library.

## [](#components)Components

The following guidelines are applying for components:

* The HTML should be leading not the TS.
* Do not use inheritance. Consider a transclude instead.
* Components should have only one clear responsibility.
* Components are either technical or business driven, not both.  
   * [Smart component, dumb component-principle](https://devonfw.com/docs/typescript/current/angular/components-layer.html#%5Fsmart%5Fand%5Fdumb%5Fcomponents)

## [](#code-quality)Code quality

Committed code must have a certain quality. The following guidelines must be considered:

* Do not commit commented out code.  
   * Comments should only be used to:  
         * Document the **Why of the code** and **not** the **What**.  
         * Create documentation for the autocompletion mechanism.
* Do not commit debug outputs.  
   * `console.log()` message should be used to inform about error or problem and to give some information of the application state e.g., "Configuration loaded with values xyz"
* Remove unused imports
* Format the code  
   * Run `npm run format`  
   * If you need to format a specific file, you can use:  
         * `nx format:write –files **_filepath_**`

## [](#project-structure)Project structure

The following examples shows a potential folder structure, that might be extended based on the need.

| |  Folders should only be created and used if they have content. |
| ---------------------------------------------------------------- |

├── src
│   ├── app
│   │   ├── featuremodule1 // one of feature modules, might have many of them
│   │   │    ├── components // optional - components shared between pages of this feature module
│   │   │    │    ├── featurecomponent1
│   │   │    │    │    ├── featurecomponent1.component.html
│   │   │    │    │    ├── featurecomponent1.component.scss
│   │   │    │    │    ├── featurecomponent1.component.spec.ts
│   │   │    │    │    ├── featurecomponent1.component.ts
│   │   │    ├── pages
│   │   │    │    ├── page1 // one of pages, might have many of them
│   │   │    │    │     ├── page1subcomponent1 // one of subcomponent for page, optional + might have many of them
│   │   │    │    │     │     ├── page1subcomponent1.component.html
│   │   │    │    │     │     ├── page1subcomponent1.component.scss
│   │   │    │    │     │     ├── page1subcomponent1.component.spec.ts
│   │   │    │    │     │     ├── page1subcomponent1.component.ts
│   │   │    │    │     ├── page1.component.html
│   │   │    │    │     ├── page1.component.scss
│   │   │    │    │     ├── page1.component.spec.ts
│   │   │    │    │     ├── page1.component.ts
│   │   │    ├── utils // optional
│   │   │    ├── featuremodule1.module.ts
│   │   ├── shared // (technical) components and directives used in multiple feature modules
│   │   │    ├── components
│   │   │    │     ├── sharedcomponent1
│   │   │    │     │     ├── sharedcomponent1.component.html
│   │   │    │     │     ├── sharedcomponent1.component.scss
│   │   │    │     │     ├── sharedcomponent1.component.spec.ts
│   │   │    │     │     ├── sharedcomponent1.component.ts
│   │   │    ├── directives
│   │   │    │     ├── directive1.ts
│   │   │    │     ├── directive1.spec.ts
│   │   │    ├── generated //generated from openApi
│   │   │    │    ├── models
│   │   │    │    ├── services
│   │   │    ├── models
│   │   │    │    ├── model1.ts
│   │   │    ├── services
│   │   │    │    ├── service1.ts
│   │   │    ├── shared.module.ts
│   │   ├── app-routing.module.ts
│   │   ├── app.component.html
│   │   ├── app.component.scss
│   │   ├── app.component.ts
│   │   ├── app.module.ts
│   ├── assets
│   │   │   ├── i18n
│   │   │   ├── fonts
│   │   │   ├── images
│   │   │   ├── scss
│   │   │   ├── yamls
│   ├── environments
│   │   │   ├── dev
│   │   │   ├── prod

Angular
====================
Angular is a TypeScript-based, free and open-source single-page web application framework

[Angular homepage](https://angular.io/)

[Guides](https://angular.io/guide/developer-guide-overview)

[Source code](https://github.com/angular/angular)

[Angular quick starts](https://angular.io/start)

[NgRx](https://ngrx.io/)

[Ping angular app ui](https://github.com/onecx-apps/ping-angular-app-ui)

NgRx Store provides reactive state management for Angular apps inspired by Redux.

## [](#requirements)Requirements

For the developing the Quarkus application we need to install these tools:

### [](#developer-ide)Developer IDE

* [Visual Studio Code](https://code.visualstudio.com/)

### [](#vs-code-extensions)VS Code extensions

* [SonarLint](https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode)
* [Angular Language Service](https://marketplace.visualstudio.com/items?itemName=Angular.ng-template)
* [EsLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)
* [GitLens](https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens)
* [Import Cost](https://marketplace.visualstudio.com/items?itemName=wix.vscode-import-cost)
* [IntelliCode)](https://marketplace.visualstudio.com/items?itemName=VisualStudioExptTeam.vscodeintellicode)
* [IntelliCode API Usage Examples](https://marketplace.visualstudio.com/items?itemName=VisualStudioExptTeam.intellicode-api-usage-examples)
* [IntelliSense for CSS class names in HTML](https://marketplace.visualstudio.com/items?itemName=Zignd.html-css-class-completion)
* [HTML CSS Support](https://marketplace.visualstudio.com/items?itemName=ecmel.vscode-html-css)
* [Prettier - Code formatter](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)
* [Pretiier ESLint](https://marketplace.visualstudio.com/items?itemName=rvest.vs-code-prettier-eslint)
* [ThunderClient](https://marketplace.visualstudio.com/items?itemName=rangav.vscode-thunder-client)
* [SonarLint](https://plugins.jetbrains.com/plugin/7973-sonarlint)

### [](#useful-browser-plugins)Useful browser plugins

* [Angular dev tools extension](https://angular.io/guide/devtools#devtools-overview)
* [Lighthouse](https://developer.chrome.com/docs/lighthouse/overview/)
* [ReduxDevTools](https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd)

### [](#useful-links)Useful links

* [Storybook](https://storybook.js.org/)

NgRX
====================
This chapter gives guidance about NgRx. NgRx is a framework for building reactive applications in Angular.

OneCx uses NgRx to manage the state of an applet. The communication with the store is done by smart components, usually by the page components.

## [](#guidelines-for-ngrx)Guidelines for NgRx

* An action is only dispatched at one place.
* Actions are never dispatched conditionally.
* For every component that is getting data from the store there is an interface for the viewmodel that is called like the component class but with postfix "ViewModel".
* For every component that is getting data from the store there is a selector for the viewmodel that is called like the viewmodel interface but with the prefix "select".
* Every component that is getting data from the store selects only the viewmodel via the viewmodel selector. The observable that is storing the result is called `viewModel$`.
* Every HTML file of a component that is getting data from the store has an outer ng-container tag that is using the ngrxLet directive e.g. `*ngrxLet="viewModel$ as vm"`.
* The store never stores data that can be computed from other data in the store. This is done in selectors.
* Selectors are only accessing the data on top-level of the part of the store that is past to it.
* Every feature module has its own feature store.
* The store is the model of the applet and is modeled like that. Data that is relevant for all pages in the feature are stored on top-level. Data that is only relevant for one page is stored in a subsection of the store which is called like the page.
* All HTTP calls are done in effects.
* Routing or changing the URL parameters via the angular router is done in effects.
* Selectors, reducers and effects are tested.
* For reducers there is at least a test for the initial state and for one state that is not the initial state.
* Effects are tested via marble testing.
* Selector tests are testing the projector function of the selectors.

## [](#project-structure)Project structure

* [See example for NgRx project](https://github.com/onecx-apps/ping-angular-app-ui)The following examples shows a potential folder structure, that might be extended based on the need.

| |  Folders should only be created and used if they have content. \[Example Angular NgRx structure\] |
| --------------------------------------------------------------------------------------------------- |

├── src
│   ├── app
│   │   ├── featuremodule1      // one of feature modules, might have many of them
│   │   │    ├── components     // optional - components shared between pages of this feature module
│   │   │    │    ├── featurecomponent1
│   │   │    │    │    ├── featurecomponent1.component.html
│   │   │    │    │    ├── featurecomponent1.component.scss
│   │   │    │    │    ├── featurecomponent1.component.spec.ts
│   │   │    │    │    ├── featurecomponent1.component.ts
│   │   │    ├── directives     // optional - directives used in specific feature module
│   │   │    ├── pages
│   │   │    │    ├── page1       // every page gets a subfolder, might have many of them
│   │   │    │    │     ├── page1subcomponent1    // one of subcomponent for page, optional + might have many of them
│   │   │    │    │     │     ├── page1subcomponent1.component.html
│   │   │    │    │     │     ├── page1subcomponent1.component.scss
│   │   │    │    │     │     ├── page1subcomponent1.component.spec.ts
│   │   │    │    │     │     ├── page1subcomponent1.component.ts
│   │   │    │    │     │     ├── page1subcomponent1.viewmodel.ts
│   │   │    │    │     ├── dialogs
│   │   │    │    │     │     ├── page1dialog1    // dialog that is only used by this page, optional + might have many of them
│   │   │    │    │     │     │     ├── page1dialog1.component.html
│   │   │    │    │     │     │     ├── page1dialog1.component.scss
│   │   │    │    │     │     │     ├── page1dialog1.component.spec.ts
│   │   │    │    │     │     │     ├── page1dialog1.component.ts
│   │   │    │    │     │     │     ├── page1dialog1.viewmodel.ts
│   │   │    │    │     ├── page1.component.html
│   │   │    │    │     ├── page1.component.scss
│   │   │    │    │     ├── page1.component.spec.ts
│   │   │    │    │     ├── page1.component.ts
│   │   │    │    │     ├── page1.reducer.ts
│   │   │    │    │     ├── page1.reducer.spec.ts
│   │   │    │    │     ├── page1.selectors.ts
│   │   │    │    │     ├── page1.selectors.spec.ts
│   │   │    │    │     ├── page1.state.ts
│   │   │    │    │     ├── page1.effects.spec.ts
│   │   │    │    │     ├── page1.effects.ts
│   │   │    │    │     ├── page1.actions.ts
│   │   │    │    │     ├── page1.viewmodel.ts
│   │   │    ├── dialogs // dialogs which are used across pages, optional
│   │   │    │    ├── dialog1       // every dialog gets a subfolder, might have many of them
│   │   │    │    │     ├── dialog1subcomponent1    // one of subcomponent for dialog, optional + might have many of them
│   │   │    │    │     │     ├── dialog1subcomponent1.component.html
│   │   │    │    │     │     ├── dialog1subcomponent1.component.scss
│   │   │    │    │     │     ├── dialog1subcomponent1.component.spec.ts
│   │   │    │    │     │     ├── dialog1subcomponent1.component.ts
│   │   │    │    │     │     ├── dialog1subcomponent1.viewmodel.ts
│   │   │    │    │     ├── dialog1.component.html
│   │   │    │    │     ├── dialog1.component.scss
│   │   │    │    │     ├── dialog1.component.spec.ts
│   │   │    │    │     ├── dialog1.component.ts
│   │   │    │    │     ├── dialog1.reducer.ts
│   │   │    │    │     ├── dialog1.reducer.spec.ts
│   │   │    │    │     ├── dialog1.selectors.ts
│   │   │    │    │     ├── dialog1.selectors.spec.ts
│   │   │    │    │     ├── dialog1.state.ts
│   │   │    │    │     ├── dialog1.effects.spec.ts
│   │   │    │    │     ├── dialog1.effects.ts
│   │   │    │    │     ├── dialog1.actions.ts
│   │   │    │    │     ├── dialog1.viewmodel.ts
│   │   │    ├── featuremodule1.module.ts
│   │   │    ├── featuremodule1.reducers.ts
│   │   │    ├── featuremodule1.reducers.spec.ts
│   │   │    ├── featuremodule1.routes.ts
│   │   │    ├── featuremodule1.selectors.ts
│   │   │    ├── featuremodule1.selectors.spec.ts
│   │   │    ├── featuremodule1.state.ts
│   │   ├── shared // (technical) components and directives used in multiple feature modules
│   │   │    ├── components
│   │   │    │     ├── sharedcomponent1
│   │   │    │     │     ├── sharedcomponent1.component.html
│   │   │    │     │     ├── sharedcomponent1.component.scss
│   │   │    │     │     ├── sharedcomponent1.component.spec.ts
│   │   │    │     │     ├── sharedcomponent1.component.ts
│   │   │    ├── directives
│   │   │    │     ├── directive1.ts
│   │   │    │     ├── directive1.spec.ts
│   │   │    ├── generated      //generated from openApi
│   │   │    │    ├── models
│   │   │    │    ├── services
│   │   │    ├── shared.module.ts
│   │   ├── app-routing.module.ts
│   │   ├── app.component.html
│   │   ├── app.component.scss
│   │   ├── app.component.ts
│   │   ├── app.module.ts
│   │   ├── app.state.ts
│   │   ├── app.reducers.ts
│   │   ├── app.reducers.spec.ts
│   │   ├── app.selectors.ts
│   │   ├── app.selectors.spec.ts
│   ├── assets
│   │   │   ├── i18n
│   │   │   ├── fonts
│   │   │   ├── images
│   │   │   ├── scss
│   │   │   ├── yamls
│   ├── environments
│   │   │   ├── dev
│   │   │   ├── prod

## [](#subcomponents)Subcomponents

Usually subcomponents have a single input for the viewmodel called `vm`. This viewmodel is a member of the components viewmodel and is build via selectors. If a subcomponent has also a subsubcomponent, the viewmodel of the subcomponent has a member containing the viewmodel of the subsubcomponent.

## [](#dialogs)Dialogs

There are two kinds of dialogs:

* dialogs only used in one page
* dialogs used in multiple pages

Both dialog types have in common that:

* they are opened in effects
* the result is handled in the effects and is converted into an action
* they have a viewmodel
* they are opened with `PortalDialogService.openDialog(…​)`
* they are communicating with the code that opened the dialog by implementing the interface `DialogResult`
* Implementing `DialogButtonClicked` can help setting the dialog result before the dialog closes

### [](#dialogs-used-in-one-page)Dialogs used in one page

The components used for dialogs are subcomponents of the page they are used in. Theses subcomponents are placed in a subfolder called 'dialogs'. They do not have a separate section in the store because they are sharing the data of the page they are belonging to. The viewmodel can be passed via an input which is called 'vm'. The viewmodel is read from the store via a viewmodel selector in the effects or is build with data from the action which is triggering the opening of the dialog.

The dialogs can also dispatch actions but only if they are not used to react on the closing of the dialog. Reacting to the closing is always done via the Observable returned by `openDialog(…​)`

### [](#dialogs-used-in-mulitple-pages)Dialogs used in multiple pages

The structure and inner workings of a dialog that is used in many pages is similar to the structure of a page. They have their own section in the store, own effects, own selectors,…​ Dialogs that are used by multiple pages are always dispatching an action that is informing about the opening of the dialog in the constructor of the dialog component. The viewmodel is read from the store inside of the component via a selector like it is done for a page.

## [](#further-information-about-ngrx)Further information about NgRx

For a further introduction, please checkout the [NgRX documentation](https://ngrx.io/).

Furthermore, the following [video tutorial](https://app.pluralsight.com/library/courses/rxjs-angular-reactive-development/table-of-contents) might be helpful.

OneCX version 7 changelog
====================
## [](#changelog)Changelog

* General changes  
   * [Guards synchronization](#guards-synchronization)

## [](#general-changes)General changes

### [](#guards-synchronization)Guards synchronization

The navigation guards are now synchronized between all microfrontends. This means that during navigation, all microfrontends will have their guards executed in a coordinated manner, ensuring consistent behavior across the entire application. Navigation will only proceed if all microfrontends approve the transition. In case of a rejection by any microfrontend, the navigation will be aborted, maintaining the integrity of the application’s state.

#### [](#initial-microfrontend-load)Initial microfrontend load

During the initial load of the application, it is likely that there are existing microfrontends that already approved the navigation that led to the current route. There is a scenario where the microfrontend that is being loaded initially has a guard that rejects the current navigation. In this case, the navigation will be aborted, and the application will revert to the previous state before the initial load.

Minimal Requirements for OneCX UI App Compatibility
====================
This guide lists the minimal requirements for an UI App to be fully compatible with OneCX. Each requirement is classified as "must-have" or "should-have" and the impact of missing each requirement is described.

## [](#must-have-requirements)Must-have Requirements

### [](#lower-angular-version)Have lower Angular package version than the Shell or respective preloader

Impact: Broken environment

* Check the Shell version and ensure your App uses an equal or lower Angular version.
* Please refer to this [Troubleshooting Guide shell related section](../../onecx-docs-guides/troubleshooting.html#shell-related) on how to use DevTools to inspect shared packages.

### [](#onecx-compatible-migration)Constructed using @onecx/angular-webcomponents

Impact: Router out of sync, many potential issues

* For step-by-step instructions on migrating a vanilla Angular App to a OneCX-compatible microfrontend using @onecx/angular-webcomponents among other packages, refer to the [Migration Steps in Vanilla to OneCX Migration Guide](../../angular/cookbook/migrations/vanilla-to-onecx/index.html#migration-steps).

### [](#module-federation-any-technology)Module-federation with remoteEntry.js (any technology)

Impact: Applications exposed with different technologies might not be compatible with the Shell

* Ensure your App exposes remoteEntry.js and is configured for module federation.

### [](#expose-library-assets)Expose assets of used libraries

Impact: Translations missing

* Confirm assets (e.g., i18n) from libraries are exposed and available in your build output.
* Include the assets of the libraries they use in the angular.json or project.json file.

Example assets configuration

...
  "build": {
    ...
    "assets": [
      ...
      // @onecx/portal-integration-angular
      {
        "glob": "**/*",
        "input": "node_modules/@onecx/portal-integration-angular/assets/",
        "output": "/onecx-portal-lib/assets/"
      }
      // @onecx/angular-accelerator
      {
        "glob": "**/*",
        "input": "./node_modules/@onecx/angular-accelerator/assets/",
        "output": "/onecx-angular-accelerator/assets/"
      }
      // @onecx/angular-utils
      {
        "glob": "**/*",
        "input": "./node_modules/@onecx/angular-utils/assets/",
        "output": "/onecx-angular-utils/assets/"
      }
      ...
    ],
    ...
  }
...

### [](#expose-library-styles)Expose styles.css of used libraries

Impact: Styles of components from libraries might be incorrect

* Expose library styles in project.json or angular.json.

Example styles configuration

...
  "build": {
    ...
    "styles": [
      ...
      // @onecx/portal-integration-angular
      "node_modules/@onecx/portal-integration-angular/assets/styles.scss",

      // @onecx/angular-accelerator
      "node_modules/@onecx/angular-accelerator/assets/styles.scss",
      ...
    ],
    ...
  }
...

### [](#sharing-range)Sharing is done with '^'

Impact: We should share as much as possible

* Use caret '^' for all shared package versions in package.json (except rxjs, which should use '\~').
* Refer to the [Troubleshooting Guide installed packages section](../../onecx-docs-guides/troubleshooting.html#installed-packages) for correct range and examples.

### [](#shared-packages)Angular, PrimeNG, NGRX and OneCX packages are shared

Impact: Broken application

* In webpack.config.js, share all required packages
* Refer to the [Troubleshooting Guide webpack config section](../../onecx-docs-guides/troubleshooting.html#webpack-configuration) for correct sharing syntax and examples.

### [](#share-angular-utils)Share @onecx/angular-utils library

Impact: Might lead to unwanted side effects for your App and also other Apps in the Shell.

* Especially if @onecx/angular-accelerator or @onecx/portal-integration-interface is used and shared.
* Please check your webpack configuration and make sure to include the @onecx/angular-utils in the shared modules.

### [](#routing-relative-paths)Routing is done with relative paths

Impact: Incorrect routing results

* Use relative paths in Angular router configuration to avoid navigation issues.
* Please refer to the [OneCX General Routing Guide](../../angular/cookbook/routing/index.html#general-routing-guidelines) for using relative paths and other information on routing in OneCX.

### [](#webpack-importmeta)Webpack configuration for importMeta

Impact: Translation issues

* Ensure your webpack configuration includes the correct importMeta configuration.
* For the correct configuration, please refer to the [OneCX Multi-language Translations Guide](../../angular/cookbook/multi-language/multi-language-setup.html#provide-translation-path) and other information on multi-language in OneCX.

### [](#package-compatibility)Ensure package compatibility

Impact: Broken application

* Verify that all packages used in your App are compatible with OneCX.

__Table 1\. Compatible package versions for Angular 18 (libs version 5.x)__
| Package             | Compatible Versions |
| ------------------- | ------------------- |
| @ngx-translate/core | ^15.0.0             |
| ngx-build-plus      | ^18.0.0             |
| primeng             | ^17.18.0            |

__Table 2\. Compatible package versions for Angular 19 (libs version 6.x)__
| Package             | Compatible Versions |
| ------------------- | ------------------- |
| @ngx-translate/core | ^16.0.0             |
| ngx-build-plus      | ^19.0.0             |
| primeng             | ^19.0.0             |

## [](#should-have-requirements)Should-have Requirements

### [](#module-federation-webpack)Module-federation via webpack for exposing remoteEntry.js

Impact: We don’t know if other technologies are working

* Prefer webpack for module federation setup.
* Verify your webpack configuration:

Example webpack.config.js

...
const config = withModuleFederationPlugin({
  name: 'YOUR_MFE_NAME',
  filename: 'remoteEntry.js',
  exposes: {
    './RemoteModule': 'src/main.ts',
  },
  shared: share({...})
});
...

### [](#expose-app-styles)Expose App styles.css

Impact: No styles for the application are loaded

* Ensure your App exposes its styles.css.
* How the styles.css is exposed depends on the package used for building the App (NX or Angular CLI).
* NX:

project.json

{
    ...
    "styles": [
        {
            "input": "./src/styles.scss",
            "bundleName": "styles",
            "inject": true
        }
    ],
    ...
}

* Angular CLI:

package.json

{
    ...
    "scripts": {
        "postbuild": "mv \"$(find dist/my-project-name -maxdepth 1 -type f -name 'styles.*.css' | head -n 1)\" dist/my-project-name/styles.css",
    }
    ...
}

* Adjust the build command in package.json to rename the generated styles file to styles.css because of the hash in the filename by adding`cp dist/replace_path_to/styles.*.css dist/replace_path_to/styles.css"`
* Ensure the styles.css including all your styles is present in the build output.

Example package.json

...
"scripts": {
  ...
    "build": "nx build && cp dist/my-project-name/styles.*.css dist/my-project-name/styles.css",
  ...
}
...

OneCX Multi-language Translations
====================
## [](#overview)Overview

This document contains instructions on how to set up multi-language translations in a [**OneCX compatible**](../migrations/vanilla-to-onecx/index.html) application using the `@ngx-translate` library.

## [](#prerequisites)Prerequisites

Before proceeding, ensure that your application meets the compatibility requirements.

## [](#setup)Setup

To set up the multi-language translations support follow the steps listed below.

### [](#install-ngx-translate)Step 1: Install ngx-translate Library

The `@ngx-translate/core` package has to be installed in the project.

```bash
npm i @ngx-translate/core
```

| |  Make sure to add a ^ sign in the package.json file of the project for @ngx-translate/core library. |
| ----------------------------------------------------------------------------------------------------- |

### [](#share-ngx-translate)Step 2: Share ngx-translate In Webpack Configuration

The `@ngx-translate/core` package has to be added as a shared package in webpack configuration.

```typescript
const config = withModuleFederationPlugin({
  ...
  shared: share({
    ...
    '@ngx-translate/core': { requiredVersion: 'auto' },
    ...
  }),
});
```

This ensures the package is shared between the app and OneCX.

### [](#create-translation-files)Step 3: Create Translation Files

Create translation files (e.g., en.json, de.json) in a directory such as assets/i18n/. These files will contain key-value pairs for each language.

en.json

```json
{
  "HELLO": "Hello",
  "WELCOME": "Welcome"
}
```

### [](#import-utilities)Step 4: Import Required Utilities

In your remote module file, import the following:

remote.module.ts

```typescript
import { addInitializeModuleGuard, AppStateService } from '@onecx/angular-integration-interface';
import { createTranslateLoader, provideTranslationPathFromMeta } from '@onecx/angular-utils';
```

### [](#wrap-routes)Step 5: Wrap Routes with Initialization Guard

Wrap your routes with addInitializeModuleGuard to ensure translations are loaded correctly:

remote.module.ts

```typescript
imports: [
  ...
  RouterModule.forRoot(addInitializeModuleGuard(routes)),
  ...
]
```

### [](#configure-translate-module)Step 6: Configure TranslateModule

Add TranslateModule.forRoot() to your module’s imports array (or commonImports if shared):

remote.module.ts

```typescript
imports: [
  ...
  TranslateModule.forRoot({
    isolate: false,
    loader: {
      provide: TranslateLoader,
      useFactory: createTranslateLoader,
      deps: [HttpClient]
    }
  }),
  ...
]
```

Optionally, if you intend to support multiple locales at the same time in case of missing translations for the current locale, you can utilize the `MultiLanguageMissingTranslationHandler` available via `@onecx/angular-utils`:

remote.module.ts

```typescript
import {
  MultiLanguageMissingTranslationHandler
} from '@onecx/angular-utils'

imports: [
  ...
  TranslateModule.forRoot({
    isolate: false,
    loader: {
      provide: TranslateLoader,
      useFactory: createTranslateLoader,
      deps: [HttpClient]
    },
    missingTranslationHandler: {
      provide: MissingTranslationHandler,
      useClass: MultiLanguageMissingTranslationHandler
    }
  }),
  ...
]
```

### [](#provide-translation-path)Step 7: Provide Translation Path

Use provideTranslationPathFromMeta(import.meta.url, …​) to specify the location of your translation files:

remote.module.ts

```typescript
providers: [
  ...
  provideTranslationPathFromMeta(import.meta.url, 'assets/i18n/'),
  ...
]
```

| |  Replace 'assets/i18n/' with the actual path to your translation files if different. |
| -------------------------------------------------------------------------------------- |

| |  If the error "Cannot construct translation path from local file path. Please check whether the webpack configuration for importMeta is correct: [https://webpack.js.org/configuration/module/#moduleparserjavascriptimportmeta"](https://webpack.js.org/configuration/module/#moduleparserjavascriptimportmeta)appears, it means either the provider is used in the application and import.meta.url incorrectly resolves to a local file:// path. or the application does not use provideTranslationPathFromMeta, but is likely using a newer Angular version than the shell or preloader. In this case, modules are loaded from the app’s context, which also leads to a local file:// prefix. To fix this, this line has to be added to module.exports in the webpack.config.js: webpack.config.ts module.exports = {  ...   module: { parser: { javascript: { importMeta: false } } }, } |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#feature-modules)Step 8: Support in Feature Modules

If any feature modules use ngx-translate features (e.g., translate pipe), ensure TranslateModule is also imported in those modules:

feature.module.ts

```typescript
@NgModule({
  imports: [
    ...
    TranslateModule,
    ...
  ]
})
export class FeatureModule {}
```

## [](#completion-checklist)Completion Checklist

To verify that the setup is complete, ensure the following:

* `@ngx-translate/core` is installed and listed in `package.json` with a `^` sign.
* Webpack configuration includes `@ngx-translate/core` as a shared package.
* Translation files are created and accessible.
* Application routes are wrapped with `addInitializeModuleGuard`.
* `TranslateModule.forRoot()` is configured in the remote module.  
   * (Optional) `MultiLanguageMissingTranslationHandler` is set up for full multi-language support.
* `provideTranslationPathFromMeta` is used to specify the translation files' path.
* `TranslateModule` is imported in any feature modules using translation features.

## [](#next-steps)Next Steps

After completing the setup, you can start using translations in your components and templates. For usage instructions, refer to the [multi-language usage document](multi-language-usage.html).

OneCX Multi-language Translations Usage
====================
## [](#overview)Overview

This document provides guidance on how to use multi-language translations in a [**OneCX compatible**](../migrations/vanilla-to-onecx/index.html) application after setting it up using the [multi-language setup document](multi-language-setup.html).

## [](#prerequisites)Prerequisites

Before proceeding, ensure that the multi-language setup is complete.

## [](#usage)Usage

It is possible to use functionalities from `@ngx-translate` library to implement translations in the application.

### [](#templates-usage)Templates Usage

Use translations via **translate** pipe.

component.html

```html
<p>{{ 'HELLO' | translate }}</p>
```

### [](#translate-service-usage)TranslateService Usage

Use translations via **TranslateService**.

component.ts

```typescript
import { TranslateService } from '@ngx-translate/core';

this.translate.get('WELCOME').subscribe((translated: string) => {
    console.log('Translated message:', translated);
});
```

### [](#with-parameters)With Parameters

Use translations with parameters. Example:

en.json

```json
{
  "GREETING": "Hello, {{name}}! Welcome back."
}
```

component.html

```html
<p>{{ 'GREETING' | translate:{ name: 'Alice' } }}</p>
```

component.ts

```typescript
import { TranslateService } from '@ngx-translate/core';
this.translate.get('GREETING', params).subscribe((translated: string) => {
    console.log('Translated with params:', translated);
});
```

OneCX Multi-language Translations
====================
## [](#overview)Overview

In OneCX multi-language support is available via translations using `@ngx-translate` library.

A [OneCX compatible application](../migrations/vanilla-to-onecx/index.html) can be set up for multi-language translation to support multiple languages in the application.

## [](#setup)Setup

To set up the multi-language translations support follow the guidelines in the [multi-language setup document](multi-language-setup.html).

## [](#usage)Usage

After setting up the multi-language translations, functionalities from `@ngx-translate` library can be used to use application translations. For more guidance, please refer to [multi-language usage document](multi-language-usage.html).

## [](#language-information)Language Information

The currently used language can be accessed via [UserService](#libraries/angular-integration-interface.adoc#user-service).

OneCX PrimeNG Theming
====================
## [](#overview)Overview

In OneCX PrimeNG theming is handled by the OneCX shell in collaboration with the OneCX Theme Management application.

[OneCX compatible application](../migrations/vanilla-to-onecx/index.html):

* can influence PrimeNG design token values for itself.

## [](#theme-overrides)Theme Overrides

In OneCX it is possible to style the PrimeNG content differently for each Application. The mechanism that allows that is called theme overrides. Each application can specify what overrides should be applied to style PrimeNG content differently than in other applications on the page.

### [](#appropriate-scenarios)Appropriate Scenarios

This feature should be used when the application wants to control the style of:

* PrimeNG components
* OneCX components that base on PrimeNG components

### [](#usage-instructions)Usage Instructions

To use this feature, it’s required to add the options object as an argument to the `provideThemeConfig` call. This argument has a property called `overrides` that can be one of the following:

* Object with defined overrides
* Promise that resolves with defined overrides
* Function that returns one of the above

The object containing overrides must have the same structure as [PrimeNG’s presets](https://primeng.org/theming#definepreset). The presets can contain general variables like primary color or surface color, but its also possible to define customizations for components.

Each PrimeNG component specifies a list of design tokens (e.g., [button component design tokens](https://v18.primeng.org/button#Buttonclasses)). Those can be used to override certain styles of each component.

### [](#examples)Examples

Overriding the primary color with static values

```none
const primary = {
    50: '#ecfeff',
    100: '#cffafe',
    200: '#a5f3fc',
    300: '#67e8f9',
    400: '#22d3ee',
    500: '#06b6d4',
    600: '#0891b2',
    700: '#0e7490',
    800: '#155e75',
    900: '#164e63',
    950: '#083344',
}
provideThemeConfig({
  overrides: {
    semantic: {
      primary: primary,
      colorScheme: {
        light: {
            primary: primary
        }
      }
    }
  }
})
```

Overriding the form field focus border color with token value

```none
provideThemeConfig({
  overrides: {
    semantic: {
      colorScheme: {
        light: {
            formField: {
                focusBorderColor: '{primary.600}',
            }
        }
      }
    }
  }
})
```

OneCX Routing
====================
## [](#overview)Overview

In OneCX, there are requirements for routing inside the application as well as routing to other applications or endpoints. It is important to follow these guidelines to ensure that routing is handled correctly within the OneCX ecosystem.

## [](#prerequisites)Prerequisites

Before implementing routing in your OneCX application, ensure your application is [OneCX compatible](../migrations/vanilla-to-onecx/index.html).

## [](#reasons-for-restrictions)Reasons for restrictions

### [](#why-routing-restrictions)Why Routing Restrictions?

In OneCX, each application can be accessed via different base paths depending on the workspace configuration. Below are some examples of how **the same application** might be accessed:

* `<https://shell%5Fdeployment%5Fpath/my-workspace/my-application>`
* `<https://shell%5Fdeployment%5Fpath/employees-workspace/client-management/base>`

When an application is accessed via OneCX shell, the base path can vary, but every time the common parts are:

* `<https://shell%5Fdeployment%5Fpath/>` \- the deployment path of the OneCX shell
* `my-workspace` or `employees-workspace` \- the workspace identifier
* `my-application` or `client-management/base` \- the application path

What is important to note is that the workspace identifier and application path are not fixed and can be different depending on the workspace that the app is accessed from and the workspace configuration.

### [](#onecx-shell-routing)OneCX Shell Routing

OneCX shell handles the routing to the correct application based on the workspace configuration. It handles that on every navigation that changes the active workspace or application.

As an example, if any application navigates to `<https://shell%5Fdeployment%5Fpath/employees-workspace/client-management/client/123>`, the OneCX shell will ensure that the `employees-workspace` is activated and the `client-management` application is loaded with the correct context. The url parts that OneCX shell handles are:

* `<https://shell%5Fdeployment%5Fpath/>` \- the deployment path of the OneCX shell
* `employees-workspace` \- the workspace used to determine which workspace data to load
* `client-management` \- the application path to determine which application to load

The rest of the URL path should be handled by the application itself. In this case, the `client/123` part should be handled by the `client-management` application.

| |  Application’s router **will not be aware of the used parts of the URL that OneCX shell handles**. Therefore, it is required to have appropriate routing mechanisms in order to ensure that the application can handle routing correctly regardless of the workspace configuration. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#general-routing-guidelines)General Routing Guidelines

### [](#routing-inside-application)Routing Inside the Application

When routing inside the application, it is important to use **relative paths** instead of **absolute paths**. This ensures that the application can handle routing correctly regardless of the workspace configuration.

#### [](#routing-inside-application-examples)Examples

##### [](#navigate-to-details-page)Navigate to details page

Application is currently at `<https://shell%5Fdeployment%5Fpath/employees-workspace/client-management>` and needs to navigate to a client with ID 123, it should use a relative path.

```javascript
this.router.navigate(['client', 123]);
```

##### [](#navigate-back)Navigate back

Application is currently at `<https://shell%5Fdeployment%5Fpath/employees-workspace/client-management/client/123>` and needs to navigate back to the client list, it should use a relative path.

```javascript
this.router.navigate(['../'], { relativeTo: this.route });
```

### [](#routing-using-absolute-paths)Routing Using Absolute Paths

Sometimes, it might be necessary to use absolute paths for routing. In such cases, it is crucial to construct the absolute path dynamically based on the current workspace configuration. This can be achieved by using the [AppStateService](#libraries/angular-integration-interface.adoc#app-state-service) to get the currentMfe$, which contains the current workspace and application information.

#### [](#routing-using-absolute-paths-examples)Examples

##### [](#navigate-to-details-page-absolute)Navigate to details page using absolute path

Application is currently at `<https://shell%5Fdeployment%5Fpath/employees-workspace/client-management>` and needs to navigate to a client with ID 123 using an absolute path. It should construct the absolute path dynamically.

```javascript
import { firstValueFrom } from 'rxjs';
...

appStateService: AppStateService; // Injected via constructor

async routeOnClick() {
    const mfeInfo = await firstValueFrom(this.appStateService.currentMfe$);
    this.router.navigateByUrl(`/${mfeInfo.baseUrl}/client/123`);
}
```

| |  If you are using ngrx, you can use the [AppStateService](#libraries/angular-integration-interface.adoc#app-state-service) directly in your effects to construct the absolute path dynamically. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#routing-between-applications)Routing Between Applications

If it is necessary to route between different applications or to specific endpoints, it is recommended to use the [WorkspaceService](#cookbook/service/workspace-service/index.adoc).

The [WorkspaceService](#cookbook/service/workspace-service/index.adoc) provides methods to:

* Dynamically construct URLs for applications and endpoints based on the current workspace.
* Validate whether a route or endpoint exists before navigating.
* Resolve endpoint aliases and inject parameters into endpoint paths.

This approach ensures that applications remain decoupled from static configurations and are fully integrated into the OneCX workspace model.

Enable OneCX app to run in standalone
====================
The goal of this guide is to provide step by step instructions on how to enable standalone mode for an existing OneCX application and allowing it to run without a shell.

## [](#general)General

### [](#prerequisites)Prerequisites

This guide assumes that an Angular project is already set up and migrated to be compatible with OneCX.

Note that this guide does not cover general Angular project setup or the steps to migrate to OneCX.

## [](#steps)Steps

The goal of this cookbook is to refactor an existing OneCX compatible app so that it can not only run inside the OneCX platform but also as a standalone application. All steps have been tested in an app generated with Angular CLI and migrated to be compatible with OneCX but should also work in other OneCX compatible Angular apps (e.g. apps generated with NX).

To achieve the goal of running an application in standalone, a second set of entrypoint files has to be created. Similarly to the applications remote module in remote scenarios, the standalone entrypoint files will be used to add necessary imports and providers, and route requests to the correct feature modules. A detailed overview of which files have to be created can be found in later sections of this document.

### [](#install-dependecies)Install `@onecx/standalone-shell`

In order to run a OneCX app in standalone, it’s necessary to mock/provide some of the functionality that would usually be provided by the OneCX platform. To make this easy, `@onecx/standalone-shell` provides all the necessary code wrapped in a importable Angular module. Before using the module, the necessary dependency has to be added to the app. The dependency has to be installed using the version that is also used for other @onecx libraries in the project. The minimum required version of `@onecx/standalone-shell` is `5.31.0`.

```console
npm i @onecx/standalone-shell
```

### [](#rename-entrypoint-files)Rename existing entrypoint files

To avoid confusion, the projects `./src/main.ts` and `./src/bootstrap.ts` files should be renamed to `remote-main.ts` and `remote-bootstrap.ts`. Make sure to also adjust references to `./src/main.ts` and `./src/bootstrap.ts` (e.g. in `tsconfig.app.json` and `webpack.config.js`). If `remote-main.ts` and `remote-bootstrap.ts` already exist in the project, no further action is required.

### [](#add-standalone-module)Import `StandaloneShellModule` and modify app.component.html + app.component.ts

When running an app in standalone, `./src/app/app.module.ts`, `./src/app/app.component.html` and `./src/app/app.component.ts` are treated as the application entrypoints. To add standalone capabilities to the application, the `StandaloneShellModule` provided by `@onecx/standalone-shell` has to be added to the imports array of `./src/app/app.module.ts`. **Make sure to add the import as the last entry of the imports array.**

Afterwards the entire application has to be wrapped in a standalone-shell-viewport component provided as part of the imported `StandaloneShellModule`. To achieve this goal the contents of `./src/app/app.component.html` have to be replaced with the following code:

```none
<ocx-standalone-shell-viewport></ocx-standalone-shell-viewport>
```

Afterwards it should be ensured that the applications remote entrypoint (e.g. `./src/app/app-entrypoint.component.ts`) and the applications standalone entrypoint (e.g. `./src/app/app.component.ts`) have different selector names. The selector name can be found inside the `@Component` annotation that is placed before the component class in the components TypeScript file.

### [](#align-imports-and-providers-with-remote)Add necessary imports and providers to `app.module.ts`

Since `./src/app/app.module.ts` is not loaded in remote scenarios and the projects remote module is skipped in standalone mode it’s crucial that all critical imports and providers are present in both modules. To achieve this goal it’s recommended to create two exported variables in the remote module file before the actual module class. The variable `commonImports` should contain an array of imports that need to be present in both modules. Similarly the variable `commonProviders` should contain an array of providers that need to be present in both modules. After creating those variables they should be added to the `imports` and `providers` array in both modules. By doing this, the applications remote module is treated as the single source of truth, which helps with preventing import and provider errors.

```none
// Example providers and imports

import { BrowserModule } from '@angular/platform-browser'
import { BrowserAnimationsModule } from '@angular/platform-browser/animations'
import { CommonModule } from '@angular/common'
import { provideHttpClient, withInterceptorsFromDi } from '@angular/common/http'

export const commonProviders = [
  provideHttpClient(withInterceptorsFromDi()),
  ...
]

export const commonImports = [
  BrowserModule,
  BrowserAnimationsModule,
  CommonModule,
  ...
]

export class RemoteModule implements DoBootstrap {
  ...
}
```

### [](#update-index-html)Use `AppComponent` selector in `index.html`

To correctly render the standalone entrypoint, it has to be referenced in `index.html`. Therefore the element tag placed inside the body of `./src/index.html` must match the selector name of the applications standalone entrypoint (e.g. `./src/app/app.component.ts`), which can be obtained as mentioned above.

### [](#create-standalone-entrypoints)Create separate `main.ts` and `bootstrap.ts` for standalone

To correctly bootstrap and render the standalone version of an application, it’s necessary to create separate main and bootstrap files alongside the already existing files used for microfrontend bootstrapping (e.g. `./src/remote-main.ts` and `./src/remote-bootstrap.ts`).

The newly created bootstrap file must contain the following code:

```none
import { platformBrowserDynamic } from '@angular/platform-browser-dynamic'
import { AppModule } from './app/app.module'

platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .catch((err) => console.error(err))
```

The newly created main file should import the bootstrap files and handle potential errors:

```none
import('./bootstrap').catch((err) => console.error(err))
```

After creating the files, the newly created main files must be referenced in the `files` array in `tsconfig.app.json` so that it’s included in the applications bundle. Additionally it should be verified that the `build.options.main` property in the applications configuration file (e.g. `angular.json` or `project.json`) points to the newly created main file.

### [](#configure-translation-loading)Optional: Set up `@ngx-translate` translation loading

To ensure correct translation loading in an application using `@ngx-translate` a few more modifications have to be applied to `./src/app/app.module.ts`.

1. The package `@ngx-translate/core` has to be installed in the project.
2. The routes passed to `RouterModule.forRoot()` must be wrapped with `addInitializeModuleGuard` from `@onecx/angular-integration-interface`. This ensures correct translation loading for each route. Note that the route configuration might be placed in a separate routing module (e.g. `./src/app/app-routing.module.ts`) or in the `commonImports` you created in your applications remote module.  
imports: [  
  ...  
  RouterModule.forRoot(addInitializeModuleGuard(routes)),  
  ...  
],
3. `TranslateModule.forRoot()` has to be configured in the app modules imports array or the `commonImports` array that is being shared between `app.module.ts` and the application’s remote module. `createTranslateLoader` has to be imported from `@onecx/angular-utils` and ensures that the correct translation files is loaded on app load. If `@onecx/angular-utils` is not yet installed in the project, it has to be installed first. Note that the property `isolate` should not be necessary in a pure standalone setup and is only required when adding the `TranslateModule` configuration to a `commonImports` array.  
imports: [  
  ...  
  TranslateModule.forRoot({  
    isolate: false,  
    loader: {  
      provide: TranslateLoader,  
      useFactory: createTranslateLoader,  
      deps: [HttpClient]  
    }  
  }),  
  ...  
],
4. The path to the applications translations is provided automatically by the previously imported `StandaloneShellModule`. If any errors occur during translation loading, the network tab of the browsers developer tools can be used to verify that the application’s translation files are placed in the correct location.

Disclaimer: If any of the applications feature modules use ngx-translate features, such as the `translate` pipe, `TranslateModule` might have to be added to the feature modules imports array.

### [](#verify-standalone-mode)Verify that the app is running in standalone

After following the above mentioned steps the app should be accessible on its configured URL (e.g. <http://localhost:4200>).

Migrate vanilla Angular apps to OneCX
====================
The goal of this guide is to provide step by step instructions on how to migrate a vanilla Angular app to a OneCX compatible microfrontend application.

## [](#general)General

### [](#prerequisites)Prerequisites

This guide assumes that an Angular project is already set up and that a OneCX platform instance is up and running. At the time of writing, some required dependencies are only compatible with Angular version 18\. Therefore the application must be updated to Angular 18 before migrating. Additionally, the Angular application should be based on feature modules, which are lazy loaded before routing or route directly to standalone components.

Note that this guide does not cover general Angular project setup or the steps to configure OneCX.

## [](#migration-steps)Migration steps

The goal of this migration is to transform a "vanilla" Angular app into a OneCX compatible app that exposes a microfrontend which can be loaded and displayed by the OneCX platform. To achieve this goal, a few migration steps have to be completed. All steps have been tested in fresh Angular apps generated with the Angular CLI and the NX CLI (using Webpack as a bundler). Some steps only apply to either Angular CLI or NX based applications and are marked accordingly.

### [](#ensure-functionality)Ensure that your application works as expected

Before starting the migration, the correct functionality of the application in its "pre-migration" state should be verified by running existing tests, building the app and running it in a browser. This ensures that the app functions as expected before the migration, helping to prevent unexpected errors in later stages of the process.

### [](#install-dependencies)Install necessary dependencies

In order to convert an app into a OneCX compatible microfrontend it’s necessary to first install some dependencies which allow wrapping the app inside a OneCX compatible webcomponent and exposing it as a remote entrypoint.

Dependencies

```console
npm i @angular/elements@18 @angular-architects/module-federation @onecx/angular-integration-interface  @onecx/angular-utils @onecx/angular-webcomponents @webcomponents/webcomponentsjs
```

Dev-Dependencies (Only Angular CLI)

```console
npm i -D webpack webpack-merge ngx-build-plus@18
```

| |  For nx based applications the above mentioned dev dependencies are not needed as these apps already ship with a configurable builder. |
| ---------------------------------------------------------------------------------------------------------------------------------------- |

### [](#refactor-angular-json)Refactor `angular.json` to use ngx-build-plus builders (Only Angular CLI)

To correctly bundle an app for use in a microfrontend context, the default Angular bundler must be replaced with ngx-build-plus, and a few additional configuration options need to be specified.

| |  YOUR\_APP\_NAME should be replaced with the name of the actual application, which can be obtained from angular.json. TODO comments should be taken care of and afterwards removed from the file. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

angular.json

```json
...
"architect": {
    "build": {
        "builder": "ngx-build-plus:browser",
        "options": {
            ...
            // TODO: property "browser" should be removed in favor of "main" if it exists
            "main": "src/main.ts",
            "scripts": ["node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"],
            "extraWebpackConfig": "webpack.config.js",
            // TODO: Replace "./YOUR_ASSETS_FOLDER" with the path to your projects asset folder.
            "assets": [
              {
                "glob": "**/*",
                "input": "./YOUR_ASSETS_FOLDER",
                "output": "assets"
              },
              ...
            ]
        },
        ...
        "configurations": {
            "production": {
               ...
               "extraWebpackConfig": "webpack.prod.config.js"
            },
           ...
        }
    },
    "serve": {
        "builder": "ngx-build-plus:dev-server",
        "options": {
            ...
            "buildTarget": "YOUR_APP_NAME:build",
            "port": 4200,
            "publicHost": "http://localhost:4200",
            "extraWebpackConfig": "webpack.config.js"
        },
        "configurations": {
            ...
            "production": {
                ...
                "extraWebpackConfig": "webpack.prod.config.js"
            },
        },
        ...
    },
    "extract-i18n": {
        "builder": "ngx-build-plus:extract-i18n",
        "options": {
            "buildTarget": "YOUR_APP_NAME:build",
            "extraWebpackConfig": "webpack.config.js"
        }
    },
    ...
}
```

### [](#refactor-project-json)Refactor `project.json` to enable custom bundling (Only NX)

To correctly bundle an app for use in a microfrontend context, the default bundler used for NX Angular projects must be replaced with a specific Webpack bundler, and a few additional configuration options need to be specified.

project.json

```json
...
"targets": {
    "build": {
        "executor": "@nx/angular:webpack-browser",
        "options": {
            ...
            "scripts": ["node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"],
            "customWebpackConfig": {
              "path": "webpack.config.js"
            },
            // TODO: Replace "./YOUR_ASSETS_FOLDER" with the path to your projects asset folder.
            "assets": [
              {
                "glob": "**/*",
                "input": "./YOUR_ASSETS_FOLDER",
                "output": "assets"
              },
              ...
            ]
        },
        ...
        "configurations": {
            "production": {
              ...
              "customWebpackConfig": {
                "path": "webpack.prod.config.js"
              }
            },
            ...
        }
    },
    "serve": {
        "builder": "@nx/angular:dev-server",
        ...
    },
    ...
}
```

### [](#create-entrypoints)Create app entrypoint files

To enable an app to run both as a standalone application and as a microfrontend, it’s necessary to provide separate entry points for remote and standalone consumption. This guide will focus on the creation of the remote/microfrontend entrypoints and doesn’t require any changes to an Angular apps default entrypoints (app.module.ts, app.component.ts etc.). For instructions on how to prepare a migrated OneCX application and its entrypoints for standalone consumption see the [Standalone Mode](#standalone-mode) section of this document.

#### [](#create-entrypoint-component)Create app-entrypoint-component

This component will serve as the root entrypoint of the application, when served as a microfrontend.

##### [](#create-entrypoint-component-html)Create `src/app/app-entrypoint.component.html`

To provide a router outlet at the root of the exposed microfrontend the components HTML must contain the default Angular router-outlet.

```html
<router-outlet></router-outlet>
```

##### [](#create-entrypoint-component-ts)Create `src/app/app-entrypoint.component.ts`

Alongside the created HTML file the following TypeScript file should be created.

```typescript
import { Component } from '@angular/core'
@Component({
  selector: 'app-root',
  templateUrl: './app-entrypoint.component.html'
})
export class AppEntrypointComponent {}
```

#### [](#create-entrypoint-module)Create remote module `src/app/remote.module.ts`

To declare the entrypoint component and provide a root module for the microfrontend (equivalent to app.module), a separate module has to be created. It serves as sort of a replacement for the normal `app.module.ts` file which will be treated as the application root in the microfrontend context and enables specific module configuration for the different use-cases. Additionally it exposes the previously mentioned entrypoint component as a web component. Apart from the microfrontend specific code, the module should also include all essential imports, providers etc. that would normally be included in the `app.module.ts` file.

To ensure a correct loading of the application microfrontend and a connection between the app’s router and the OneCX router, the module must at least include the following code (`ocx-test-component` should be replaced with whatever name makes sense for the application that is being migrated):

```typescript
import { APP_INITIALIZER, DoBootstrap, Injector, NgModule } from '@angular/core'
import { RouterModule, Routes, Router } from '@angular/router'
import { BrowserModule } from '@angular/platform-browser'
import { BrowserAnimationsModule } from '@angular/platform-browser/animations'
import { createAppEntrypoint, initializeRouter, startsWith } from '@onecx/angular-webcomponents'
import { AppStateService } from '@onecx/angular-integration-interface'
import { AppEntrypointComponent } from './app-entrypoint.component'
// TODO: Replace with application routes
const routes: Routes = [
  {
    matcher: startsWith(''),
    loadChildren: () => import('./feature/feature.module').then((m) => m.FeatureModule)
  },
  {
    matcher: startsWith('additional'),
    loadChildren: () => import('./feature2/feature2.module').then((m) => m.FeatureModule)
  }
]
@NgModule({
  declarations: [AppEntrypointComponent],
  imports: [
    BrowserModule,
    BrowserAnimationsModule,
    RouterModule.forRoot(routes),
  ],
  providers: [
    {
      provide: APP_INITIALIZER,
      useFactory: initializeRouter,
      multi: true,
      deps: [Router, AppStateService]
    }
  ]
})
export class RemoteModule implements DoBootstrap {
  constructor(private readonly injector: Injector) {}
  ngDoBootstrap(): void {
    createAppEntrypoint(AppEntrypointComponent, 'ocx-test-component', this.injector)
  }
}
```

In this example the `remote.module.ts` file provides a remote entrypoint component, called ocx-test-component, connects the remote app’s router to the OneCX router and defines two routes that each route to a different feature module.

| |  Depending on the application this file will vary heavily and contain different providers, imports etc.. To ensure correct routing using the Angular router, instead of specifying a path for each route, a matcher should be specified using the startsWith function from the [@onecx/angular-webcomponents](../../../../implementation-details/webcomponents.html#onecx-angular-webcomponents) package. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

#### [](#configure-remote-module-translation-loading)Optional: Set up `@ngx-translate` translation loading in the remote module

To ensure correct translation loading in an application using `@ngx-translate` a few modifications have to be applied to the remote module mentioned above.

1. The package `@ngx-translate/core` has to be installed in the project.
2. After installing the package, it has to be added to the `shared` configuration in the `webpack.config.js` file. This ensures that the package is shared between the app and OneCX.  
const config = withModuleFederationPlugin({  
  ...  
  shared: share({  
    ...  
    '@ngx-translate/core': { requiredVersion: 'auto' },  
    ...  
  }),  
})
3. After the initial configuration, translation files can be created and translations can be used in the app.
4. After creating the translation files, a few imports have to be added at the beginning of the remote module file.  
import { addInitializeModuleGuard, AppStateService } from '@onecx/angular-integration-interface';  
import { createTranslateLoader, provideTranslationPathFromMeta } from '@onecx/angular-utils'
5. The routes passed to `RouterModule.forRoot()` must be wrapped with `addInitializeModuleGuard`. This ensures correct translation loading for each route.  
imports: [  
  ...  
  RouterModule.forRoot(addInitializeModuleGuard(routes)),  
  ...  
],
6. `TranslateModule.forRoot()` has to be configured in the modules imports array or the `commonImports` array that is being shared between `app.module.ts` and the remote module. The factory function `createTranslateLoader` ensures that the correct translation files is loaded on app load.  
imports: [  
  ...  
  TranslateModule.forRoot({  
      isolate: false,  
      loader: {  
        provide: TranslateLoader,  
        useFactory: createTranslateLoader,  
        deps: [HttpClient]  
      }  
    }),  
  ...  
],
7. The path to the applications translations has to be provided using provideTranslationPathFromMeta(import.meta.url,…​).  
providers: [  
  ...  
  provideTranslationPathFromMeta(import.meta.url, 'assets/i18n/'),  
  ...  
]

| |  If the error "Cannot construct translation path from local file path. Please check whether the webpack configuration for importMeta is correct: [https://webpack.js.org/configuration/module/#moduleparserjavascriptimportmeta"](https://webpack.js.org/configuration/module/#moduleparserjavascriptimportmeta)appears, it means either the provider is used in the application and import.meta.url incorrectly resolves to a local file:// path. or the application does not use provideTranslationPathFromMeta, but is likely using a newer Angular version than the shell or preloader. In this case, modules are loaded from the app’s context, which also leads to a local file:// prefix. To fix this, this line has to be added to module.exports in the webpack.config.js: webpack.config.ts module.exports = {  ...   module: { parser: { javascript: { importMeta: false } } }, } |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Disclaimer: If any of the applications feature modules use ngx-translate features, such as the `translate` pipe, `TranslateModule` might have to be added to the feature modules imports array.

#### [](#expose-entrypoint)Create `remote-bootstrap.ts` and `remote-main.ts`

To correctly bootstrap and later expose the microfrontend application, a file called `src/remote-bootstrap.ts` has to be created with the following contents:

```typescript
import { bootstrapModule } from '@onecx/angular-webcomponents'
import { RemoteModule } from './app/remote.module'
// TODO: Replace this with a dynamic value (e.g. from environment.ts)
const isProduction = false
bootstrapModule(RemoteModule, 'microfrontend', isProduction)
```

Additionally a file called `src/remote-main.ts` should be created. This file will call the newly created bootstrap script and handle any errors. If any additional code has to be executed after a successful bootstrapping of the application, it can be placed in a .then block after the import statement and before the catch statement.

```typescript
import('./remote-bootstrap').catch((err) => console.error(err))
```

#### [](#bundle-entrypoint)Add newly created `remote-main.ts` to `files` in tsconfig

To ensure that the newly created file `remote-main.ts` is part of the compiled bundle, its location has to be added to the files array in `tsconfig.app.json`.

```none
"files": [
  ...
  "src/app/remote-main.ts"
],
```

### [](#webpack-configuration)Create Webpack config files

After creating all necessary entrypoint files and modifying the build configuration, all that’s left to do is to configure the application to expose all necessary entrypoint code in one consumable file called remoteEntry.js. This file will be used by the OneCX platform to obtain all information, necessary to render the microfrontend version of the application. In order to expose this file and ensure correct dependency sharing between the app and OneCX, a Webpack config file containing specific configuration properties has to be created.

The file, `webpack.config.js`, which should be placed in the root folder of the application must contain the following configuration:

| |  This file is meant to be used as a minimal starting point. Depending on the application the contents of the file, especially the shared config, may need to be adapted. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

```typescript
const { ModifyEntryPlugin } = require('@angular-architects/module-federation/src/utils/modify-entry-plugin')
const { share, withModuleFederationPlugin } = require('@angular-architects/module-federation/webpack')
const config = withModuleFederationPlugin({
  name: 'YOUR_MFE_NAME',
  filename: 'remoteEntry.js',
  exposes: {
    './RemoteModule': 'src/remote-main.ts',
  },
  shared: share({
    '@angular/core': { requiredVersion: 'auto', includeSecondaries: true },
    '@angular/common': { requiredVersion: 'auto', includeSecondaries: { skip: ['@angular/common/http/testing'] } },
    '@angular/common/http': { requiredVersion: 'auto', includeSecondaries: true },
    '@angular/forms': { requiredVersion: 'auto', includeSecondaries: true },
    '@angular/platform-browser': { requiredVersion: 'auto', includeSecondaries: true },
    '@angular/router': { requiredVersion: 'auto', includeSecondaries: true },
    rxjs: { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/angular-integration-interface': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/angular-utils': { requiredVersion: 'auto', includeSecondaries: true },
    '@onecx/angular-webcomponents': { requiredVersion: 'auto', includeSecondaries: true },
  }),
})
config.devServer = { allowedHosts: 'all' }
const plugins = config.plugins.filter((plugin) => !(plugin instanceof ModifyEntryPlugin))
module.exports = {
  ...config,
  plugins,
  output: { uniqueName: 'YOUR_MFE_NAME', publicPath: 'auto' },
  experiments: { ...config.experiments, topLevelAwait: true },
  optimization: { runtimeChunk: false, splitChunks: false }
}
```

To allow for a custom Webpack configuration in production environments it’s a good practice to additionally create a `webpack.prod.js` file that will extend the base config:

```typescript
module.exports = require('./webpack.config')
```

If necessary, this file can be used to overwrite or extend the contents of the base config with production specific values.

### [](#environment-file)Add environment file `env.json`

During the loading of an app, OneCX will try to load it’s environment file. To avoid any errors, a file called `env.json` should be accessible at <http://localhost:4200/assets/env.json>. This can be achieved by adding the respective file to the assets folder of the application. The file can be used to pass environment variables to OneCX. For now it can just contain an empty object (`{}`).

### [](#test-remote-entrypoint)Verify that the app is exposing a remote entry point

After completing all steps listed above, the application should be ready to be used as a microfrontend in the OneCX platform. After starting the application with its start command (e.g. `npm start`), the applications entrypoint file (remoteEntry.js) should be accessible at <http://localhost:4200/remoteEntry.js>.

## [](#standalone-mode)Standalone Mode

After completing all steps mentioned in this document, a previously existing "vanilla" Angular application should be runnable as a microfrontend in OneCX. If the app additionally has to support running in standalone (e.g. in local development), a few additional steps are necessary. All steps required for running an app in standalone are covered in the separate [Enable OneCX app to run in standalone](../enable-standalone/index.html) cookbook.

## [](#further-reading)Further Reading

For more information on how OneCX loads microfrontends and utilizes web components for content rendering, refer to the [Microfrontend Content Loading in OneCX](../../../../implementation-details/microfrontend-content-loading.html) and [Web Components in OneCX](../../../../implementation-details/webcomponents.html) pages of the OneCX Docs.

## [](#troubleshooting)Troubleshooting

### [](#troubleshooting-compilation-error)Compilation error `TypeError: The 'compilation' argument must be an instance of Compilation`

If you encounter the above mentioned error you might be using multiple conflicting `webpack` versions in your project. To verify that this is the case, first run `npm ls webpack`. If this command returns a list of multiple **different** versions of `webpack`, please modify your `package.json` file to resolve the version mismatches (change version or install webpack dependency if it doesn’t exist yet). In our case it helped to set the version to a fixed version (5.94.0), as this was the exact version that one other package tried to use as a peer dependency.

Calendar
====================
## [](#goal)Goal: Add Calendar Input

Add a Calendar as a search criteria input field for your search page.

| |  Please replace all occurences of **exampleDate** with the actual name in the following code snippets |
| ------------------------------------------------------------------------------------------------------- |

## [](#parameters)1\. Parameters

First add a new member to the <%= featurePropertyName %>SearchCriteriasSchema:

_Adapt in File:_ `<feature>-search.parameters.ts`

```javascript
    exampleDate: z
        .string()
        .transform((v) => (v ? new Date(v) : undefined))
        .optional(),
```

## [](#html)2\. HTML

Next, add the following code to your formGroup in the html file and adapt:

* by replacing all occurences of `exampleDate` with the actual name which is defined
* `dateFormat` according to your requirements following this primeng specific date format <https://primeng.org/calendar#format> where `mm/dd/yy` is the default.

_Adapt in File:_ `<feature>-search.component.html`

```html
    <span class="p-float-label">
        <p-calendar
            id="exampleDate"
            formControlName="exampleDate"
            name="exampleDate"
            ngDefaultControl
            pInputDate
            type="text"
            appendTo="body"
            [showClear]="true"
            dateFormat="" <-- SPECIFY THE REQUIRED DATE FORMAT OR REMOVE THIS PROPERTY IF DEFAULT SHOULD BE USED
            >
        </p-calendar>
        <label for="exampleDate">{{
            'YOUR_PRODUCT_SEARCH.CRITERIA.ID' | translate
        }}</label>
    </span>
```

## [](#selectors)3\. Selectors

Furthermore, the following needs to be done to correctly create date strings out of a p-calendar selector:

_Adapt in File:_ `<feature>-search.component.ts`

```javascript
    import { Calendar } from 'primeng/calendar';
    ...

    @ViewChildren(Calendar) calendars!: QueryList<Calendar>;
    ...

    search(formValue: FormGroup) {
      const searchCriteria = buildSearchCriteria(
        formValue.getRawValue(),
        this.calendars, <-- ADD THIS LINE
        {
            removeNullValues: true,
        },
      );
      this.store.dispatch(
      <%= featureClassName %>SearchActions.searchButtonClicked({ searchCriteria }),
      );
    }
```

## [](#effects)4\. Effects (Optional)

If it is required to only have the `date` and not the `` datetime+' in the URL, you need to adapt the `+syncParamsToUrl$ `` effect:

_Adapt in File:_ `<feature>-search.effects.ts`

```javascript
  syncParamsToUrl$ = createEffect(
    () => {
      return this.actions$.pipe(
        ofType(
          <%= featureClassName %>SearchActions.searchButtonClicked,
          <%= featureClassName %>SearchActions.resetButtonClicked,
        ),
        concatLatestFrom(() => [
          this.store.select(<%= featurePropertyName %>SearchSelectors.selectCriteria),
          this.route.queryParams,
        ]),
        tap(([, criteria, queryParams]) => {
          const results =
            <%= featurePropertyName %>SearchCriteriasSchema.safeParse(queryParams);
          if (!results.success || !equal(criteria, results.data)) {
            const params = {
              ...criteria,
              exampleDate: criteria.exampleDate?.toISOString()?.slice(0, 10) <-- ADD THIS LINE TO ONLY HAVE THE DATE IN THE URL
            };
            this.router.navigate([], {
              relativeTo: this.route,
              queryParams: params,
              replaceUrl: true,
              onSameUrlNavigation: 'ignore',
            });
          }
        }),
      );
    },
    { dispatch: false },
  );
```

| |  Don’t forget to add the translations to your **de.json** and **en.json**. |
| ---------------------------------------------------------------------------- |

Dropdown
====================
## [](#goal)Goal: Add Dropdown Input

Add a Dropdown as a search criteria input field for your search page.

| |  Please replace all occurences of **exampleEnum** with the actual name in the following code snippets |
| ------------------------------------------------------------------------------------------------------- |

## [](#parameters)1\. Parameters

First, add a new member to the <%= featurePropertyName %>SearchCriteriasSchema:

_Adapt in File:_ `<feature>-search.parameters.ts`

```javascript
    exampleEnum: z
        .string()
        .transform((v) => v as <%= featurePropertyName %>SearchRequestExampleEnum)
        .optional(),
```

## [](#html)2\. HTML

Next, add the following code to your formGroup in the html file and adapt by replacing all occurences of `exampleEnum` with the actual name which is defined.

_Adapt in File:_ `<feature>-search.component.html`

```html
    <span class="p-float-label">
        <p-dropdown
              id="exampleEnum"
              formControlName="exampleEnum"
              appendTo="body"
              [options]="(exampleEnum$ | async) ?? []"
              optionLabel="label"
              optionValue="value"
              placeholder="{{ 'YOUR_PRODUCT_SEARCH.CRITERIA.EXAMPLE_ENUM.PLACEHOLDER' | translate }}"
              display="chip"
              [showClear]="true"
        ></p-dropdown>
        <label for="exampleEnum$">{{
            'YOUR_PRODUCT_SEARCH.CRITERIA.EXAMPLE_ENUM.TITLE' | translate
        }}</label>
    </span>
```

## [](#component)3\. Component

Furthermore, the following needs to be done to have the correct translations displayed:

_Adapt in File:_ `<feature>-search.component.ts`

```javascript
    import { TranslateService } from '@ngx-translate/core';
    import { enumToDropdownOptions } from '@onecx/angular-accelerator';
    ...

    constructor(
        ...
        private translateService: TranslateService,
        ...
    ) {}
    ...

    exampleEnum$ = enumToDropdownOptions(
        this.translateService,
        <%= featurePropertyName %>SearchRequestExampleEnum,
        'YOUR_PRODUCT_SEARCH.CRITERIA.EXAMPLE_ENUM.OPTIONS.',
    );
```

| |  Don’t forget to add the translations to your **de.json** and **en.json**. |
| ---------------------------------------------------------------------------- |

Adding search criteria
====================
## [](#configure-search-criteria)Goal: Configure search criteria

Configure the search criteria input field and parameters for you search page.

## [](#request-object)1\. Request Object

Add additional properties to the `<feature>-bff.yaml`

_Adapt in File:_ `<feature>-bff.yaml`

```yml
Search<Feature>Request:
      type: object
      properties:
        pageNumber:
          type: integer
          format: int32
          default: 0
          description: 'The number of the page.'
        pageSize:
          type: integer
          format: int32
          default: 100
          maximum: 1000
          description: 'The size of the page.'
        id:
          type: string
        # Add additional properties here
```

## [](#parameters)2\. Parameters

Please define the members for your `<%= featurePropertyName %>SearchCriteriasSchema`

_Adapt in File:_ `<feature>-search.parameters.ts`

```javascript
    exampleString: z.string().optional(),
    exampleNumber: z
        .string()
        .transform((v) => (v ? Number(v) : undefined))
        .optional(),
    exampleStringArray: z
        .union([z.string(), z.array(z.string())])
        .transform((v: string | string[] | undefined): string[] | undefined =>
        v instanceof Array || !v
            ? (v as string[] | undefined)
            : ([v] as string[]),
        )
        .transform((v: string[] | undefined) => v?.map((e) => e))
        .optional(),
    exampleNumberArray: z
        .union([z.string(), z.array(z.string())])
        .transform((v: string | string[] | undefined): string[] | undefined =>
        v instanceof Array || !v
            ? (v as string[] | undefined)
            : ([v] as string[]),
        )
        .transform((v: string[] | undefined) => v?.map((e) => Number(e)))
        .optional(),
    exampleEnum: z
        .string()
        .transform((v) => v as <%= featurePropertyName %>SearchRequestExampleEnum)
        .optional(),
```

## [](#html)3\. HTML

Please specify here your desired search criterias

* The input fields must be added  
   * `formControlName` must match to your SearchCriteria model

_Adapt in File:_ `<feature>-search.component.html`

```html
 <form [formGroup]="criteriaGroup">
      <div class="grid mt-0 p-fluid">
        <div class="col-12 md:col-3">
          <span class="p-float-label">
           // PLACE YOUR INPUT FIELD HERE
          </span>
        </div>
        ...
```

## [](#examples-for-different-input-fields)Examples for different input fields

* text input field of type string  
   * Remove `// PLACE YOUR INPUT FIELD HERE` and paste the following code  
   * Adapt `id`, `formControlName`, `ngModel` and `for` as well as the labels translation key

```html
    <input
      id="id"
      pInputText
      type="text"
      formControlName="id"
      class="p-inputtext p-component"
    />
    <label for="id">{{
      'YOUR_PRODUCT.CRITERIA.ID' | translate
    }}</label>
```

* [Calendar input field](calendar.html)
* [Dropdown input field](dropdown.html)
* [MultiSelect input field](multiselect.html)
* [AutoComplete input field](autocomplete/autocomplete.html)

MultiSelect
====================
## [](#goal)Goal: Add MultiSelect Input

Add a MultiSelect as a search criteria input field for your search page.

| |  Please replace all occurences of **exampleEnum** with the actual name in the following code snippets |
| ------------------------------------------------------------------------------------------------------- |

## [](#parameters)1\. Parameters

First, add a new member to the <%= featurePropertyName %>SearchCriteriasSchema:

_Adapt in File:_ `<feature>-search.parameters.ts`

```javascript
    exampleEnum: z
        .union([z.string(), z.array(z.string())])
        .transform(singleToArray)
        .transform((value) => value.map((v) => v as <%= featurePropertyName %>SearchRequestExampleEnum))
        .optional(),
```

## [](#html)2\. HTML

Next, add the following code to your formGroup in the html file and adapt by replacing all occurences of `exampleEnum` with the actual name which is defined.

_Adapt in File:_ `<feature>-search.component.html`

```html
    <span class="p-float-label">
        <p-multiSelect
              id="exampleEnum"
              formControlName="exampleEnum"
              [options]="(exampleEnum$ | async) ?? []"
              optionLabel="label"
              optionValue="value"
              placeholder="{{ 'YOUR_PRODUCT_SEARCH.CRITERIA.EXAMPLE_ENUM.PLACEHOLDER' | translate }}"
              display="chip"
              appendTo="body"
        ></p-multiSelect>
        <label for="exampleEnum$">{{
            'YOUR_PRODUCT_SEARCH.CRITERIA.EXAMPLE_ENUM.TITLE' | translate
        }}</label>
    </span>
```

## [](#component)3\. Component

Furthermore, the following needs to be done to have the correct translations displayed:

_Adapt in File:_ `<feature>-search.component.ts`

```javascript
    import { TranslateService } from '@ngx-translate/core';
    import { enumToDropdownOptions } from '@onecx/angular-accelerator';
    ...

    constructor(
        ...
        private translateService: TranslateService,
        ...
    ) {}
    ...

    exampleEnum$ = enumToDropdownOptions(
        this.translateService,
        <%= featurePropertyName %>SearchRequestExampleEnum,
        'YOUR_PRODUCT_SEARCH.CRITERIA.EXAMPLE_ENUM.OPTIONS.',
    );
```

| |  Don’t forget to add the translations to your **de.json** and **en.json**. |
| ---------------------------------------------------------------------------- |

Lazy loading tabs
====================
## [](#goal)Goal: Load tabs dynamically

Only load data for a tab when it is selected.

| |  Please replace all occurences of **exampleDetailsTab** with the actual name in the following code snippets |
| ------------------------------------------------------------------------------------------------------------- |

## [](#state-and-viewmodel)1\. State & viewmodel

Add additional member for the tabs in your state and viewmodel:

_Adapt in Files:_ `<feature>-details.state.ts`

```javascript
...
    activeTab: 'ExampleDetailsTab' | ... | 'Other';
...
```

_Adapt in Files:_ `<feature>-search.viewmodel.ts`

```javascript
...
    exampleDetailsTab: exampleDetailsTabViewModel;
...
```

## [](#actions)2\. Actions

Create following actions to handle the events regarding autocomplete:

_Adapt in File:_ `<feature>-details.actions.ts`

```javascript
...
    events: {
        'other tab selected': emptyProps(),
        'example details tab selected': emptyProps(),
        'example details received': props<{
        exampleDetails: ExampleResponse;
        }>(),
        'example details loading failed': props<{ error: string | null }>(),
    },
...
```

## [](#html)3\. HTML

_Adapt in File:_ `<feature>-details.component.html`

```html
    <ocx-portal-page *ngrxLet="viewModel$; let vm">
        <p-tabView
            [(activeIndex)]="activeTabIndex"
            (onChange)="handleTabChange($event)"
        >
            <p-tabPanel
                [header]="'FEATURE_DETAILS.TABS.EXAMPLE_DETAILS' | translate"
            >
                <div *ngIf="vm" >
                    <app-example-details-tab
                        [vm]="vm?.exampleDetails"
                    ></app-example-details-tab>
                </div>
            </p-tabPanel>
        </p-tabView>
    </ocx-portal-page>
```

## [](#component)4\. Component

_Adapt in File:_ `<feature>-details.component.ts`

```javascript
    handleTabChange(event: { originalEvent: Event; index: number }) {
        switch (event.index) {
            case 0:
                this.store.dispatch(FeatureDetailsActions.exampleDetailsTabSelected());
                break;
            ...
            default:
                this.store.dispatch(FeatureDetailsActions.otherTabSelected());
        }
    }
```

## [](#reducers)5\. Reducers

In the reducers file you need to define the functions:

_Adapt in File:_ `<feature>-search.reducers.ts`

```javascript
...
    on(
        <%= featureClassName %>DetailsActions.exampleDetailsTabSelected,
        (state: <%= featureClassName %>DetailsState): <%= featureClassName %>DetailsState => ({
            ...state,
            activeTab: 'ExampleDetailsTab',
        })
    ),
    on(
        <%= featureClassName %>DetailsActions.exampleDetailsReceived,
        (state: <%= featureClassName %>DetailsState, { exampleDetails }): <%= featureClassName %>DetailsState => ({
            ...state,
            exampleDetails: exampleDetails,
        })
    ),
    on(
        <%= featureClassName %>DetailsActions.exampleDetailsLoadingFailed,
        (state: <%= featureClassName %>DetailsState): <%= featureClassName %>DetailsState => ({
            ...state,
            exampleDetails: undefined,
        })
    ),
...
```

## [](#selectors)6\. Selectors

Add the missing selectors:

_Adapt in File:_ `<feature>-details.selectors.ts`

```javascript
...
    export const select<%= featureClassName %>DetailsViewModel = createSelector(
        ...
        selectExampleDetailsTabViewModel,
        ...
      (
        ...
        exampleDetailsTab,
        ...
      ): <%= featureClassName %>DetailsViewModel => ({
        ...
        exampleDetailsTab,
        ...
      }),
    );
...
```

## [](#effects)7\. Effects

_Adapt in File:_ `<feature>-details.effects.ts`

```javascript
    exampleDetailsTab$ = createEffect(() => {
        return this.actions$.pipe(
            ofType(
                <%= featureClassName %>DetailsActions.exampleDetailsTabSelected,
            ),
            concatLatestFrom(() =>
                this.store.select(<%= featureClassName %>DetailsSelectors.selectActiveTab),
            ),
            filter(([, activeTab]) => activeTab === 'ExampleDetailsTab'),
            concatLatestFrom(() =>
                this.store.select(<%= featureClassName %>DetailsSelectors.selectSomePropertyContainingId),
            ),
            switchMap(([, id]) => {
                return this.<%= featureClassName %>DetailsService
                    .getExampleDetailsTabDataById(id)
                    .pipe(
                        map(({ exampleDetailsTabData }) => {
                        return <%= featureClassName %>DetailsActions.exampleDetailsReceived({
                            exampleDetails: exampleDetailsTabData,
                        });
                    }),
                    catchError((error) =>
                        of(
                            <%= featureClassName %>DetailsActions.exampleDetailsLoadingFailed({
                                error,
                            }),
                        ),
                    ),
                );
            }),
        );
    });
```

| |  Don’t forget to add the translations to your **de.json** and **en.json**. |
| ---------------------------------------------------------------------------- |

AutoComplete for suggestions with array of type number
====================
## [](#goal)Goal: Add AutoComplete Number

Add an AutoComplete for suggestions with array of type number as a search criteria input field for your search page.

| |  Please replace all occurences of **exampleNumberArray** with the actual name in the following code snippets |
| -------------------------------------------------------------------------------------------------------------- |

## [](#parameters)1\. Parameters

Please define the member for your **<%= featurePropertyName %>SearchCriteriasSchema** here.

_Adapt in File:_ `<feature>-search.parameters.ts`

```javascript
    exampleNumberArray: z
        .union([z.string(), z.array(z.string())])
        .transform((v: string | string[] | undefined): string[] | undefined =>
        v instanceof Array || !v
            ? (v as string[] | undefined)
            : ([v] as string[]),
        )
        .transform((v: string[] | undefined) => v?.map((e) => Number(e)))
        .optional(),
```

## [](#state-and-viewmodel)2\. State & viewmodel

Add additional array member for the AutoComplete suggestions in your state and viewmodel:

_Adapt in Files:_ `<feature>-search.viewmodel.ts` and `<feature>-search.state.ts`

```javascript
...
    exampleNumberArrayOptions: number[]
...
```

## [](#actions)3\. Actions

Create following actions to handle the events regarding AutoComplete:

_Adapt in File:_ `<feature>-search.actions.ts`

```javascript
...
    events: {
        'exampleNumberArray data text entered': props<{ exampleNumberArrayInputValue: number }>(),
        'exampleNumberArray data received ': props<{ exampleNumberArrayOptions: number[] }>(),
        'exampleNumberArray data loading failed': emptyProps(),
        'exampleNumberArray selected': props<{ selectedexampleNumberArrayValue: number }>(),
        'exampleNumberArray unselected': props<{ unSelectedexampleNumberArrayValue: number }>(),
    },
...
```

## [](#html)4\. HTML

Add the following code to your formGroup in the html file:

_Adapt in File:_ `<feature>-search.component.html`

```html
    <span class="p-float-label">
        <p-autoComplete
            id="exampleNumberArray"
            formControlName="exampleNumberArray"
            (completeMethod)="searchexampleNumberArrayData($event)"
            [optionLabel]="optionLabelTransformer" <-- NECESSARY FOR PROPERPLY HANDLING ITEMS OF TYPE NUMBER
            [suggestions]="vm?.exampleNumberArrayOptions ?? []"
            [forceSelection]="true"
            [multiple]="true" <-- ONLY NECESSARY IF MULTIPLE VALUES CAN BE SELECTED
            [showEmptyMessage]="true"
            [emptyMessage]="
            vm?.exampleNumberArrayOptions?.length === 0
                ? ('YOUR_PRODUCT_SEARCH.CRITERIA.EXAMPLE_ID_NOT_FOUND' | translate)
                : ''
            "
            (onSelect)="selectexampleNumberArrayValue($event)"
            (onUnselect)="unSelectexampleNumberArrayValue($event)"
        >
        </p-autoComplete>
        <label for="exampleNumberArray">{{
            'YOUR_PRODUCT_SEARCH.CRITERIA.ID' | translate
        }}</label>
    </span>
```

## [](#component)5\. Component

Add the respective methods to handle the different events and in addition a transformer method to correctly deal with the number type it needs to convert the number to a string:

_Adapt in File:_ `<feature>-search.component.ts`

```javascript
...
    optionLabelTransformer(item: number): string {
      return item?.toString();
    }

    searchexampleNumberArrayData(event: AutoCompleteCompleteEvent) {
      this.store.dispatch(
        <feature>SearchActions.exampleNumberArrayDataTextEntered({
            exampleNumberArrayInputValue: event.query,
        }),
      );
    }

    selectexampleNumberArrayValue(event: AutoCompleteSelectEvent) {
      this.store.dispatch(
        <feature>SearchActions.exampleNumberArraySuggestionSelected({
            selectedexampleNumberArrayValue: event.value,
        }),
      );
    }

    unSelectexampleNumberArrayValue(event: AutoCompleteUnselectEvent) {
      this.store.dispatch(
        <feature>SearchActions.exampleNumberArraySuggestionUnselected({
            unSelectedexampleNumberArrayValue: event.value,
        }),
      );
    }
...
```

## [](#reducers)6\. Reducers

In the reducers file you need to define the functions:

_Adapt in File:_ `<feature>-search.reducers.ts`

```javascript
...
  on(
    <%= featureClassName %>SearchActions.exampleNumberArrayDataReceived,
    (state: <%= featureClassName %>SearchState, { exampleNumberArrayOptions }): <%= featureClassName %>SearchState => ({
      ...state,
      exampleNumberArrayOptions: exampleNumberArrayOptions,
    }),
  ),
  on(
    <%= featureClassName %>SearchActions.exampleNumberArrayDataLoadingFailed,
    (state: <%= featureClassName %>SearchState): <%= featureClassName %>SearchState => ({
      ...state,
      exampleNumberArrayOptions: [],
    }),
  ),
  on(
    <%= featureClassName %>SearchActions.exampleNumberArraySuggestionSelected,
    (
      state: <%= featureClassName %>SearchState,
      { selectedexampleNumberArrayValue },
    ): <%= featureClassName %>SearchState => {
      const isValuePresent =
        state.exampleNumberArraySelectedValues.includes(selectedexampleNumberArrayValue);
      return {
        ...state,
        exampleNumberArraySelectedValues: isValuePresent
          ? state.exampleNumberArraySelectedValues
          : [...state.exampleNumberArraySelectedValues, selectedexampleNumberArrayValue],
        exampleNumberArrayOptions: [],
      };
    },
  ),
  on(
    <%= featureClassName %>SearchActions.exampleNumberArraySuggestionUnselected,
    (
      state: <%= featureClassName %>SearchState,
      { unSelectedexampleNumberArrayValue },
    ): <%= featureClassName %>SearchState => ({
      ...state,
      exampleNumberArraySelectedValues: state.exampleNumberArraySelectedValues.filter(
        (exampleNumberArray) => exampleNumberArray !== unSelectedexampleNumberArrayValue,
      ),
      exampleNumberArrayOptions: [],
    }),
  ),
...
```

## [](#selectors)7\. Selectors

Add the missing selectors:

_Adapt in File:_ `<feature>-search.selectors.ts`

```javascript
...
    export const select<%= featureClassName %>SearchViewModel = createSelector(
      ...
      <feature>SearchSelectors.
      selectExampleNumberArrayOptions,
      ...
      (
        ...
        exampleNumberArrayOptions,
        ...
      ): <%= featureClassName %>SearchViewModel => ({
        ...
        exampleNumberArrayOptions,
        ...
      }),
    );
...
```

## [](#effects)8\. Effects

Create the effect for getting the suggestions

_Adapt in File:_ `<feature>-search.effects.ts`

```javascript
...
    searchexampleNumberArray$ = createEffect(() =>
      this.actions$.pipe(
        ofType(<%= featureClassName %>SearchActions.exampleNumberArrayDataTextEntered),
        mergeMap((action) => {
          return this.<feature>Service
            .searchexampleNumberArray(action.exampleNumberArrayInputText)
            .pipe(
              map((response) =>
                <%= featureClassName %>SearchActions.exampleNumberArrayDataReceived({
                  exampleNumberArrayOptions: response.exampleNumberArray, <-- NAME OF THE MEMBER WHICH IS DEFINED IN THE RESPONSE OBJECT
                }),
              ),
              catchError(() =>
                of<%= featureClassName %>SearchActions.exampleNumberArrayDataLoadingFailed()),
              ),
            );
        }),
      ),
    );
...
```

| |  Don’t forget to add the translations to your **de.json** and **en.json**. |
| ---------------------------------------------------------------------------- |

AutoComplete for suggestions with array of type object
====================
## [](#goal)Goal: Add Autocmplete Object

Add an AutoComplete for suggestions with array of type object as a search criteria input field for your search page.

| |  Please replace all occurences of **exampleStringObject**, **property1**, **property2** and **exampleStringObjectProperty1**, **exampleStringObjectProperty2** respectively with the actual names in the following code snippets. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

In this section, we aim to add an AutoComplete input field. The suggestions will be an array of type string. For this use case, we want to display `property1` (a string type property of the object) in the input field and the suggestions and perform a search with `property2` for the search criteria. The object has the following interface:

```javascript
...
    export interface ExampleStringObject {
        property1?: string;
        property2?: string;
    }
...
```

## [](#parameters)1\. Parameters

Please define the member for your `<%= featurePropertyName %>SearchCriteriasSchema` here

_Adapt in File:_ `<feature>-search.parameters.ts`

```javascript
    exampleStringObjectProperty2: z.string().optional(),
```

## [](#state-and-viewmodel)2\. State & viewmodel

Add additional array member for the AutoComplete suggestions in your state and viewmodel:

_Adapt in Files:_ `<feature>-search.state.ts`

```javascript
...
    exampleStringObjectOptions: ExampleStringObject[];
    exampleStringObjectProperty1InputText: string;
...
```

_Adapt in Files:_ `<feature>-search.viewmodel.ts`

```javascript
...
    exampleStringObjectOptions: ExampleStringObject[];
    selectedExampleStringObject: ExampleStringObject | null;
...
```

## [](#actions)3\. Actions

Create following actions to handle the events regarding AutoComplete:

_Adapt in File:_ `<feature>-search.actions.ts`

```javascript
...
    events: {
        'exampleStringObject field changed': props<{ exampleObjectProperty1InputText: string }>(),
        'exampleStringObject options loaded successfully': props<{
            exampleStringObjectOptions: ExampleStringObject[];
        }>(),
        'exampleStringObject options loading failed': emptyProps(),
        'exampleStringObject option selected': props<{
            exampleStringObjectOption: ExampleStringObject;
        }>(),
        'restored selected exampleStringObject on page reload': emptyProps(),
        'restored selected exampleStringObject on page reload successfully': props<{
            selectedExampleStringObject: ExampleStringObject;
        }>(),
        'restored selected exampleStringObject on page reload failed': props<{
            error: string | null;
        }>(),
    },
...
```

## [](#html)4\. HTML

Add the following code to your formGroup in the html file:

_Adapt in File:_ `<feature>-search.component.html`

```html
    <span class="p-float-label">
        <p-autoComplete
            id="exampleStringObject"
            formControlName="exampleStringObject"
            (completeMethod)="searchExampleStringObject($event)"
            optionLabel="property1"
            optionValue="property2"
            appendTo="body"
            [suggestions]="vm?.exampleStringObjectOptions ?? []"
            [forceSelection]="true"
            [multiple]="true" <-- ONLY NECESSARY IF MULTIPLE VALUES CAN BE SELECTED
            [showEmptyMessage]="true"
            [emptyMessage]="
            vm?.exampleStringObjectOptions?.length === 0
                ? ('YOUR_PRODUCT_SEARCH.CRITERIA.EXAMPLE_ID_NOT_FOUND' | translate)
                : ''
            "
            (onSelect)="exampleStringObjectSelected($event)"
        >
        </p-autoComplete>
        <label for="exampleStringObject">{{
            'YOUR_PRODUCT_SEARCH.CRITERIA.ID' | translate
        }}</label>
    </span>
```

## [](#component)5\. Component

Add the respective methods to handle the different events:

_Adapt in File:_ `<feature>-search.component.ts`

```javascript
...
  exampleStringObjectSearch(event: AutoCompleteCompleteEvent) {
    this.store.dispatch(
      <feature>SearchActions.exampleStringObjectFieldChanged({
        exampleStringObjectProperty1InputText: event.query,
      }),
    );
  }

  exampleStringObjectSelected(event: AutoCompleteSelectEvent) {
    this.store.dispatch(
      <feature>SearchActions.exampleStringObjectOptionSelected({ option: event.value }),
    );
  }
...
```

## [](#reducers)6\. Reducers

In the reducers file you need to define the functions:

_Adapt in File:_ `<feature>-search.reducers.ts`

```javascript
...
  on(
    <%= featureClassName %>SearchActions.exampleStringObjectOptionsLoadedSuccessfully,
    (state: <%= featureClassName %>SearchState, { exampleStringObjectOptions }): <%= featureClassName %>SearchState => ({
      ...state,
      exampleStringObjectOptions: exampleStringObjectOptions,
    }),
  ),
  on(
    <%= featureClassName %>SearchActions.exampleStringObjectOptionsLoadingFailed,
    (state: <%= featureClassName %>SearchState): <%= featureClassName %>SearchState => ({
      ...state,
      exampleStringObjectOptions: [],
    }),
  ),
  on(
    <%= featureClassName %>SearchActions.exampleStringObjectFieldChanged,
    (
      state: <%= featureClassName %>SearchState,
      { exampleStringObjectProperty1InputText },
    ): <%= featureClassName %>SearchState => ({
        ...state,
        exampleStringObjectProperty1InputText: exampleStringObjectProperty1InputText,
      });
    },
  ),
  on(
    <%= featureClassName %>SearchActions.exampleStringObjectOptionSelected,
    (
      state: <%= featureClassName %>SearchState,
      { exampleStringObjectOption },
    ): <%= featureClassName %>SearchState => ({
      ...state,
      exampleStringObjectProperty1InputText: exampleStringObjectOption?.property1 ?? '',
    }),
  ),
  on(
    <%= featureClassName %>SearchActions.restoredSelectedExampleStringObjectOnPageReloadSuccessfully,
    (
      state: <%= featureClassName %>SearchState,
      { selectedExampleStringObject },
    ): <%= featureClassName %>SearchState => ({
      ...state,
      exampleStringObjectProperty1InputText: selectedExampleStringObject.property1 ?? '',
      exampleStringObjectOptions: [selectedExampleStringObject],
    }),
  ),
  on(
    <%= featureClassName %>SearchActions.restoredSelectedExampleStringObjectOnPageReloadFailed,
    (state: <%= featureClassName %>SearchState): <%= featureClassName %>SearchState => ({
      ...state,
      exampleStringObjectProperty1InputText: '',
    }),
  ),
...
```

## [](#selectors)7\. Selectors

Add the missing selectors:

_Adapt in File:_ `<feature>-search.selectors.ts`

```javascript
...
  export const selectSelectedExampleStringObject = createSelector(
    <feature>SearchSelectors.selectExampleStringObjectProperty1InputText,
    <feature>SearchSelectors.selectCriteria,
    (
      exampleStringObjectProperty1InputText: string,
      searchCriteria: <%= featureClassName %>SearchCriteria,
    ): ExampleStringObject | null => {
      if (exampleStringObjectProperty1InputText?.length && searchCriteria?.exampleStringObjectProperty2) {
        return {
          property1: exampleStringObjectProperty1InputText,
          property2: searchCriteria.exampleStringObjectProperty2,
        };
      }
      return null;
    },
  );

  export const select<%= featureClassName %>SearchViewModel = createSelector(
    ...
    <feature>SearchSelectors.selectExampleStringObjectOptions,
    selectSelectedExampleStringObject,
    ...
    (
      ...
      exampleStringObjectOptions,
      selectedExampleStringObject,
      ...
    ): <%= featureClassName %>SearchViewModel => ({
      ...
      exampleStringObjectOptions,
      selectedExampleStringObject,
      ...
    }),
  );
...
```

## [](#effects)8\. Effects

Create the effect for getting the suggestions

_Adapt in File:_ `<feature>-search.effects.ts`

```javascript
...
    searchExampleStringObject$ = createEffect(() =>
      this.actions$.pipe(
        ofType(<%= featureClassName %>SearchActions.exampleStringObjectFieldChanged),
        filter((action) => action.exampleStringObjectProperty1InputText.length > 2),
        mergeMap((action) => {
          return this.<feature>Service
            .searchExampleStringObject(action.exampleStringObjectProperty1InputText)
            .pipe(
              map((response) =>
                <%= featureClassName %>SearchActions.exampleStringObjectOptionsLoadedSuccessfully({
                  exampleStringObjectOptions: response.exampleStringObjects,
                }),
              ),
              catchError(() =>
                of(<%= featureClassName %>SearchActions.exampleStringObjectOptionsLoadingFailed()),
              ),
            );
        }),
      ),
    );

    restoreSelectedExampleStringObject$ = createEffect(() =>
      this.actions$.pipe(
        ofType(routerNavigatedAction),
        filterForNavigatedTo(this.router, <%= featureClassName %>SearchComponent),
        filterOutOnlyQueryParamsChanged(this.router),
        filter(
          (action) => action?.payload?.routerState?.root?.queryParams['exampleStringObjectProperty2'],
        ),
        concatLatestFrom(() =>
          this.store.select(<feature>SearchSelectors.selectCriteria),
        ),
        switchMap(([action]) =>
          this.<feature>Service
            .searchExampleStringObject(
              '',
              action?.payload?.routerState?.root?.queryParams['exampleStringObjectProperty2'],
            )
            .pipe(
              map((exampleStringObject) =>
                <%= featureClassName %>SearchActions.restoredSelectedExampleStringObjectOnPageReloadSuccessfully(
                  { selectedExampleStringObject: exampleStringObject?.exampleStringObjects[0] },
                ),
              ),
              catchError((error) =>
                of(
                  <%= featureClassName %>SearchActions.restoredSelectedExampleStringObjectOnPageReloadFailed(
                    { error },
                  ),
                ),
              ),
            ),
        ),
      ),
    );
...
```

| |  Don’t forget to add the translations to your **de.json** and **en.json**. |
| ---------------------------------------------------------------------------- |

AutoComplete for suggestions with array of type string
====================
## [](#goal)Goal: Add AutoComplet String

Add an AutoComplete for suggestions with array of type string as a search criteria input field for your search page.

## [](#parameters)1\. Parameters

Please define the member for your **<%= featurePropertyName %>SearchCriteriasSchema** here

| |  Please replace all occurences of **exampleStringArray** with the actual name in the following code snippets. |
| --------------------------------------------------------------------------------------------------------------- |

_Adapt in File:_ `<feature>-search.parameters.ts`

```javascript
    exampleStringArray: z
        .union([z.string(), z.array(z.string())])
        .transform((v: string | string[] | undefined): string[] | undefined =>
        v instanceof Array || !v
            ? (v as string[] | undefined)
            : ([v] as string[]),
        )
        .transform((v: string[] | undefined) => v?.map((e) => e))
        .optional(),
```

## [](#state-and-viewmodel)2\. State & viewmodel

Add additional array member for the autocomplete suggestions in your state and viewmodel:

_Adapt in Files:_ `<feature>-search.viewmodel.ts` and `<feature>-search.state.ts`

```javascript
...
    exampleStringArrayOptions: string[]
...
```

## [](#actions)3\. Actions

Create following actions to handle the events regarding autocomplete:

_Adapt in File:_ `<feature>-search.actions.ts`

```javascript
...
    events: {
        'exampleStringArray data text entered': props<{ exampleStringArrayInputValue: string }>(),
        'exampleStringArray data received ': props<{ exampleStringArrayOptions: string[] }>(),
        'exampleStringArray data loading failed': emptyProps(),
        'exampleStringArray selected': props<{ selectedExampleStringArrayValue: string }>(),
        'exampleStringArray unselected': props<{ unSelectedExampleStringArrayValue: string }>(),
    },
...
```

## [](#html)4\. HTML

Add the following code to your formGroup in the html file:

_Adapt in File:_ `<feature>-search.component.html`

```html
    <span class="p-float-label">
        <p-autoComplete
            id="exampleStringArray"
            formControlName="exampleStringArray"
            (completeMethod)="searchExampleStringArrayData($event)"
            [suggestions]="vm?.exampleStringArrayOptions ?? []"
            [forceSelection]="true"
            [multiple]="true" <-- ONLY NECESSARY IF MULTIPLE VALUES CAN BE SELECTED
            [showEmptyMessage]="true"
            [emptyMessage]="
            vm?.exampleStringArrayOptions?.length === 0
                ? ('YOUR_PRODUCT_SEARCH.CRITERIA.EXAMPLE_ID_NOT_FOUND' | translate)
                : ''
            "
            (onSelect)="selectExampleStringArrayValue($event)"
            (onUnselect)="unSelectExampleStringArrayValue($event)"
        >
        </p-autoComplete>
        <label for="exampleStringArray">{{
            'YOUR_PRODUCT_SEARCH.CRITERIA.ID' | translate
        }}</label>
    </span>
```

## [](#component)5\. Component

Add the respective methods to handle the different events:

_Adapt in File:_ `<feature>-search.component.ts`

```javascript
...
    searchExampleStringArrayData(event: AutoCompleteCompleteEvent) {
      this.store.dispatch(
        <feature>SearchActions.exampleStringArrayDataTextEntered({
            exampleStringArrayInputValue: event.query,
        }),
      );
    }

    selectExampleStringArrayValue(event: AutoCompleteSelectEvent) {
      this.store.dispatch(
        <feature>SearchActions.exampleStringArraySuggestionSelected({
            selectedExampleStringArrayValue: event.value,
        }),
      );
    }

    unSelectExampleStringArrayValue(event: AutoCompleteUnselectEvent) {
      this.store.dispatch(
        <feature>SearchActions.exampleStringArraySuggestionUnselected({
            unSelectedExampleStringArrayValue: event.value,
        }),
      );
    }
...
```

## [](#reducers)6\. Reducers

In the reducers file you need to define the functions:

_Adapt in File:_ `<feature>-search.reducers.ts`

```javascript
...
  on(
    <%= featureClassName %>SearchActions.exampleStringArrayDataReceived,
    (state: <%= featureClassName %>SearchState, { exampleStringArrayOptions }): <%= featureClassName %>SearchState => ({
      ...state,
      exampleStringArrayOptions: exampleStringArrayOptions,
    }),
  ),
  on(
    <%= featureClassName %>SearchActions.exampleStringArrayDataLoadingFailed,
    (state: <%= featureClassName %>SearchState): <%= featureClassName %>SearchState => ({
      ...state,
      exampleStringArrayOptions: [],
    }),
  ),
  on(
    <%= featureClassName %>SearchActions.exampleStringArraySuggestionSelected,
    (
      state: <%= featureClassName %>SearchState,
      { selectedExampleStringArrayValue },
    ): <%= featureClassName %>SearchState => {
      const isValuePresent =
        state.exampleStringArraySelectedValues.includes(selectedExampleStringArrayValue);
      return {
        ...state,
        exampleStringArraySelectedValues: isValuePresent
          ? state.exampleStringArraySelectedValues
          : [...state.exampleStringArraySelectedValues, selectedExampleStringArrayValue],
        exampleStringArrayOptions: [],
      };
    },
  ),
  on(
    <%= featureClassName %>SearchActions.exampleStringArraySuggestionUnselected,
    (
      state: <%= featureClassName %>SearchState,
      { unSelectedExampleStringArrayValue },
    ): <%= featureClassName %>SearchState => ({
      ...state,
      exampleStringArraySelectedValues: state.exampleStringArraySelectedValues.filter(
        (exampleStringArray) => exampleStringArray !== unSelectedExampleStringArrayValue,
      ),
      exampleStringArrayOptions: [],
    }),
  ),
...
```

## [](#selectors)7\. Selectors

Add the missing selectors:

_Adapt in File:_ `<feature>-search.selectors.ts`

```javascript
...
    export const select<%= featureClassName %>SearchViewModel = createSelector(
      ...
      <feature>SearchSelectors.
      selectExampleStringArrayOptions,
      ...
      (
        ...
        exampleStringArrayOptions,
        ...
      ): <%= featureClassName %>SearchViewModel => ({
        ...
        exampleStringArrayOptions,
        ...
      }),
    );
...
```

## [](#effects)8\. Effects

Create the effect for getting the suggestions

_Adapt in File:_ `<feature>-search.effects.ts`

```javascript
...
    searchExampleStringArray$ = createEffect(() =>
      this.actions$.pipe(
        ofType(<%= featureClassName %>SearchActions.exampleStringArrayDataTextEntered),
        mergeMap((action) => {
          return this.<feature>Service
            .searchExampleStringArray(action.exampleStringArrayInputText)
            .pipe(
              map((response) =>
                <%= featureClassName %>SearchActions.exampleStringArrayDataReceived({
                  exampleStringArrayOptions: response.exampleStringArray, <-- NAME OF THE MEMBER WHICH IS DEFINED IN THE RESPONSE OBJECT
                }),
              ),
              catchError(() =>
                of<%= featureClassName %>SearchActions.exampleStringArrayDataLoadingFailed()),
              ),
            );
        }),
      ),
    );
...
```

| |  Don’t forget to add the translations to your **de.json** and **en.json**. |
| ---------------------------------------------------------------------------- |

AutoComplete search criteria input field
====================
There are different cases for implementing AutoComplete depending on the array type of the Request and Response object for the suggestions/options. Each case requires a different way of implementation:

* [AutoComplete with array of type string](autocomplete-string.html)
* [AutoComplete with array of type number](autocomplete-number.html)
* [AutoComplete with array of type object](autocomplete-object.html)

Start project
====================
The Quarkus offers the [WEB project generator](https://code.quarkus.io/) or [Maven plugin](https://quarkus.io/guides/maven-tooling) to quickly create Quarkus project.

| |  The maven wrapper is used to specify the Maven version for the public project. Please delete the maven wrapper from the project repository. We will use the maven \[3.6.2,) version. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#%5Fbase%5Fproject%5Fsetup)Base project setup

But to understand the Quarkus project we will create our project from scratch. First we need to create project from template:

```java
mvn io.quarkus:quarkus-maven-plugin:3.13.2:create \
    -DprojectGroupId={example-maven-group-id} \
    -DprojectArtifactId={example-maven-artifact-id} \
    -DprojectVersion={example-maven-version} \
    -DclassName="{example-maven-class-name}" \
    -Dpath="/onecx-quarkus-example"
```

```none
cd onecx-quarkus-example
```

| |  For all OneCx project we will have groupId=<maven-group-id>.<domain \| subdomains> and artefactId=<project-name>The project name muss be equals the git repository name. All project will use the [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) and[SemVer 2.0](https://semver.org/). The maven version of the project will be {example-maven-version} and it is not used to determine release artifact version. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Minimum maven configuration for our project is this:

```xml
<?xml version="1.0"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"
         xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <modelVersion>4.0.0</modelVersion>
    <groupId>{example-maven-group-id}</groupId>
    <artifactId>{example-maven-artifact-id}</artifactId>
    <version>{example-maven-version}</version>
    <name>{example-maven-artifact-id}</name>
</project>
```

### [](#%5Fparent%5Fmaven%5Fproject)Parent maven project

Pom file can be configured in many ways. The recommended way in our projects is to use **parent pom** from our repository, designed especially to use in OneCx applications. Maven parent POM (or super POM) is used to structure the project to avoid redundancies or duplicate configurations using inheritance between pom files. Maven creates a 'final POM' by merging the information from parent and module POM. In child POM we only need to include `parent`, additional dependencies that are not specified in the parent file and these dependencies that are specified in `<dependencyManagement>` section, and we want to use them. You can find more information here:

| |  More information about maven parent pom pattern [Apache Maven Pom Documentation](https://maven.apache.org/guides/introduction/introduction-to-the-pom.html) |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  OneCx maven parent project source code repository {parent-soruce-code-url}\[Link\] |
| ------------------------------------------------------------------------------------- |

```xml
<?xml version="1.0"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"
         xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>{example-parent-group-id}</groupId>
        <artifactId>{example-maven-group-id}</artifactId>
        <version>{example-maven-version}</version>
    </parent>

    <groupId>{example-maven-group-id}</groupId>
    <artifactId>{example-maven-artifact-id}</artifactId>
    <version>{example-maven-version}</version>
    <name>{example-maven-artifact-id}</name>

    <dependencies>
        <!-- project dependencies -->
    </dependencies>

</project>
```

#### [](#%5Fdefault%5Fpom%5Fconfiguration)Default POM configuration

If you want to create pom from scratch or have better understanding how it works, you can follow undermentioned steps.

For the Quarkus application we need to add Quarkus[BOM dependencies](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html). There two possible solution:

* Quarkus BOM - this is base Quarkus which contains only Quarkus internal extensions.
* Quarkus BOM universe - this is default use with the Quarkus project generator. This BOM contains all Quarkus extension and external project like [Quarkus Camel extension](https://github.com/apache/camel-quarkus).

Example of the parent pom configuration.

```xml
    <properties>
        <!-- build -->
        <format.skip>false</format.skip>
        <enforcer.skip>false</enforcer.skip>
        <enforce-test-deps-scope.skip>${enforcer.skip}</enforce-test-deps-scope.skip>

        <!-- Quarkus configuration -->
        <quarkus.version>3.13.2</quarkus.version>
        <quarkus.smallrye-open-api.version>3.1.1</quarkus.smallrye-open-api.version>
        <quarkiverse.quarkus-openapi-generator.version>1.3.1</quarkiverse.quarkus-openapi-generator.version>
        <quarkiverse.mockserver.version>0.6.0</quarkiverse.mockserver.version>

        <!-- tkit -->
        <tkit.quarkus.version>2.31.0</tkit.quarkus.version>

        <!-- Maven configuration -->
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
        <maven.compiler.release>17</maven.compiler.release>
        <maven.compiler.parameters>true</maven.compiler.parameters>
        <maven.compiler-plugin.version>3.10.1</maven.compiler-plugin.version>
        <maven.surefire-plugin.version>3.0.0</maven.surefire-plugin.version>
        <maven.formatter-plugin.version>2.22.0</maven.formatter-plugin.version>
        <maven.impsort-plugin.version>1.8.0</maven.impsort-plugin.version>
        <maven.enforcer-plugin.version>3.2.1</maven.enforcer-plugin.version>

        <!-- Maven central release configuration -->
        <nexus.staging-plugin.version>1.6.13</nexus.staging-plugin.version>
        <source-plugin.version>3.2.1</source-plugin.version>
        <javadoc-plugin.version>3.5.0</javadoc-plugin.version>
        <gpg-plugin.version>3.0.1</gpg-plugin.version>

        <!-- Sonar -->
        <sonar.coverage.exclusions>
            **/model*/**/*.*,**/resources/**/*.*,**/JaxRsActivator*
        </sonar.coverage.exclusions>
<!--        <sonar.exclusions></sonar.exclusions>-->

        <!-- Other -->
        <projectlombok.version>1.18.26</projectlombok.version>
        <projectlombok.mapstruct-binding.version>0.2.0</projectlombok.mapstruct-binding.version>
        <mapstruct.version>1.5.5.Final</mapstruct.version>
        <assertj.version>3.24.2</assertj.version>
        <hibernate-orm.version>5.4.27.SP1</hibernate-orm.version>
    </properties>
    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>io.quarkus</groupId>
                <artifactId>quarkus-bom</artifactId>
                <version>3.13.2</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <dependency>
                <groupId>org.tkit.quarkus.lib</groupId>
                <artifactId>tkit-quarkus-bom</artifactId>
                <version>{tkit-version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
        </dependencies>
    </dependencyManagement>
```

We also set up the project for java `17` version and source code encoding to `UTF-8`.

#### [](#%5Fcompiler)Compiler

Now we would need to add the Maven plugins to build the Quarkus application correctly.

* maven-compile-plugin - execute java compilation process
* quarkus-maven-plugin - extends the compilation process to generated Quarkus byte-code and add the development mode for maven project.

```xml
<build>
    <plugins>
        <plugin>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-maven-plugin</artifactId>
            <version>3.13.2</version>
            <extensions>true</extensions>
            <executions>
                <execution>
                    <goals>
                        <goal>build</goal>
                        <goal>generate-code</goal>
                        <goal>generate-code-tests</goal>
                    </goals>
                    <configuration>
                        <properties>
                            <quarkus.container-image.build>true</quarkus.container-image.build>
                            <quarkus.container-image.group>localhost</quarkus.container-image.group>
                        </properties>
                    </configuration>
                </execution>
            </executions>
        </plugin>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <configuration>
                <compilerArgs>
                    <arg>-parameters</arg>
                    <arg>-Amapstruct.defaultComponentModel=cdi</arg>
                    <arg>-Amapstruct.defaultInjectionStrategy=constructor</arg>
                </compilerArgs>
                <annotationProcessorPaths>
                    <path>
                        <groupId>org.mapstruct</groupId>
                        <artifactId>mapstruct-processor</artifactId>
                        <version>${mapstruct.version}</version>
                    </path>
                    <path>
                        <groupId>org.projectlombok</groupId>
                        <artifactId>lombok</artifactId>
                        <version>${projectlombok.version}</version>
                    </path>
                    <path>
                        <groupId>org.projectlombok</groupId>
                        <artifactId>lombok-mapstruct-binding</artifactId>
                        <version>${projectlombok.mapstruct-binding.version}</version>
                    </path>
                    <path>
                        <groupId>org.hibernate</groupId>
                        <artifactId>hibernate-jpamodelgen</artifactId>
                        <version>${hibernate-orm.version}</version>
                    </path>
                </annotationProcessorPaths>
            </configuration>
        </plugin>
    </plugins>
</build>
```

The configuration for the <http://maven.apache> org/plugins/maven-compiler-plugin/compile-mojo.html\[maven-compile-plugin\] `parameters`is set to `true` to generate metadata for reflection on method parameters.

### [](#%5Fcompilation)Compilation

Now we can compile our project:

```none
mvn clean package
```

All the quarkus project are microservices where we push docker image and helm chart to registry. The maven `install` does not need to be executed.

Quarkus
====================
1000kit Quarkus

* 1000kit quarkus extensions: <https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/index.html>

Quarkus Kubernetes native Java stack comes with an extendable framework.

* Homepage: <https://quarkus.io/>
* Guides: <https://quarkus.io/guides/>
* Source code: <https://github.com/quarkusio/quarkus>
* Quarkus quick starts: <https://github.com/quarkusio/quarkus-quickstarts>
* Quarkiverse: <https://quarkiverse.github.io/quarkiverse-docs/index/index/index.html>
* Quarkiverse source code: <https://github.com/quarkiverse>

## [](#%5Frequirements)Requirements

For the developing the Quarkus application we need to install these tools:

### [](#%5Fjava%5Fdeveloper%5Fide)Java developer IDE

* [IntelliJ IDEA](https://www.jetbrains.com/de-de/idea/download/) **RECOMMENDED!**  
   * Plugins  
         * Quarkus Tools by Red-Hat  
         * Lombok  
         * Zalando OpenAPI Editor  
         * SonarLint (disable Automatically trigger analysis)  
   * Maven  
         * Use Maven installation from your WSL `\\wsl.localhost....`  
   * JDK  
         * Use JDK installation from your WSL `\\wsl.localhost....`
* [Visual Code](https://code.visualstudio.com/download)
* [NeoVim](https://neovim.io/)

## [](#%5Flinks)Links

Few of thousand useful links:

* [Quarkus workshop](https://quarkus.io/quarkus-workshops/super-heroes/)
* [MicroProfile - specification](https://microprofile.io/)
* [Smallrye - MicroProfile implementation](https://smallrye.io/)
* [Java tutorial](https://docs.oracle.com/javase/tutorial/)
* [TestContainers](https://www.testcontainers.org/)
* [Kubernetes](https://kubernetes.io/)
* [Docker](https://www.docker.com/)

Project structure
====================
| |  The source code of the sample application is located in the documentation repository [Base example](https://github.com/onecx/docs-guides-quarkus/tree/main/docs/modules/quarkus/examples/quarkus/base/example) |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#%5Fonecx%5Fquarkus%5Fproject%5Fstructure)OneCx Quarkus project structure

OneCx Quarkus project is [Maven](https://maven.apache.org/) project.We use default maven structure which includes: java code and resources, helm templates and dockerfile.

```java
.github                         // github configuration
src                             // source code directory
  main                          // main resources
     docker                     // docker configuration
        Dockerfile.jvm          // JVM docker image
        Dockerfile.native       // Native docker image
     helm                       // helm template
        Chart.yaml              // helm chart for application
        values.yaml             // helm chart values for the application
     openapi                    // openapi definitions
        example-openapi.yaml    // example api definition
     java                       // java source code
     resources                  // application resources
       application.properties   // quarkus configuration
  test                          // test resources
     java                       // java tests
     resources                  // test resources
pom.xml                         // maven project configuration
```

The helm template are in the `src/main/helm` and dockerfile is in the `src/main/docker` directory.

GitHub project configuration is defined in the `.github` directory. For more information please check next chapter [Project GitHub Actions](quarkus-github-actions.html)

| |  Onecx Quarkus project GitHub Actions [Project GitHub Actions](quarkus-github-actions.html) setup. |
| ---------------------------------------------------------------------------------------------------- |

## [](#%5Fmaven%5Fconfiguration)Maven configuration

Onecx project are using

```xml
<parent>
    <groupId>org.tkit.onecx</groupId>
    <artifactId>onecx-quarkus3-parent</artifactId>
    <version>0.67.0</version>
</parent>
```

## [](#%5Fjava%5Fnaming%5Fconvention)Java naming convention

![Diagram](_images/diag-1ec88c3f3f581782c2edae77bff812148dc2028e.svg) 

Basically all our microservice consist of 3 main layers

* Boundary components providing REST api ( or AMQP, Events, …​) to outside world.
* IntermediateService which implements business logic. These components are often omitted.
* Entity services are components taking care of data management, basically fetching storing the data from/to database
* Client services which are

Java classes:

Validation request sequence:

![Diagram](_images/diag-c94b3f7d34ab9ca18a9f4ef0f4cf369942390d0c.svg) 

Create user request sequence:

![Diagram](_images/diag-3c4d8eacdfd4da4ba759013fb5949931a6ff7752.svg) 

* RestController – Any class named RestController is supposed to expose API to outside world For example: `UserRestController`
* Service – (IntermediateService) the core components containing business logic, shareable piece of codes for other components usually controllers or other services as well. For example: `UserValidationService`
* Mapper - Object mapper for mapping DTO to internal models and vice versa. For example: `UserMapper`.
* DAO - Data access object (JPA entity wrapper) For example: `UserDAO`

Each project should have own package which contains the domain of the project. All projects in the `onecx` context start with a package `org.tkit.onecx` and package `<artefactId | simplified>`

For example our Maven project:

* groupId = `org.tkit.onecx`
* artefactId = `onecx-quarkus-example`

```shell
src
    main
        java
            org.tkit.onecx.quarkus.example
```

Microservice package structure:

```java
domain.models                       // JPA entities
domain.criteria                     // JPA criteria
domain.daos                         // DAO and search criteria for the entities
domain.services                     // Common intermediate shared domain services
rs                                  // common rs classes (CORSFilter, JaxRSActivator..)
rs.internal.controllers             // REST controllers
rs.internal.mappers                 // internal DTOs mappers
rs.internal.services                // internal intermediate services
rs.external.<version>.controllers            // REST controllers
rs.external.<version>.logs                   // log mappers
rs.external.<version>.mappers                // external DTOs mappers
rs.external.<version>.services               // Intermediate services for the rest <version> interface
```

Our [org.tkit.onecx](#example$quarkus/base/example/src/main/java/org/tkit/onecx) package of our example application.

```java
org.tkit.onecx
    quarkus
        example
            domain
                models              // JPA entities
                daos                // DAO for the entities
                services            // DAO for the entities
            rs                      //common rs classes (CORSFilter, JaxRSActivator..)
                controllers         // REST controllers
                internal
                mappers             // internal DTOs mappers
                external
                    <version>
                        controllers // REST controllers
                        mappers     // external DTOs mappers
```

| |  For the rest-controllers we need to have two types of the rest endpoints: internal - which are us only for the internal domain, for example for UI <version \| external> - these REST controllers are external interfaces to rest of the world. For these we need to have version. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#%5Fdocker)Docker

In the project we have defined two docker files, one for java base docker image and one for native build docker image. The source code for the base docker image can be found in the GitHub repositories [docker-quarkus-native](https://github.com/onecx/docker-quarkus-jvm) and [docker-quarkus-jvm](https://github.com/onecx/docker-quarkus-jvm).

The two `Dockerfiles` look like this:

Dockerfile.jvm definition

```dockerfile
FROM ghcr.io/onecx/docker-quarkus-jvm:0.15.0

COPY --chown=185 target/quarkus-app/lib/ /deployments/lib/
COPY --chown=185 target/quarkus-app/*.jar /deployments/
COPY --chown=185 target/quarkus-app/app/ /deployments/app/
COPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/
USER 185
```

Dockerfile.native definition

```dockerfile
FROM ghcr.io/onecx/docker-quarkus-native:0.10.0

COPY --chown=1001:root target/*-runner /work/application
```

| |  Docker build configuration is defined in the maven parent project. |
| --------------------------------------------------------------------- |

| |  For more information about Quarkus docker extension, please check the official documentation [quarkus-container-image-docker](https://quarkus.io/guides/container-image). |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#%5Fhelm)Helm

In the `src/main/helm` we muss define `Chart.yaml` in version `v2` and `values.yaml`. The alias for every onecx quarkus application is `app`. The GitHub pipeline will replace the chart `version` and `appVersion` during the build with current service version.

Chart.yaml

```yaml
apiVersion: v2
name: onecx-quarkus-example
version: 0.0.0
appVersion: 0.0.0
description: Onecx quarkus example
keywords:
  - example
sources:
  - https://github.com/onecx/onecx-quarkus-example
maintainers:
  - name: Tkit Developer
    email: tkit_dev@1000kit.org
dependencies:
  - name: helm-quarkus-app
    alias: app
    version: ^0
    repository: oci://ghcr.io/onecx/charts
```

values.yaml

```yaml
app:
 name: svc
 db:
   enabled: true
 image:
  repository: "onecx/onecx-quarkus-example"
```

In our example we did activate the `database` configuration `app.db.enabled: true`.

| |  For product base delivery helm-of-helm we do need to specify the app.name, which is the name of the component in the product (for example svc, bff, operator). |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  For more details of the helm template configuration check the repository of [helm-quarkus-app](https://github.com/onecx/helm-quarkus-app) |
| -------------------------------------------------------------------------------------------------------------------------------------------- |

| |  Helm documentation [helm](https://helm.sh/docs/). |
| ---------------------------------------------------- |

Backend for frontends (bff)
====================
## [](#%5Fproject%5Fsetup)Project setup

Now that [project structure](project-structure.html) is set up for the Onecx Quarkus project, we can configure the backend for frontends and extend the project configuration.

### [](#%5Fparent%5Fconfiguration)Parent configuration

Project maven parent configuration, artifactId and project version.

| |  More information about maven parent pom pattern [Apache Maven Pom Documentation](https://maven.apache.org/guides/introduction/introduction-to-the-pom.html) |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Maven parent configuration 

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">

    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>org.tkit.onecx</groupId>
        <artifactId>onecx-quarkus3-parent</artifactId>
        <version>0.62.0</version>
    </parent>

    <artifactId>onecx-example-svc</artifactId>
    <version>999-SNAPSHOT</version>

</project>
```

### [](#%5Fdependencies)Dependencies

Include all needed dependencies. Depending on your project they may vary but the following will fit for most cases.

Dependencies 

```xml
<dependencies>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-rest</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-smallrye-openapi</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-rest-jackson</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-smallrye-health</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-opentelemetry</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-micrometer-registry-prometheus</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkiverse.openapi.generator</groupId>
        <artifactId>quarkus-openapi-generator</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-rest-client-jackson</artifactId>
    </dependency>

    <dependency>
        <groupId>org.tkit.quarkus.lib</groupId>
        <artifactId>tkit-quarkus-log-cdi</artifactId>
    </dependency>
    <dependency>
        <groupId>org.tkit.quarkus.lib</groupId>
        <artifactId>tkit-quarkus-log-rs</artifactId>
    </dependency>
    <dependency>
        <groupId>org.tkit.quarkus.lib</groupId>
        <artifactId>tkit-quarkus-log-json</artifactId>
    </dependency>
    <dependency>
        <groupId>org.tkit.quarkus.lib</groupId>
        <artifactId>tkit-quarkus-rest</artifactId>
    </dependency>
    <dependency>
        <groupId>org.tkit.quarkus.lib</groupId>
        <artifactId>tkit-quarkus-rest-context</artifactId>
    </dependency>
    <dependency>
        <groupId>org.mapstruct</groupId>
        <artifactId>mapstruct</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-hibernate-validator</artifactId>
    </dependency>
    <dependency>
        <groupId>org.tkit.onecx.quarkus</groupId>
        <artifactId>onecx-permissions</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-oidc</artifactId>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-rest-client-oidc-filter</artifactId>
    </dependency>
    <dependency>
        <groupId>org.tkit.quarkus.lib</groupId>
        <artifactId>tkit-quarkus-security</artifactId>
    </dependency>
    <!-- DEV -->
    <dependency>
        <groupId>io.quarkiverse.mockserver</groupId>
        <artifactId>quarkus-mockserver</artifactId>
        <scope>provided</scope>
    </dependency>

    <!-- TEST -->
    <dependency>
        <groupId>io.quarkiverse.mockserver</groupId>
        <artifactId>quarkus-mockserver-test</artifactId>
        <exclusions>
            <exclusion>
                <groupId>io.swagger.parser.v3</groupId>
                <artifactId>swagger-parser</artifactId>
            </exclusion>
        </exclusions>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>io.swagger.parser.v3</groupId>
        <artifactId>swagger-parser</artifactId>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-test-keycloak-server</artifactId>
        <scope>test</scope>
    </dependency>
</dependencies>
```

### [](#%5Fapplication%5Fproperties)application.properties

Add the following properties. They may vary depending on your project. This is just a base set.

application.properties 

```xml
# AUTHENTICATION
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}


# propagate the apm-principal-token from requests we receive
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
# OIDC
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}

# INTEGRATION TEST
quarkus.test.integration-test-profile=test
# TEST
%test.quarkus.http.test-port=0
%test.tkit.log.json.enabled=false
%test.quarkus.mockserver.devservices.config-class-path=true
%test.quarkus.mockserver.devservices.config-file=/mockserver.properties
%test.quarkus.mockserver.devservices.config-dir=/mockserver
%test.quarkus.mockserver.devservices.log=false
%test.quarkus.mockserver.devservices.reuse=true

%test.tkit.rs.context.token.header-param=apm-principal-token
%test.tkit.rs.context.token.enabled=false
%test.tkit.rs.context.tenant-id.mock.claim-org-id=orgId
%test.quarkus.rest-client.onecx_permission.url=${quarkus.mockserver.endpoint}
%test.quarkus.keycloak.devservices.roles.alice=role-admin
%test.quarkus.keycloak.devservices.roles.bob=role-user
%test.quarkus.oidc-client.auth-server-url=${quarkus.oidc.auth-server-url}
%test.quarkus.oidc-client.client-id=${quarkus.oidc.client-id}
%test.quarkus.oidc-client.credentials.secret=${quarkus.oidc.credentials.secret}
%test.onecx.permissions.product-name=applications
# PIPE CONFIG
```

### [](#%5Fopenapi%5Fgenerator)OpenApi generator

After creating your [openapi file](quarkus-rest-api.html) in the right [ directory ](project-structure.html) :

Maven pom configuration for BFF-Api ⇒ Code 

```xml
<build>
    <plugins>
        <plugin>
            <groupId>org.openapitools</groupId>
            <artifactId>openapi-generator-maven-plugin</artifactId>
            <executions>
                <execution>
                    <id>internal</id>
                    <goals>
                        <goal>generate</goal>
                    </goals>
                    <configuration>
                        <inputSpec>src/main/openapi/openapi-bff.yaml</inputSpec>
                        <apiPackage>gen.org.tkit.onecx.your-product-name.bff.rs.internal</apiPackage>
                        <modelPackage>gen.org.tkit.onecx.your-product-name.bff.rs.internal.model</modelPackage>
                        <typeMappings>File=byte[]</typeMappings>
                    </configuration>
                </execution>
            </executions>
            <configuration>
                <additionalProperties>onecx-permissions=true</additionalProperties>
                <generatorName>jaxrs-spec</generatorName>
                <apiNameSuffix>ApiService</apiNameSuffix>
                <modelNameSuffix>DTO</modelNameSuffix>
                <generateApiTests>false</generateApiTests>
                <generateApiDocumentation>false</generateApiDocumentation>
                <generateModelTests>false</generateModelTests>
                <generateModelDocumentation>false</generateModelDocumentation>
                <generateSupportingFiles>false</generateSupportingFiles>
                <addCompileSourceRoot>true</addCompileSourceRoot>
                <library>quarkus</library>
                <configOptions>
                    <sourceFolder>/</sourceFolder>
                    <openApiNullable>false</openApiNullable>
                    <returnResponse>true</returnResponse>
                    <useTags>true</useTags>
                    <interfaceOnly>true</interfaceOnly>
                    <serializableModel>true</serializableModel>
                    <singleContentTypes>false</singleContentTypes>
                    <dateLibrary>java8</dateLibrary>
                    <useMicroProfileOpenAPIAnnotations>true</useMicroProfileOpenAPIAnnotations>
                    <useJakartaEe>true</useJakartaEe>
                    <useSwaggerAnnotations>false</useSwaggerAnnotations>
                    <java17>true</java17>
                </configOptions>
            </configuration>
        </plugin>
    </plugins>
</build>
```

Maven pom configuration for client-api download 

```xml
<plugin>
    <groupId>com.googlecode.maven-download-plugin</groupId>
    <artifactId>download-maven-plugin</artifactId>
    <executions>
        <execution>
            <id>add-a-unique-and-describing-id-here</id>
            <phase>generate-resources</phase>
            <goals>
                <goal>wget</goal>
            </goals>
            <configuration>
                <url>
                    add your github raw url here
                </url>
                <outputDirectory>target/tmp/openapi</outputDirectory>
                <outputFileName>your-output-file-name.yaml</outputFileName>
                <skipCache>true</skipCache>
            </configuration>
        </execution>
    </executions>
</plugin>
```

application.properties for code-generation 

```xml
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi

# your client
quarkus.openapi-generator.codegen.spec.your-output-file-name.config-key=yourCustomConfigKey
quarkus.openapi-generator.codegen.spec.your-output-file-name.base-package=gen.org.tkit.onecx.yourProductName.client
quarkus.openapi-generator.codegen.spec.your-output-file-name.return-response=true
quarkus.openapi-generator.codegen.spec.your-output-file-name.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.your-output-file-name.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.your-output-file-name.enable-security-generation=false
%prod.quarkus.rest-client.yourCustomConfigKey.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%test.quarkus.rest-client.yourCustomConfigKey.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter

%prod.quarkus.rest-client.yourCustomConfigKey.url=http://url-of-the-client:8080
%test.quarkus.rest-client.yourCustomConfigKey.url=${quarkus.mockserver.endpoint}
```

| |  The download of a clients openapi file only works for non-secured open-source files. Otherwise you need to manually paste the openapi file into your project and adjust your application.properties. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#%5Fcreating%5Fa%5Frest%5Fcontroller)Creating a Rest-Controller

After writing your openapi file run `mvn clean package` or `mvn clean package -DskipTests`to generate objects and your rest-controller interface into the /target folder.

Controller definition and annotations 

```java
@ApplicationScoped
@Transactional(value = Transactional.TxType.NOT_SUPPORTED)
@LogService
public class ThemeRestController implements ThemesApiService {
```

Use of client and mapper 

```java
    @Inject
    @RestClient
    ThemesInternalApi client;

    @Inject
    ThemeMapper mapper;

    @Inject
    ExceptionMapper exceptionMapper;
```

Endpoint implementation 

```yaml
  /themes/search:
    post:
      x-onecx:
        permissions:
          themes:
            - read
      tags:
        - themes
      description: Search themes by criteria
      operationId: searchThemes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ThemeSearchCriteria'
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ThemePageResult'
        "204":
          description: No Content
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetailResponse'
        "404":
          description: Not Found
```

```java
    @Override
    public Response searchThemes(ThemeSearchCriteriaDTO themeSearchCriteriaDTO) {
        try (Response response = client.searchThemes(mapper.mapSearchCriteria(themeSearchCriteriaDTO))) {
            ThemePageResultDTO themePageResultDTO = mapper
                    .pageResultMapper(response.readEntity(ThemePageResult.class));
            return Response.status(response.getStatus()).entity(themePageResultDTO).build();
        }
    }
```

Exception handling 

In most cases you don’t need to handle exceptions manually. We define **@ServerExceptionMapper**to let quarkus automatically handle the mentioned exceptions. For this to work you need to use a custom ExceptionMapper so that the Exceptions will be converted to an equal format. You can just use the following file.

```java
package org.tkit.onecx.themes.bff.rs.mappers;

import static jakarta.ws.rs.core.MediaType.APPLICATION_JSON;

import java.util.List;
import java.util.Map;
import java.util.Set;

import gen.org.tkit.onecx.theme.bff.rs.internal.model.ProblemDetailInvalidParamDTO;
import gen.org.tkit.onecx.theme.bff.rs.internal.model.ProblemDetailParamDTO;
import gen.org.tkit.onecx.theme.bff.rs.internal.model.ProblemDetailResponseDTO;
import jakarta.validation.ConstraintViolation;
import jakarta.validation.ConstraintViolationException;
import jakarta.validation.Path;
import jakarta.ws.rs.core.Response;

import org.jboss.resteasy.reactive.ClientWebApplicationException;
import org.jboss.resteasy.reactive.RestResponse;
import org.mapstruct.Mapper;
import org.mapstruct.Mapping;
import org.tkit.quarkus.rs.mappers.OffsetDateTimeMapper;

import gen.org.tkit.onecx.permission.model.ProblemDetailResponse;

@Mapper(uses = { OffsetDateTimeMapper.class })
public interface ExceptionMapper {

    default RestResponse<ProblemDetailResponseDTO> constraint(ConstraintViolationException ex) {
        var dto = exception("CONSTRAINT_VIOLATIONS", ex.getMessage());
        dto.setInvalidParams(createErrorValidationResponse(ex.getConstraintViolations()));
        return RestResponse.status(Response.Status.BAD_REQUEST, dto);
    }

    default Response clientException(ClientWebApplicationException ex) {
        if (ex.getResponse().getStatus() == 500) {
            return Response.status(400).build();
        } else {
            if (ex.getResponse().getMediaType() != null
                    && ex.getResponse().getMediaType().toString().contains(APPLICATION_JSON)) {
                return Response.status(ex.getResponse().getStatus())
                        .entity(map(ex.getResponse().readEntity(ProblemDetailResponse.class))).build();
            } else {
                return Response.status(ex.getResponse().getStatus()).build();
            }
        }
    }

    @Mapping(target = "removeParamsItem", ignore = true)
    @Mapping(target = "removeInvalidParamsItem", ignore = true)
    ProblemDetailResponseDTO map(ProblemDetailResponse problemDetailResponse);

    @Mapping(target = "removeParamsItem", ignore = true)
    @Mapping(target = "params", ignore = true)
    @Mapping(target = "invalidParams", ignore = true)
    @Mapping(target = "removeInvalidParamsItem", ignore = true)
    ProblemDetailResponseDTO exception(String errorCode, String detail);

    default List<ProblemDetailParamDTO> map(Map<String, Object> params) {
        if (params == null) {
            return List.of();
        }
        return params.entrySet().stream().map(e -> {
            var item = new ProblemDetailParamDTO();
            item.setKey(e.getKey());
            if (e.getValue() != null) {
                item.setValue(e.getValue().toString());
            }
            return item;
        }).toList();
    }

    List<ProblemDetailInvalidParamDTO> createErrorValidationResponse(
            Set<ConstraintViolation<?>> constraintViolation);

    @Mapping(target = "name", source = "propertyPath")
    @Mapping(target = "message", source = "message")
    ProblemDetailInvalidParamDTO createError(ConstraintViolation<?> constraintViolation);

    default String mapPath(Path path) {
        return path.toString();
    }
}
```

After this you can add the following to your rest-controller.

```java
    @ServerExceptionMapper
    public RestResponse<ProblemDetailResponseDTO> constraint(ConstraintViolationException ex) {
        return exceptionMapper.constraint(ex);
    }

    @ServerExceptionMapper
    public Response restException(ClientWebApplicationException ex) {
        return exceptionMapper.clientException(ex);
    }
```

| |  Depending on your project, you may have more or less exceptions that need to be handled. When using multiple clients in one rest-call it’s also possible, that you need to manually handle exceptions with a **catch{}** block. |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#%5Fmapper)Mapper

Create a mapper for each entity. We use Mapstruct for this.[Mapstruct Documentation](https://mapstruct.org/documentation/stable/reference/html/)

You need to map all incoming dto’s to the svc models and the model of the svc response back to a dto.

Example 

Mapper:

```java
@Mapper(uses = { OffsetDateTimeMapper.class })
public interface ThemeMapper {

    ThemeSearchCriteria mapSearchCriteria(ThemeSearchCriteriaDTO themeSearchCriteriaDTO);

    @Mapping(target = "themes", source = "stream")
    @Mapping(target = "removeThemesItem", ignore = true)
    ThemePageResultDTO pageResultMapper(ThemePageResult themePageResult);
}
```

Used in controller like this:

```java
    @Override
    public Response searchThemes(ThemeSearchCriteriaDTO themeSearchCriteriaDTO) {
        try (Response response = client.searchThemes(mapper.mapSearchCriteria(themeSearchCriteriaDTO))) {
            ThemePageResultDTO themePageResultDTO = mapper
                    .pageResultMapper(response.readEntity(ThemePageResult.class));
            return Response.status(response.getStatus()).entity(themePageResultDTO).build();
        }
    }
```

### [](#%5Flogger)Logger

Since your controller is already annotated with `@LogService`You can now create a custom logger. You should add each incoming object to the logger but only as little as possible and as much as necessary fields for each object.

Example 

```java
@ApplicationScoped
public class ThemeLog implements LogParam {
    @Override
    public List<Item> getClasses() {
        return List.of(
                this.item(10, ThemeSearchCriteriaDTO.class,
                        x -> "ThemeSearchCriteriaDTO[ name: " +
                                ((ThemeSearchCriteriaDTO) x).getName()
                                + " ]"));
    }
}
```

| |  Make sure that you don’t add critical data to logger like passwords or tokens! |
| --------------------------------------------------------------------------------- |

## [](#%5Ftests)Tests

To start writing unit-tests you should first create an abstract class called `AbstractTest.java` inside of your test package. You can copy and paste the following class.

```java
package org.tkit.onecx.themes.bff.rs;

import org.eclipse.microprofile.config.ConfigProvider;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;

import io.quarkiverse.mockserver.test.MockServerTestResource;
import io.quarkus.test.common.QuarkusTestResource;
import io.restassured.RestAssured;
import io.restassured.config.ObjectMapperConfig;
import io.restassured.config.RestAssuredConfig;

@QuarkusTestResource(MockServerTestResource.class)
public abstract class AbstractTest {
    protected static final String ADMIN = "alice";

    protected static final String USER = "bob";

    protected static final String APM_HEADER_PARAM = ConfigProvider.getConfig()
            .getValue("%test.tkit.rs.context.token.header-param", String.class);

    static {
        RestAssured.config = RestAssuredConfig.config().objectMapperConfig(
                ObjectMapperConfig.objectMapperConfig().jackson2ObjectMapperFactory(
                        (cls, charset) -> {
                            ObjectMapper objectMapper = new ObjectMapper();
                            objectMapper.registerModule(new JavaTimeModule());
                            objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);
                            return objectMapper;
                        }));
    }
}
```

We use the `@QuarkusTestResource(MockServerTestResource.class)`annotation to include a mockserver for our tests.

The following defined users `bob` and `alice` are later used to test the access with different sets of permissions.`Alice` is used as an admin with all permissions and `bob` as a user with just a subset of permissions. The `APM_HEADER_PARAM` is later used to authenticate our test requests. See more at[Security & Permissions](#%5Fsecurity%5Fpermissions)

Whenever your data contains any type of dates you will also need the static RestAssured.config Otherwise the test responses will contain dates as numbers.

### [](#%5Fmockserver)Mockserver

Now, before writing tests, we will add all necessary files to make the mockserver work.

1. Create a package called `mockserver` inside your test resources package. See [project structure](project-structure.html) for more information.
2. Create an empty file called `internal.json` in this package. This file will be used by the mockserver to save expectations whenever you create one inside your tests.
3. Create a file called `mockserver.properties` inside your test.resources package. You can copy and paste the content from the following file:

mockserver.properties 

```yaml
mockserver.initializationJsonPath=/mockserver/*.json
# watch changes in the file
mockserver.watchInitializationJson=true


# Certificate Generation
# dynamically generated CA key pair (if they don't already exist in specified directory)
mockserver.dynamicallyCreateCertificateAuthorityCertificate=true
# save dynamically generated CA key pair in working directory
mockserver.directoryToSaveDynamicSSLCertificate=.
# certificate domain name (default "localhost")
mockserver.sslCertificateDomainName=localhost
# comma separated list of ip addresses for Subject Alternative Name domain names (default empty list)
mockserver.sslSubjectAlternativeNameDomains=www.example.com,www.another.com
# comma separated list of ip addresses for Subject Alternative Name ips (default empty list)
mockserver.sslSubjectAlternativeNameIps=127.0.0.1
```

1. Add the following properties to your application.properties

%test.quarkus.mockserver.devservices.config-class-path=true
%test.quarkus.mockserver.devservices.config-file=/mockserver.properties
%test.quarkus.mockserver.devservices.config-dir=/mockserver
%test.quarkus.mockserver.devservices.log=false
%test.quarkus.mockserver.devservices.reuse=true
%test.quarkus.rest-client.onecx_theme_svc.url=${quarkus.mockserver.endpoint}

You will need to change the last line from `onecx_theme_svc` to the config key of your client. This will point all test requests to your client to the mockserver.

| |  You will need this line for each client you use. |
| --------------------------------------------------- |

### [](#%5Funit%5Ftests)Unit Tests

Now everything is prepared to write your first test. Each rest-controller class will have its own test class. First create a new test class. By convention, you should name it like this:`[RestControllerName]Test`.

Define your class like this:

```java
@QuarkusTest
@LogService
@TestHTTPEndpoint(ThemeRestController.class)
class ThemeRestControllerTest extends AbstractTest {
```

The `@TestHTTPEndpoint` will set the base-url of your test-request to the one of your controller.

Example 

If you have a bff with 6 endpoints distributed to 2 controllers like:`/yourBff/themes/{id} (GET) /yourBff/themes (POST) /yourBff/themes/search (POST) /yourBff/users/{id} (GET)  
/yourBff/users (POST) /yourBff/users/search (POST)`

This would result in 2 controllers. One for themes and one for users. When testing the ThemesRestController you can now make test-request to just`.post(/search)`, `.post(/{id})`, `.post()` because the base url of your tests will already include "/yourBff/themes".

Now instantiate a `KeycloakTestClient` and inject the `MockServerClient`:

```java
    KeycloakTestClient keycloakClient = new KeycloakTestClient();

    @InjectMockServerClient
    MockServerClient mockServerClient;
```

Now you should also add the following `@BeforeEach` method to reset all mocks after each test. Since you probably want to run multiple test cases related to a single client-endpoint, this method ensures, that you don’t hit a created expectation of a before executed test by accident.

```java
    static final String MOCK_ID = "MOCK";

    @BeforeEach
    void resetExpectation() {
        try {
            mockServerClient.clear(MOCK_ID);
        } catch (Exception ex) {
            //  mockId not existing
        }
    }
```

| |  You can also manually remove a created expectation in a test itself. If you need to mock multiple endpoints in a single test, you can add more mock ids to the resetExpectation() method. Make sure, that in a single test all mocks have a unique id. Otherwise, they would overwrite themselves. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

The following example test will test a POST "/search" endpoint.

For a unit test you need to create a method annotated with `@Test`

| |  Tests should have a describing name including the expectation. For example searchThemesByCriteria() or searchThemes\_missingCriteria\_400() |
| ---------------------------------------------------------------------------------------------------------------------------------------------- |

A test needs 3 main components.

**Expectation (Mock)**

```java
        mockServerClient.when(request().withPath("/internal/themes/search").withMethod(HttpMethod.POST)
                .withBody(JsonBody.json(criteria)))
                .withId(MOCK_ID)
                .respond(httpRequest -> response().withStatusCode(Response.Status.OK.getStatusCode())
                        .withContentType(MediaType.APPLICATION_JSON)
                        .withBody(JsonBody.json(data)));
```

**Request**

```java
        var output = given()
                .when()
                .auth().oauth2(keycloakClient.getAccessToken(ADMIN))
                .header(APM_HEADER_PARAM, ADMIN)
                .contentType(APPLICATION_JSON)
                .body(searchThemeRequestDTO)
                .post()
                .then()
                .statusCode(Response.Status.OK.getStatusCode())
                .contentType(APPLICATION_JSON)
                .extract().as(ThemePageResultDTO.class);
```

**Assertions**

```java
        Assertions.assertNotNull(output);
        Assertions.assertEquals(data.getSize(), output.getSize());
        Assertions.assertEquals(data.getStream().size(), output.getThemes().size());
        Assertions.assertEquals(data.getStream().get(0).getName(), output.getThemes().get(0).getName());
```

See more in [this reference](#example$quarkus/bff/example/src/test/java/org/tkit/onecx/themes/bff/rs/ThemeRestControllerTest.java) for an example test class.

### [](#%5Fintegration%5Ftests%5Fit)Integration Tests (IT)

ITs ensure that everything also works when your application is containerized with docker. Create for each test class an integration test file named like:`[RestControllerName]IT`. Annotate this class with `@QuarkusIntegrationTest` and extend it by your test class.

It should look like this:

```java
@QuarkusIntegrationTest
public class ThemeRestControllerIT extends ThemeRestControllerTest {
}
```

## [](#%5Fsecurity%5Fpermissions)Security & Permissions

Our BFFs are double secured. To activate endpoint security you need to add the following properties to the application.properties

```yaml
# AUTHENTICATION
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
```

This will ensure, that the BFF is only accessible for requests with a valid APM token. All requests in your test file will then need  
`.header(APM_HEADER_PARAM, ADMIN)`  
which we already added before.

To limit access based on permissions first make sure you added the following dependency to your pom.

```xml
        <dependency>
            <groupId>org.tkit.onecx.quarkus</groupId>
            <artifactId>onecx-permissions</artifactId>
        </dependency>
```

and activated the permission generation of the `openapi-generator-maven-plugin`.

```xml
                    <additionalProperties>onecx-permissions=true</additionalProperties>
```

After that you can add permissions to each endpoint inside your openapi file:

```yaml
  /themes/search:
    post:
      x-onecx:
        permissions:
          themes:
            - read
```

We typically use `read`, `write` and `delete` as actions.  
This may vary depending on the project. Each permission is a pair of resource(entity) + action. In this example case the resource(entity) is "themes" and the action "read".

After that you need to add those permissions to the values.yaml like here:

```yaml
app:
 name: bff
 image:
  repository: "onecx/onecx-theme-bff"
 operator:
  # Permission
  permission:
   enabled: true
   spec:
    permissions:
     themes:
      read: permission on all GET requests and POST search
      write: permission on PUT, POST, PATCH requests, where objects are saved or updated
      delete: permission on all DELETE requests
  keycloak:
   client:
    enabled: true
    spec:
     kcConfig:
      defaultClientScopes: [ ocx-th:all, ocx-pm:read ]
```

This will trigger an operator on each deployment which creates those permissions in the permission-svc.

To use those permissions in your tests you firstly need to add the following to each request.`.auth().oauth2(keycloakClient.getAccessToken(ADMIN))`

and this to your application.properties

```yaml
%test.quarkus.rest-client.onecx_permission.url=${quarkus.mockserver.endpoint}
%test.quarkus.keycloak.devservices.roles.alice=role-admin
%test.quarkus.keycloak.devservices.roles.bob=role-user
%test.onecx.permissions.product-name=applications
```

Finally, we need to add mocks for the permission-svc. You can copy and paste the content of the following file and save it into the mockserver folder as permissions.json and adjust it by changing the resource, in this case "themes", and actions if needed.

permissions.json 

```json
[
  {
    "id": "2",
    "httpRequest": {
      "headers": {
        "apm-principal-token": [
          "alice"
        ]
      },
      "path": "/v1/permissions/user/applications/onecx-theme-bff"
    },
    "httpResponse": {
      "body": {
        "type": "JSON",
        "json": {
          "appId": "onecx-theme-bff",
          "permissions": {
            "themes": [
              "read",
              "write",
              "delete"
            ],
            "permissions": [
              "admin-write",
              "admin-read"
            ]
          }
        },
        "contentType": "application/json"
      }
    }
  },
  {
    "id": "3",
    "httpRequest": {
      "headers": {
        "apm-principal-token": [
          "bob"
        ]
      },
      "path": "/v1/permissions/user/applications/onecx-theme-bff"
    },
    "httpResponse": {
      "body": {
        "type": "JSON",
        "json": {
          "appId": "onecx-theme-bff",
          "permissions": {
            "themes": [
              "read"
            ],
            "permissions": [
              "admin-write",
              "admin-read"
            ]
          }
        },
        "contentType": "application/json"
      }
    }
  }
]
```

undefined
====================
## [](#%5Fquarkus%5Fgithub%5Factions)Quarkus GitHub Actions

K8s operator (operator)
====================
## [](#%5Fproject%5Fsetup)Project setup

Now that [project structure](project-structure.html) is set up for the Onecx Quarkus project, we can configure the k8s operator and extend the project configuration.

### [](#%5Fparent%5Fconfiguration)Parent configuration

Project maven parent configuration, artifactId and project version.

| |  More information about maven parent pom pattern [Apache Maven Pom Documentation](https://maven.apache.org/guides/introduction/introduction-to-the-pom.html) |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Maven parent configuration 

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">

    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>org.tkit.onecx</groupId>
        <artifactId>onecx-quarkus3-parent</artifactId>
        <version>0.62.0</version>
    </parent>

    <artifactId>onecx-example-svc</artifactId>
    <version>999-SNAPSHOT</version>

</project>
```

REST API
====================
## [](#%5Frest%5Fapi%5Ffor%5Fcrud%5Fservices)REST API for CRUD services

### [](#%5Fget)GET

### [](#%5Fpost)POST

### [](#%5Fput)PUT

### [](#%5Fdelete)DELETE

## [](#%5Ferror%5Fresponse)Error Response

| **400** | We define a Problem Detail Response object that we use for request validation                                                 |
| ------- | ----------------------------------------------------------------------------------------------------------------------------- |
| **401** | is provided by framework, not part of API definition                                                                          |
| **403** | is provided by framework, not part of API definition                                                                          |
| **500** | technical error (unhandled exception) e.g. In case depending on services are not available, unhandled database exceptions, …​ |

| |  We do not include error code 500 in our openapi.yaml definition |
| ------------------------------------------------------------------ |

### [](#%5Fproblem%5Fdetail%5Fresponse)Problem Detail Response

For request validation, for example for error code `400` we do define a Problem Detail Response.

Problem Detail Response 

```yaml
components:
  schemas:
    ProblemDetailResponse:
      type: object
      properties:
        errorCode:
          type: string
        detail:
          type: string
        params:
          type: array
          items:
            $ref: '#/components/schemas/ProblemDetailParam'
        invalidParams:
          type: array
          items:
            $ref: '#/components/schemas/ProblemDetailInvalidParam'
    ProblemDetailParam:
      type: object
      properties:
        key:
          type: string
        value:
          type: string
    ProblemDetailInvalidParam:
      type: object
      properties:
        name:
          type: string
        message:
          type: string
```

Example error response 

```json
{
   "errorCode": "VALIDATION_ERROR",
   "detail": "Your current status is NORMAL, but should one of the provided enumeration.",
   "params": [
      {
        "key": "name",
        "value": "Workspace-1"
      }
   ],
   "invalidParams": [
      {
        "name": "status",
        "message": "must be 'ACTIVE', or 'INACTIVE'"
      }
   ]
}
```

## [](#%5Flinks)Links

* [docs-guides-quarkus](https://github.com/onecx/docs-guides-quarkus)
* [Microsoft rest API guidelines](https://github.com/microsoft/api-guidelines/blob/vNext/Guidelines.md)
* [REST](https://en.wikipedia.org/wiki/Representational%5Fstate%5Ftransfer)
* [RFC](https://datatracker.ietf.org/doc/html/rfc7807)

Backend service (svc)
====================
## [](#%5Fproject%5Fsetup)Project setup

Now that [project structure](project-structure.html) is set up for the Onecx Quarkus project, we can configure the backend service and extend the project configuration.

### [](#%5Fparent%5Fconfiguration)Parent configuration

Project maven parent configuration, artifactId and project version.

| |  More information about maven parent pom pattern [Apache Maven Pom Documentation](https://maven.apache.org/guides/introduction/introduction-to-the-pom.html) |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Maven parent configuration

```xml
<parent>
    <groupId>org.tkit.onecx</groupId>
    <artifactId>onecx-quarkus3-parent</artifactId>
    <version>0.72.0</version>
</parent>
```

### [](#%5Fdependencies)Dependencies

| |  All version of the dependencies are defined in the parent project. Project itself should not define any version of these dependencies. |
| ----------------------------------------------------------------------------------------------------------------------------------------- |

By default, we will have the following maven dependencies:

* [tkit-quarkus](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/index.html) are quarkus extensions for `JPA`, `log`, `json-log` and `rest-log`
* [quarkus](https://quarkus.io/guides/) cloud native extensions (health, metrics, tracing, …​), quarkus-rest, hibernate-orm and liquibase
* [lombok](https://projectlombok.org/) to generate getters, setters and much more
* [mapstruct](https://mapstruct.org/documentation/stable/reference/html/) Generator to generate a source that maps `DTO` to `JPA` models and vice versa

Backend service default dependencies 

```xml
<dependencies>
        <!-- ONECX -->

        <!-- 1000kit -->
        <dependency>
            <groupId>org.tkit.quarkus.lib</groupId>
            <artifactId>tkit-quarkus-rest-context</artifactId>
        </dependency>
        <dependency>
            <groupId>org.tkit.quarkus.lib</groupId>
            <artifactId>tkit-quarkus-jpa</artifactId>
        </dependency>
        <dependency>
            <groupId>org.tkit.quarkus.lib</groupId>
            <artifactId>tkit-quarkus-log-cdi</artifactId>
        </dependency>
        <dependency>
            <groupId>org.tkit.quarkus.lib</groupId>
            <artifactId>tkit-quarkus-log-rs</artifactId>
        </dependency>
        <dependency>
            <groupId>org.tkit.quarkus.lib</groupId>
            <artifactId>tkit-quarkus-log-json</artifactId>
        </dependency>
        <dependency>
            <groupId>org.tkit.quarkus.lib</groupId>
            <artifactId>tkit-quarkus-rest</artifactId>
        </dependency>

        <!-- QUARKUS -->
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-arc</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-liquibase</artifactId>
        </dependency>
        <dependency>
            <groupId>com.github.blagerweij</groupId>
            <artifactId>liquibase-sessionlock</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-smallrye-health</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-micrometer-registry-prometheus</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-hibernate-orm</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-resteasy-reactive</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-resteasy-reactive-jackson</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-jdbc-postgresql</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-smallrye-context-propagation</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-smallrye-openapi</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-hibernate-validator</artifactId>
        </dependency>
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-opentelemetry</artifactId>
        </dependency>

        <!-- OTHER -->
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
        </dependency>
        <dependency>
            <groupId>org.mapstruct</groupId>
            <artifactId>mapstruct</artifactId>
        </dependency>
</dependencies>
```

### [](#%5Fgenerate%5Frest%5Fendpoint)Generate rest endpoint

In `onecx` project we do use API-first approach. First we need to defined our `REST` interface with `openApi`. Create a `example-v1.yaml` (pattern: <application>-<version>.yaml) in the `src/main/openapi` directory.

Example openapi file 

```yaml
---
openapi: 3.0.3
info:
  title: onecx-theme internal service
  version: 1.0.0
servers:
  - url: "http://onecx-theme-svc:8080"
tags:
  - name: themesInternal
paths:
  /internal/themes/search:
    post:
      security:
        - oauth2: [ ocx-th:all, ocx-th:read ]
      tags:
        - themesInternal
      description: Search for themes
      operationId: searchThemes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ThemeSearchCriteria'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ThemePageResult'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetailResponse'
components:
  securitySchemes:
    oauth2:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: https://oauth.simple.api/token
          scopes:
            ocx-th:all: Grants access to all operations
            ocx-th:read: Grants read access
            ocx-th:write: Grants write access
            ocx-th:delete: Grants access to delete operations
  schemas:
    ThemeSearchCriteria:
      type: object
      properties:
        name:
          type: string
        pageNumber:
          format: int32
          description: The number of page.
          default: 0
          type: integer
        pageSize:
          format: int32
          description: The size of page
          default: 100
          maximum: 1000
          type: integer
    ThemePageResult:
      type: object
      properties:
        totalElements:
          format: int64
          description: The total elements in the resource.
          type: integer
        number:
          format: int32
          type: integer
        size:
          format: int32
          type: integer
        totalPages:
          format: int64
          type: integer
        stream:
          type: array
          items:
            $ref: '#/components/schemas/Theme'
    Theme:
      required:
        - name
        - displayName
      type: object
      properties:
        modificationCount:
          format: int32
          type: integer
        creationDate:
          $ref: '#/components/schemas/OffsetDateTime'
        creationUser:
          type: string
        modificationDate:
          $ref: '#/components/schemas/OffsetDateTime'
        modificationUser:
          type: string
        id:
          type: string
        name:
          minLength: 2
          type: string
        displayName:
          minLength: 2
          type: string
        cssFile:
          type: string
        description:
          type: string
        assetsUrl:
          type: string
        logoUrl:
          type: string
        faviconUrl:
          type: string
        previewImageUrl:
          type: string
        assetsUpdateDate:
          type: string
        properties:
          type: object
        operator:
          type: boolean
          default: false
    OffsetDateTime:
      format: date-time
      type: string
      example: 2022-03-10T12:15:50-04:00
    ProblemDetailResponse:
      type: object
      properties:
        errorCode:
          type: string
        detail:
          type: string
        params:
          type: array
          items:
            $ref: '#/components/schemas/ProblemDetailParam'
        invalidParams:
          type: array
          items:
            $ref: '#/components/schemas/ProblemDetailInvalidParam'
    ProblemDetailParam:
      type: object
      properties:
        key:
          type: string
        value:
          type: string
    ProblemDetailInvalidParam:
      type: object
      properties:
        name:
          type: string
        message:
          type: string
```

Now we can configure `org.tkit.onecx.quarkus:onecx-openapi-generator` Maven plugin. The important part of the Maven plugin is xml configuration element.

OpenApi generator full Maven plugin configuration

```xml
<plugin>
    <groupId>org.openapitools</groupId>
    <artifactId>openapi-generator-maven-plugin</artifactId>
    <configuration>
        <generatorName>jaxrs-spec</generatorName>
        <modelNameSuffix>DTO</modelNameSuffix>
        <generateApiTests>false</generateApiTests>
        <generateApiDocumentation>false</generateApiDocumentation>
        <generateModelTests>false</generateModelTests>
        <generateModelDocumentation>false</generateModelDocumentation>
        <generateSupportingFiles>false</generateSupportingFiles>
        <addCompileSourceRoot>true</addCompileSourceRoot>
        <library>quarkus</library>
        <additionalProperties>onecx-scopes=true</additionalProperties>
        <configOptions>
            <sourceFolder>/</sourceFolder>
            <openApiNullable>false</openApiNullable>
            <returnResponse>true</returnResponse>
            <useTags>true</useTags>
            <interfaceOnly>true</interfaceOnly>
            <serializableModel>true</serializableModel>
            <singleContentTypes>true</singleContentTypes>
            <dateLibrary>java8</dateLibrary>
            <useMicroProfileOpenAPIAnnotations>true</useMicroProfileOpenAPIAnnotations>
            <useJakartaEe>true</useJakartaEe>
            <useBeanValidation>true</useBeanValidation>
            <java17>true</java17>
        </configOptions>
    </configuration>
    <executions>
        <execution>
            <id>internal</id>
            <goals>
                <goal>generate</goal>
            </goals>
            <configuration>
                <inputSpec>src/main/openapi/onecx-theme-internal-openapi.yaml</inputSpec>
                <apiPackage>gen.org.tkit.onecx.theme.rs.internal</apiPackage>
                <modelPackage>gen.org.tkit.onecx.theme.rs.internal.model</modelPackage>
                <modelNameSuffix>DTO</modelNameSuffix>
            </configuration>
        </execution>
    </executions>
</plugin>
```

After we run `mvn clean package` maven plugin will generate in corresponding source code in `target/generated-sources` directory.

### [](#%5Frest%5Fimplementation)REST Implementation

To implement the `RoleRestController` we need to create a java class which implements generated interface `gen.org.tkit.onecx.example.rs.v1.RoleInternalApi`.

RoleRestController 

```java
import jakarta.enterprise.context.ApplicationScoped;
import jakarta.ws.rs.core.Response;
import jakarta.validation.ConstraintViolationException;
import org.tkit.quarkus.jpa.exceptions.ConstraintException;
import jakarta.persistence.OptimisticLockException;

import gen.org.tkit.onecx.example.rs.v1.RoleInternalApi;
import gen.org.tkit.onecx.example.rs.v1.model.CreateRoleRequestDTO;

@ApplicationScoped
public class RoleRestController implements RoleInternalApi {

    @Inject
    RoleMapper mapper;

    @Inject
    ExceptionMapper exceptionMapper;

    @Context
    UriInfo uriInfo;

    @Override
    public Response createRole(CreateRoleRequestDTO createRoleRequestDTO) {
        var role = mapper.create(createRoleRequestDTO);
        role = dao.create(role);
        return Response
                .created(uriInfo.getAbsolutePathBuilder().path(role.getId()).build())
                .entity(mapper.map(theme))
                .build();
    }

    // constraint exception exception handler
    @ServerExceptionMapper
    public RestResponse<ProblemDetailResponseDTO> exception(ConstraintException ex) {
        return exceptionMapper.exception(ex);
    }

    // constraint violation exception handler
    @ServerExceptionMapper
    public RestResponse<ProblemDetailResponseDTO> constraint(ConstraintViolationException ex) {
        return exceptionMapper.constraint(ex);
    }

    // Optimistic lock exception handler
    @ServerExceptionMapper
    public RestResponse<ProblemDetailResponseDTO> optimisticLockException(OptimisticLockException ex) {
        return exceptionMapper.optimisticLock(ex);
    }

}
```

For the backend service we need to define exception mapper methods for following exception:

* `jakarta.persistence.OptimisticLockException` \- this exception is throw when try to store object in the database with old or wrong `OPTLOCK` number.
* `jakarta.validation.ConstraintViolationException` \- when we activate a validation framework `io.quarkus:quarkus-hibernate-validator` this exception will be thrown when request does not match to the requirements defined in the OpenApi.
* `org.tkit.quarkus.jpa.exceptions.ConstraintException` \- this exception will be thrown for any database constraints.

| |  With the annotation @ServerExceptionMapper we defined the exception mapper for each Exception in the context of the RestController. |
| -------------------------------------------------------------------------------------------------------------------------------------- |

To map the request `DTO` object to the `JPA` model we use the `Mapstruct`. We define the `RoleMapper` in our example.

```java
import org.tkit.quarkus.rs.mappers.OffsetDateTimeMapper;

@Mapper(uses = { OffsetDateTimeMapper.class })
public interface RoleMapper {

    @Mapping(target = "id", ignore = true)
    @Mapping(target = "creationDate", ignore = true)
    @Mapping(target = "creationUser", ignore = true)
    @Mapping(target = "modificationDate", ignore = true)
    @Mapping(target = "modificationUser", ignore = true)
    @Mapping(target = "controlTraceabilityManual", ignore = true)
    @Mapping(target = "modificationCount", ignore = true)
    @Mapping(target = "persisted", ignore = true)
    @Mapping(target = "tenantId", ignore = true)
    Role create(CreateRoleRequestDTO dto);

    // ... more mapping methods
}
```

The same approach we use for the exception mapper which could be shared between multiple `RestController` for the same rest interface.

```java
import org.tkit.quarkus.rs.mappers.OffsetDateTimeMapper;

@Mapper(uses = { OffsetDateTimeMapper.class })
public interface ExceptionMapper {

    default RestResponse<ProblemDetailResponseDTO> constraint(ConstraintViolationException ex) {
        var dto = exception(ErrorKeys.CONSTRAINT_VIOLATIONS.name(), ex.getMessage());
        dto.setInvalidParams(createErrorValidationResponse(ex.getConstraintViolations()));
        return RestResponse.status(Response.Status.BAD_REQUEST, dto);
    }

    //.... more mapping methods
}
```

| |  org.tkit.quarkus.rs.mappers.OffsetDateTimeMapper mapper is predefined a mapstruct mapper for OffsetDateTime and LocalDateTime object. |
| ---------------------------------------------------------------------------------------------------------------------------------------- |

### [](#%5Fjpa%5Flayer%5Fimplementation)JPA layer implementation

For our project we will use the `tkit-quarkus-jpa` and `tkit-quarkus-jpa-models` extension for Quarkus which have simple API on top of JPA. We have abstract `DAO` classes and abstract Entity classes which provides basic `CRUD` operation. For more information please read the extension [tkit-quarkus-jpa](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/index.html) documentation.

```xml
<dependency>
    <groupId>org.tkit.quarkus.lib</groupId>
    <artifactId>tkit-quarkus-jpa</artifactId>
</dependency>
```

Create User entity class in the `org.tkit.onecx.user.domain.models` package. The entity class extend the `TraceableEntity`. In the entity class can use the Lombok annotation `@Getter` and `@Setter` to generate the getters and setters.

Example user entity 

```java
import javax.persistence.Entity;
import javax.persistence.Table;
import org.tkit.quarkus.jpa.models.TraceableEntity;

@Entity
@Table(name = "T_USER")
public class User extends TraceableEntity {

    @Column(name = "USERNAME")
    private String username;
}
```

Example user DAO 

```java
import org.tkit.quarkus.jpa.daos.AbstractDAO;
import javax.enterprise.context.ApplicationScoped;

@ApplicationScoped
public class UserDAO extends AbstractDAO<User> {

}
```

#### [](#%5Fdatabase%5Fconfiguration)Database configuration

In `onecx` project we do use the `postgresql` database for our backend services.

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10

quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
```

| |  The parameter quarkus.hibernate-orm.log.sql will activate the hibernate logs in the console. |
| ----------------------------------------------------------------------------------------------- |

#### [](#%5Fdatabase%5Fschema%5Fchange%5Fmanagement)Database schema change management

[Liquibase](https://www.liquibase.com/) is an open source tool for database schema change management. We will this framework in our example. Liquibase does have abstraction layer xml, json or yaml to support multi databases. Liquibase can generate the changes and compare our Hibernate model with existing database.

For the database schema change management we do use [quarkus-liquibase](https://quarkus.io/guides/) extension. To generate a database changes or validate the database changes we do use [tkit-liquibase-plugin](https://github.com/1000kit/tkit-liquibase-plugin) which is configured in the onecx-quarkus3-parent.

Quarkus liquibase configuration

```properties
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
```

By default, liquibase does not use session lock. To activate the liquibase session lock during the start of our service we do use `com.github.blagerweij:liquibase-sessionlock` liquibase extension. No configuration is need to this extension.

To generate the database changes run following command

```shell
mvn clean compile -Pdb-diff
```

To check if you are missing any changes run following command

```shell
mvn validate -Pdb-check
```

#### [](#%5Fjpa%5Fdate%5Ftime)JPA date-time

First, you need to configure the database server to use the UTC timezone. For example PostgreSQL default is UTC. Second, you need to set hibernate.jdbc.time\_zone Hibernate property to the value of UTC. For the Quarkus application we need set key quarkus.hibernate-orm.jdbc.timezone to UTC value in the application.properties.

```properties
quarkus.hibernate-orm.jdbc.timezone=UTC
```

The date representation in the database is store in the UTC as long number. Date fields in the JPA entity represents this database date as LocalDateTime. On the another hand the DTO represents the date as ISO text. To get it running we need to create a mapper which will map the LocalDateTime to OffsetDatetime. In the mapping we should not lose the Offset/Zone information.

| |  The date representation in the JPA entity is the LocalDateTime java type and in the DTO object is the OffsetDateTime java type. |
| ---------------------------------------------------------------------------------------------------------------------------------- |

Example user entity 

```java
@Entity
@Table(name = "T_USER")
public class User extends TraceableEntity {
    private String username;
    private LocalDateTime date;
}
```

Example user DTO 

```java
@RegisterForReflection
public class UserDTO extends TraceableDTO {
    private String username;
    private OffsetDateTime date;
}
```

Example user mapper 

```java
import org.tkit.quarkus.rs.mappers.OffsetDateTimeMapper;

@Mapper(uses = OffsetDateTimeMapper.class)
public interface UserMapper {

    UserDTO map(User model);

    User create(UserDTO dto);
}
```

In the tests we need to configure the RestAssured to use text representation of the date-time.

```java
public abstract class AbstractTest {
    static {
        RestAssured.config = RestAssuredConfig.config().objectMapperConfig(
            ObjectMapperConfig.objectMapperConfig().jackson2ObjectMapperFactory(
                (cls, charset) -> {
                     ObjectMapper objectMapper = new ObjectMapper();
                     objectMapper.registerModule(new JavaTimeModule());
                     objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);
                     return objectMapper;
                }
            )
        );
    }
}
```

### [](#%5Fjpa%5Fcustom%5Fbusiness%5Fid)JPA custom business ID

#### [](#%5Fpostgressql%5Fserial%5Ftype)PostgresSQL SERIAL type

```java
@GeneratorType(type = BidStringGenerator.class, when = GenerationTime.INSERT)
@Column(name = "CUSTOM")
String custom;
```

#### [](#%5Fgeneric%5Fsequence%5Fimplementation)Generic sequence implementation

```java
import javax.persistence.Column;
import org.my.group.BusinessId;

@BusinessId(sequence = "SEQ_MY_ENTITY_BID")
@Column(name = "bid_anno")
Long bid;
```

Follow the implementation of the custom annotation `BusinessId`.

BusinessId 

```java
import org.hibernate.annotations.ValueGenerationType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;

@ValueGenerationType(generatedBy = BusinessIdValueGeneration.class)
@Retention(RetentionPolicy.RUNTIME)
public @interface BusinessId {

    String sequence() default "";

}
```

BusinessIdValueGeneration 

```java
import org.hibernate.tuple.AnnotationValueGeneration;
import org.hibernate.tuple.GenerationTiming;
import org.hibernate.tuple.ValueGenerator;

public class BusinessIdValueGeneration implements AnnotationValueGeneration<BusinessId> {

    String sequence;

    @Override
    public void initialize(BusinessId annotation, Class<?> propertyType) { sequence = annotation.sequence(); }

    @Override
    public GenerationTiming getGenerationTiming() { return GenerationTiming.INSERT; }

    @Override
    public ValueGenerator<?> getValueGenerator() { return new BusinessIdGenerator(sequence); }

    @Override
    public boolean referenceColumnInSql() { return false; }

    @Override
    public String getDatabaseGeneratedReferencedColumnValue() { return null; }
}
```

BusinessIdGenerator 

```java
import org.hibernate.Session;
import org.hibernate.internal.SessionFactoryImpl;
import org.hibernate.jdbc.ReturningWork;
import org.hibernate.tuple.ValueGenerator;

import java.sql.PreparedStatement;
import java.sql.ResultSet;


public class BusinessIdGenerator implements ValueGenerator<Long> {

    String sequence;

    BusinessIdGenerator(String sequence) {
        this.sequence = sequence;
    }

    @Override
    public Long generateValue(Session session, Object owner) {
        SessionFactoryImpl sessionFactory = (SessionFactoryImpl) session.getSessionFactory();
        String sql = sessionFactory.getJdbcServices().getDialect().getSequenceNextValString(sequence);
        ReturningWork<Long> seq = connection -> {
            try (PreparedStatement preparedStatement = connection.prepareStatement(sql);
                 ResultSet resultSet = preparedStatement.executeQuery()) {
                resultSet.next();
                return resultSet.getLong(1);
            }
        };
        return sessionFactory.getCurrentSession().doReturningWork(seq);
    }
}
```

We need to add the sequence to the `import.sql` for the local development.

```sql
CREATE SEQUENCE IF NOT EXISTS seq_my_entity_bid;
```

#### [](#%5Fcustom%5Fin%5Fmemory%5Fgenerator)Custom in-Memory generator

```java
@GeneratorType(type = BidStringGenerator.class, when = GenerationTime.INSERT)
@Column(name = "CUSTOM")
String custom;
```

Follow the implementation of the custom generator `BidStringGenerator`.

```java
public class BidStringGenerator implements ValueGenerator<String> {

    @Override
    public String generateValue(Session session, Object owner) {
        MyEntity e = (MyEntity) owner;
        return e.name + "+" + UUID.randomUUID();
    }
}
```

### [](#%5Ftests)Tests

For the test we add following dependencies to our project

Test dependencies 

```xml
<dependencies>
    <!-- TEST -->
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-junit5</artifactId>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-junit5-mockito</artifactId>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>io.rest-assured</groupId>
        <artifactId>rest-assured</artifactId>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>org.tkit.quarkus.lib</groupId>
        <artifactId>tkit-quarkus-test-db-import</artifactId>
        <scope>test</scope>
    </dependency>
</dependencies>
```

| |  The Quarkus tests has support for the injection and mocking. This will work only for the Quarkus JVM tests and not for native image test or integration tests with a docker image. Try to avoid this in our tests to have much more reusable tests. In most cases, the mock service also fakes code to pass the test. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

For our test we will use this pattern for the test classes

* `<Name>RestControllerTest extends AbstractTest` \- the extended test for the common and unit test. For example: UserRestControllerTest
* `<Name>RestControllerTestIT extends <Name>RestControllerTest` \- the extended test for the integration test. For example: UserRestControllerTestIT

The 1000kit test extension `tkit-quarkus-test-db-import` does have support to import test data for the tests during the test execution. We will create our test data as `XML` data. Store the xml file in the `src/test/resources/data` directory under name `test-internal.xml`. The magic is in the `@WithDBData` annotation which could be used on the `Class` or `Method` level. Example of the xml test data file:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<dataset>
    <ROLE guid="r21" optlock="0" name="n1" />
    <ROLE guid="r22" optlock="0" name="n2" />
</dataset>
```

| |  Only the XML DbUnit FlatXmlDataSet format is supported. |
| ---------------------------------------------------------- |

Example of the `RoleRestControllerTest` class.

```java
@QuarkusTest
@TestHTTPEndpoint(RoleRestController.class)
@WithDBData(value = "data/test-internal.xml", deleteBeforeInsert = true, deleteAfterTest = true, rinseAndRepeat = true)
class RoleRestControllerTest extends AbstractTest {

    @Test
    void getRoleByIdTest() {

        // get role by ID
        var dto = given().contentType(APPLICATION_JSON).get("r12")
                .then().statusCode(OK.getStatusCode()).contentType(APPLICATION_JSON)
                .extract().body().as(RoleDTO.class);

        // validate role
        assertThat(dto).isNotNull();
        assertThat(dto.getName()).isEqualTo("n2");
        assertThat(dto.getId()).isEqualTo("r12");

        // not found
        given().contentType(APPLICATION_JSON).get("___").then().statusCode(NOT_FOUND.getStatusCode());
    }
}
```

Example of the role rest controller integration test.

```java
import io.quarkus.test.junit.QuarkusIntegrationTest;

@QuarkusIntegrationTest
class RoleRestControllerTestIT extends RoleRestControllerTest {

}
```

### [](#%5Fsecurity)Security

To enable scope security for backend services we need to add these Maven dependencies.

```xml
<dependencies>
    <dependency>
        <groupId>io.quarkus</groupId>
        <artifactId>quarkus-oidc</artifactId>
    </dependency>
    <dependency>
        <groupId>org.tkit.onecx.quarkus</groupId>
        <artifactId>onecx-security</artifactId>
    </dependency>
</dependencies>
```

The next step is to add the `OAuth` scopes to our OpenApi definition. In our example, we add the `read` scope to the `createRole` method.

Example openapi with scope 

```yaml
openapi: 3.0.3
info:
  title: example service
  version: 1.0.0
servers:
  - url: "http://onecx-example-svc:8080"
paths:
  /internal/roles:
    get:
      security:
        - oauth2: [read]
      operationId: createRole
      responses:
        201:
          description: "Role created"
components:
  securitySchemes:
    oauth2:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: https://oauth.simple.api/token
          scopes:
            read: Grants read access
```

Now we need to add the extension `org.tkit.onecx.quarkus:onecx-openapi-generator` which will generate the Quarkus annotation `@io.quarkus.security.PermissionsAllowed` for the security interceptor from our open API definition file. We add this extension as a dependency for the Maven plugin `org.openapitools:openapi-generator-maven-plugin`.

```xml
<plugin>
    <groupId>org.openapitools</groupId>
    <artifactId>openapi-generator-maven-plugin</artifactId>
    <configuration>
        <additionalProperties>onecx-scopes=true</additionalProperties>
        <!-- configuration -->
    </configuration>
    <executions><!-- executions --></executions>
    <dependencies>
        <dependency>
            <groupId>org.tkit.onecx.quarkus</groupId>
            <artifactId>onecx-openapi-generator</artifactId>
        </dependency>
    </dependencies>
</plugin>
```

To enable this extension, we also need to define additional properties `onecx-scopes=true`. Without this configuration, the generator uses the default Java source code template.

Now our generated source code contains the annotation `@io.quarkus.security.PermissionsAllowed({"read"})` to the generated method.

```java
public interface RoleInternalApi {

    @io.quarkus.security.PermissionsAllowed({ "read" })
    @GET
    @Consumes({ "application/json" })
    @Produces({ "application/json" })
    Response createRole();

}
```

The `org.tkit.onecx.quarkus:onecx-security` extension creates security audit data for the default Quarkus security extension during the build process. After enabling this extension, it is no longer possible to call this method without a token and with the scope `read`.

| |  To disable security setup following property tkit.security.auth.enabled=false. This property is part fo (tkit-quarkus-url)\[1000kit Quarkus extension\] |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#%5Fsecurity%5Ftests)Security tests

For testing we use Quarkus `Keycloak` dev services. To activate this feature add this maven dependency.

```xml
<dependency>
    <groupId>io.quarkus</groupId>
    <artifactId>quarkus-test-keycloak-server</artifactId>
    <scope>test</scope>
</dependency>
```

Quarkus will start and configure a `Keycloak` server for our tests but also in the dev mode by default. Now we can configure `user` and they `roles`. For example, we add role `role-admin` to user `alice` in our example

```properties
# Enabled security for all requests /* and exclude /q/* quarkus console
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated

# TEST
%test.quarkus.keycloak.devservices.roles.alice=role-admin
%test.quarkus.keycloak.devservices.roles.bob=role-user

# DEV
%dev.quarkus.keycloak.devservices.roles.alice=role-admin
%dev.quarkus.keycloak.devservices.roles.bob=role-user
```

| |  How to import the whole realm or configure additional user in to Keycloak dev services please check the [Quarkus documentation](https://quarkus.io/guides/) page. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Now we can use the `io.quarkus.test.keycloak.client.KeycloakTestClient` in our test.

Example test class 

```java
@QuarkusTest
@TestHTTPEndpoint(RoleRestController.class)
class RoleRestControllerTest {

    // create keycloak client instance connected to keycloak dev service container
    KeycloakTestClient keycloakClient = new KeycloakTestClient();

     @Test
    void oauthTest() {
         // get the access token of the user alice
        var token = keycloakClient.getAccessToken("alice");

        // call rest endpoint
        given().when()
                .auth().oauth2(token)
                .contentType(APPLICATION_JSON).get("1").then()
                .statusCode(Response.Status.OK.getStatusCode());

        // test without oauth token
        given().when().contentType(APPLICATION_JSON).get("1").then()
                .statusCode(Response.Status.UNAUTHORIZED.getStatusCode());
    }
}
```

### [](#%5Fmulti%5Ftenancy)Multi tenancy

For multi tenancy we will to use [onecx-quarkus-tenant](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/index.html) extension.

| |  For more information about the configuration please check the documentation page [onecx-quarkus-tenant](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/index.html) |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Multi tenancy maven dependencies 

```xml
<dependencies>
        <!-- ONECX -->
        <dependency>
            <groupId>org.tkit.onecx.quarkus</groupId>
            <artifactId>onecx-tenant</artifactId>
        </dependency>
        <!-- 1000kit -->
        <dependency>
            <groupId>org.tkit.quarkus.lib</groupId>
            <artifactId>tkit-quarkus-jpa</artifactId>
        </dependency>
</dependencies>
```

Now we need to configure our application

```properties
# hibernate multi-tenant configuration
quarkus.hibernate-orm.multitenant=DISCRIMINATOR

# enable or disable multi-tenancy support
tkit.rs.context.tenant-id.enabled=true
```

| |  Header configuration for the token, and token parsing is implemented in 1000kit [tkit-rest-context](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/index.html) quarkus extensions. Please check the documentation of the extension. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#%5Fmulti%5Ftenancy%5Ftests)Multi tenancy tests

For the test we can use mock settings where we can define which claim attribute of the token we will use: `%test.tkit.rs.context.tenant-id.mock.claim-org-id=orgId` and we must define mapping between token claim value and tenant ID `%test.tkit.rs.context.tenant-id.mock.data.<claim-value>=<tenant-id>`.

```properties
%test.tkit.rs.context.tenant-id.enabled=true
%test.tkit.rs.context.tenant-id.mock.enabled=true
%test.tkit.rs.context.tenant-id.mock.default-tenant=default
%test.tkit.rs.context.tenant-id.mock.claim-org-id=orgId
%test.tkit.rs.context.tenant-id.mock.data.org1=tenant-100
%test.tkit.rs.context.tenant-id.mock.data.org2=tenant-200
```

For the test we can create a simple help method which will creates a token for our tests

```java
@SuppressWarnings("java:S2187")
public class AbstractTest {

    // header ID of the principal token for tests
    protected static final String APM_HEADER_PARAM = "apm-principal-token";

    // token claim for tenant-id
    protected static final String CLAIMS_ORG_ID = ConfigProvider.getConfig()
            .getValue("%test.tkit.rs.context.tenant-id.mock.claim-org-id", String.class);

   /**
    * Method creates a principal token for test.
    * @param organizationId organization ID
    * @return the corresponding test
    */
    protected static String createToken(String organizationId) {
        try {
            String userName = "test-user";
            JsonObjectBuilder claims = Json.createObjectBuilder();
            claims.add(Claims.preferred_username.name(), userName);
            claims.add(Claims.sub.name(), userName);
            claims.add(CLAIMS_ORG_ID, organizationId);
            PrivateKey privateKey = KeyUtils.generateKeyPair(2048).getPrivate();
            return Jwt.claims(claims.build()).sign(privateKey);
        } catch (Exception ex) {
            throw new RuntimeException(ex);
        }
    }
}
```

In our test we can use `createToken` method to create a token

```java
@QuarkusTest
@TestHTTPEndpoint(ExampleRestController.class)
class ExampleRestControllerTenantTest extends AbstractTest {

    @Test
    void createNewThemeTest() {
        var dto = given()
                .when()
                .contentType(APPLICATION_JSON)
                .header(APM_HEADER_PARAM, createToken("org1"))
                .body(themeDto)
                .post()
                .then()
                .statusCode(CREATED.getStatusCode())
                .extract()
                .body().as(ExampleDTO.class);
    }
}
```

undefined
====================


Cancel timer
====================
Sometimes the business case requires that the set timer needs to be manually canceled so that the process can continue further. For this purpose, it is ideal to use an exclusive event-based gateway that enables work with events.

The process instance enters the gateway and waits there until one of the events behind the gateway is triggered. The decision about the path which will be taken is done by someone out of the process or by time event. Only one path can be triggered.

So there might be a positive path, when event `action received` occurs (i.e. received callback as expected). In this case the sequence flow 1 is taken and an activity to process item follows. Sometimes it can take longer to get the wished action to be done. A `timer event` can be used 3 to wait till the action is done or to set as a maximum time space for carrying out the action. Waiting for the action can be also interrupted earlier (cancelled) by other way of solving the situation (i.e. manually) outside the green path 2, so that the item can be processed further anyway.

Bpmn guide
====================
Let’s discover **BPMN process modelling** and how it works with **Camunda 8 platform**.

## [](#%5Fgetting%5Fstarted)Getting Started

Get started by learning BPMN and DMN to analyze, improve and automate processes with [the book Real-Life BPMN](https://page.camunda.com/wp-real-life-bpmn-book-excerpt).

Continue with [Camunda Platform 8 Best Practices](https://docs.camunda.io/docs/components/best-practices/best-practices-overview/).

## [](#%5Fnext%5Fsteps)Next steps

Learn how to design complex processes for microservice architecture in [the book Practical process automation](https://camunda.com/blog/2021/03/publishing-practical-process-automation/).

Messages
====================
Camunda 8 uses [message buffering](https://docs.camunda.io/docs/components/concepts/messages/#message-buffering), so the process instance doesn’t have to be ready to receive the message event at exactly the moment it occurs (use message attribute TTL - time to live instead of time events or retry workarounds). Buffered message is mapped to a process instance based on the correlation key. Here the best practices on creating of correlation key taken from ([book Practical process automation](https://camunda.com/blog/2021/03/publishing-practical-process-automation/)

* use UUID for correlation ID
* don’t use process instance ID
* avoid using business data that are not unique within the cluster

The correlation key have to be unique within the cluster to assure that the message is catched by the right process. The following situations show how the matching of message and process instance is done when the correlation key is the same.

## [](#%5Fidentify%5Fthe%5Fprocess%5Finstance%5Fwaiting%5Ffor%5Fthe%5Fresponse)Identify the process instance waiting for the response

### [](#%5Fseveral%5Finstances%5Fwithin%5Fa%5Fprocess)Several instances within a process

When several process instances within a one process are running and subscribe for a message, the message is correlated only once to one of them.

![Process with several instances](_images/msg_oneProcessManyInstances.svg) 

Other instances remain waiting (unless not handled in a process differently). See [process instance modification](https://docs.camunda.io/docs/components/concepts/process-instance-modification/) for possibilities to repair a running process instance.

### [](#%5Fprocesses%5Fwith%5Fdifferent%5Fbpmn%5Fids)Processes with different BPMN IDs

Processes with different BPMN Process IDs are independend different processes. By creation of multiple subscriptions with the same correlation key from different processes, a message is correlated within each process (once within one BPMN process ID) to only one process instance from all existing ones.

![Processes with different BPMN process IDs](_images/msg_differentProcesses.svg) 

### [](#%5Fprocesses%5Fwith%5Fthe%5Fsame%5Fbpmn%5Fid%5Fbut%5Fdifferent%5Fversions)Processes with the same BPMN ID but different versions

When a process is deployed, it receives a version number. After making changes to the process and re-deployment, the process version is increased, the BPMN Process ID remains the same as before. Instances can be created for any of these versions. There might be two process instances of the same process but with different versions created when:

* one version of a process is deployed and an instance is created
* the process was changed and deployed again
* the process with the same BPMN Process ID but different version is created
* an instance is created

![One BPMN process ID with several versions](_images/msg_oneProcessManyVersions.svg) 

A message is correlated only once to a process (once within one BPMN process ID), across all versions of this process. If multiple subscriptions for the same process are opened (by multiple process instances or within one instance), the message is correlated only to one of the subscriptions.

Open topics
====================
## [](#%5Fhandling%5Fissues)Handling issues

Business process model defines business reactions based on the business requirements. By using an error event, path for situations like invalid or missing data, special type of response can be defined.

Technical issues that might occur on service task level (service temporarily unavailable, job worker fails …​), are handled by Camunda using retries and incidents.

## [](#%5Fidempotent%5Fworkers)Idempotent workers

Request callback
====================
Let’s look at the typical pattern to integrate a communication with another system.

You might keep the process model independent of the fact if the notification service is synchronous or asynchronous and use a `service task` for sending a request. 1When the send and receive functionality is modeled in separate tasks/events, a correlation ID needs to be generated manually, message buffering is necessary and it is essential to think about idempotency.

See also comparison of [communication patterns](https://blog.bernd-ruecker.com/service-integration-patterns-with-bpmn-and-camunda-cloud-53b0f458e49) from Bernd Rücker.

undefined
====================


OneCX Generator
====================
With the OneCX generator, you can develop a new application. And in this generated application, a feature module, a search page and a details page can be added.

This generator does generate OpenAPI code for its corresponding UI. By using the generated OpenAPI code as a basis, you can develop your BFF (and SVC).

## [](#%5Fhow%5Fto%5Fuse%5Fthe%5Fgenerators)How to use the Generator(s)

To generate a full application you need to run several generators in a specific order, as some depend on others:

* OneCX App  
   * Feature Module  
         * Search Page  
                  * Create-Update Dialog  
                  * Delete Dialog  
         * Details Page  
         * Empty NGRX Page  
   * Pre Commit Validation

To get started, we recommend you to visit the following pages:

* [Check your prerequisites](getting%5Fstarted/prerequisites.html)
* [Create a new OneCX App](getting%5Fstarted/new-onecx-app.html)  
   * [Check for further actions](getting%5Fstarted/basic-onecx-app/further-actions.html)  
   * [Commit the changes](getting%5Fstarted/basic-onecx-app/commit-changes.html)
* [Create a feature module](getting%5Fstarted/feature-module.html)  
   * [Check for further actions](getting%5Fstarted/feature/further-actions.html)  
   * [Commit the changes](getting%5Fstarted/feature/commit-changes.html)
* [Create a search page](getting%5Fstarted/search-page.html)  
   * [Configure search criteria](getting%5Fstarted/search/configure-search-criteria.html)  
   * [Configure search results](getting%5Fstarted/search/configure-search-results.html)  
   * [Configure result diagram](getting%5Fstarted/search/configure-result-diagram.html)  
   * [Update header actions](getting%5Fstarted/search/update-header-actions.html)  
   * [Update permissions](getting%5Fstarted/search/update-permissions.html)  
   * [Check for further actions](getting%5Fstarted/search/further-actions.html)  
   * [Commit the changes](getting%5Fstarted/search/commit-changes.html)
* [Create create-update dialog](getting%5Fstarted/create-update-dialog.html)  
   * [Extend form fields](getting%5Fstarted/create-update/extend-form-fields.html)  
   * [Commit the changes](getting%5Fstarted/create-update/commit-changes.html)
* [Create delete dialog](getting%5Fstarted/delete-dialog.html)
* [Create details page](getting%5Fstarted/details-page.html)  
   * [Add core data to details page header](getting%5Fstarted/details/core-data.html)  
   * [Commit the changes](getting%5Fstarted/details/commit-changes.html)
* [Code Modification](getting%5Fstarted/code-modification.html)
* [Set up pre-commit-validation](further%5Fgenerators/pre-commit-validation.html)

undefined
====================
### [](#%5Fset%5Fup%5Fpre%5Fcommit%5Fvalidation)Set up pre-commit-validation

The fastest way to validate code changes for linting issues, conventional commits messages and potential secrets in the code is by using the OneCX generator. Some projects have their own generator based on the OneCX generator. It should be clarified before starting if this is the case for the project the app is generated for.

To run the generator, execute the following command:

nx generate <namespaceOfTheGenerator>/nx-plugin:pre-commit-validation

* _<namespaceOfTheGenerator>_: For the OneCX generator, use `@onecx`. For a project specific generator, ask for the namespace of the generators.

| |  Next, the CLI will ask if you want to enable validation checks with three questions: Lint-check, Conventional Commits message check and scanning for blacklisted words in the code. For each check, you can choose "yes" or "no". |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

If "yes" is selected, the CLI installs the necessary dependencies if not already present - husky (used for all checks), lint-staged for linting, commitlint for Conventional Commits check and detect-secrets for blacklist-scanning.

The blacklist file used for the blacklist scanning should be in the users home directory (`~/blacklist.txt`).

The required configuration files for the enabled validation checks will be generated and the enabled checks are automatically performed before the changes can be committed.

undefined
====================
### [](#%5Fautomated%5Fcode%5Fmodification%5Fin%5Fyour%5Fapplication)Automated Code Modification in Your Application

#### [](#%5Foverview)Overview

During code generation and updates, the system may automatically modify existing files to insert new components, routes, or configurations. The `safeReplace` mechanism ensures these modifications are applied safely and provides feedback in case of any issues.

#### [](#%5Fhow%5Fit%5Fworks)How It Works

1. When a new feature is generated, existing files are scanned for known patterns.
2. If a matching pattern is found, it is updated with the new content.
3. If an issue occurs (e.g., pattern not found), the system:  
   * Leaves a comment in the affected file describing the issue.  
   * Logs the error for developers to manually resolve.

#### [](#%5Fwhat%5Fthis%5Fmeans%5Ffor%5Fyou)What This Means for You

* You might notice auto-generated comments in certain files indicating that a modification attempt was unsuccessful.
* These comments will contain specific instructions for resolving the issue manually.
* If everything works as expected, you won’t see any errors, and your application will seamlessly integrate new features.

#### [](#%5Fexample%5Fof%5Fan%5Ferror%5Fmessage)Example of an Error Message

If a replacement fails, you may find a comment like this in your code:

```typescript
// Generator Failure occurred!
// The goal of the generation was to: Add new feature X
//
// The following replacements failed:
// Could not find the pattern: routes: Routes = [. Attempted to replace with: routes: Routes = [ { path: 'details/:id', component: ${className}DetailsComponent, pathMatch: 'full' },
//
// Please perform the replacements manually.
```

#### [](#%5Fwhat%5Fto%5Fdo%5Fif%5Fyou%5Fsee%5Fthis)What to Do If You See This

1. Open the affected file.
2. Follow the instructions in the comment to manually apply the required change.
3. If unsure, consult the development team or refer to the feature documentation.

undefined
====================
### [](#%5Fcreate%5Fcreateupdate%5Fdialogs)Create Create/Update Dialogs

The fastest way to create a create and update dialogs in a feature module is to use the OneCX generator. Some projects have their own generator based on the OneCX generator. It should be clarified before starting if this is the case for the project the app is generated for.

To run the generator, execute the following command:

nx generate <namespaceOfTheGenerator>/nx-plugin:create-update <feature>

* _<namespaceOfTheGenerator>_: For the OneCX generator, use `@onecx`. For a project specific generator, ask for the namespace of the generators.
* _<feature>_: see [here](glossary.html#feature).

| |  Next, the CLI will ask you whether you want to customize names for the generation. When answering yes, the next few questions will ask you about names for the API. This can be useful if you want to adapt to a legacy API. When modifying names, assure that you use the same custom names for all generated components of the feature (search, details, create-update, delete) for the data object name, and the api service name as these ones are shared. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

After running the generator, the following actions must be taken:

1. [Extend schema and form fields](create-update/extend-form-fields.html)
2. [Commit the changes](create-update/commit-changes.html)

| |  To modify the behavior of the dialogs, please refer to [PortalDialogService docs](#latest@guides:angular:cookbook/service/portal-dialog-service/index.adoc). |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
### [](#%5Fcreate%5Fdelete%5Fdialog)Create Delete Dialog

The fastest way to create a delete dialog in a feature module is to use the OneCX generator. Some projects have their own generator based on the OneCX generator. It should be clarified before starting if this is the case for the project the app is generated for.

To run the generator, execute the following command:

nx generate <namespaceOfTheGenerator>/nx-plugin:delete <feature>

* _<namespaceOfTheGenerator>_: For the OneCX generator, use `@onecx`. For a project specific generator, ask for the namespace of the generators.
* _<feature>_: see [here](glossary.html#feature).

| |  Next, the CLI will ask you whether you want to customize names for the generation. When answering yes, the next few questions will ask you about names for the API. This can be useful if you want to adapt to a legacy API. When modifying names, assure that you use the same custom names for all generated components of the feature (search, details, create-update, delete) for the data object name, and the api service name as these ones are shared. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

1. [Commit the changes](delete/commit-changes.html)

| |  To modify the behavior of the dialogs, please refer to [PortalDialogService docs](#latest@guides:angular:cookbook/service/portal-dialog-service/index.adoc). |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
### [](#%5Fcreate%5Fa%5Fdetails%5Fpage)Create a details page

The fastest way to create a new details page in a feature module is to use the OneCX generator. Some projects have their own generator based on the OneCX generator. It should be clarified before starting if this is the case for the project the app is generated for.

To run the generator, execute the following command:

nx generate <namespaceOfTheGenerator>/nx-plugin:details <feature>

* _<namespaceOfTheGenerator>_: For the OneCX generator, use `@onecx`. For a project specific generator, ask for the namespace of the generators.
* _<feature>_: see [here](glossary.html#feature).

| |  Next, the CLI will ask you whether you want to customize names for the generation. When answering yes, the next few questions will ask you about names for the API. This can be useful if you want to adapt to a legacy API. When modifying names, assure that you use the same custom names for all generated components of the feature (search, details, create-update, delete) for the data object name, and the api service name as these ones are shared. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

**Options**:

* \--editMode: if you want to generate an edit mode, see
* \--allowDelete: if you want to generate a delete button in the page header

### [](#edit-mode)Edit Mode

When running the generator you can decide whether to have an editMode generated. The editMode consists of a new action in the details page header: "Edit". Once clicked the page will go into editMode, enabling a form (default content) and showing two buttons instead of "Edit": "Cancel" and "Save". If the form is dirty, cancel will ask for approval before resetting. Save will submit a request to the generated Update Endpoint with the form values as request content, adapt where necessary. It will handle errors and success (switch editMode accordingly).

### [](#allow-delete)Allow Delete

If you decide to allow delete, a new delete action will be added to the details page. Once clicked it will ask for confirmation and then beform a delete request on approval. If successfull it will redirect to the parent / search page, else show an error and stay.

After running the generator, the following actions must be taken:

1. [Add core data to details page header](details/core-data.html)
2. [Extend form fields (for Edit Mode) ](#getting%5Fstarted/details/extend-form-fields.adoc)
3. [Commit the changes](details/commit-changes.html)

undefined
====================
### [](#%5Fcreate%5Fa%5Ffeature%5Fmodule)Create a feature module

The fastest way to create a new feature module that works with OneCX you can use the OneCX generator. Some projects have their own generator based on the OneCX generator. It should be clarified before starting if this is the case for the project the app is generated for.

To run the generator, execute the following command:

nx generate <namespaceOfTheGenerator>/nx-plugin:feature <feature>

* _<namespaceOfTheGenerator>_: For the OneCX generator, use `@onecx`. For a project specific generator, ask for the namespace of the generators.
* _<feature>_: see [here](glossary.html#feature).

After running the generator, the following actions must be taken:

1. [Check for further actions](feature/further-actions.html)
2. [Commit the changes](feature/commit-changes.html)

undefined
====================
## [](#%5Fglossary)Glossary

In this page you can find explanations for relevant terms.

### [](#feature)Feature

Should be replaced by the name of your entity, for which you are generating the search or details page, create/update dialog or any other functionality.

Examples for `<feature>`:

* property
* user
* house

When it is defined as `<Feature>`, please start the name of your entity with a capital letter, in other cases defined as `<feature>` use lowercase.

### [](#resource)Resource / Data Object

The resource / data object is a schema definition in the OpenAPI specification. It defines the properties of your entity and is named equal to [<Feature> ](#feature). The resource is used in various places, e.g. for search results, details view, create and update requests. As it is shared, be cautious while making changes to it. If the resource differs for different use cases, you can define multiple resources in the OpenAPI specification and adjust the endpoints accordingly.

Example Resource (in the OpenAPI specification)

```yaml
components:
  schemas:
    MyResource:
      type: object
      required:
        - id
      properties:
        modificationCount:
          type: integer
          format: int32
        id:
          type: string
        name:
          type: string
```

undefined
====================
### [](#%5Fcreate%5Fa%5Fnew%5Fonecx%5Fapp)Create a new OneCX app

The fastest way to create a new OneCX app is to use the OneCX generator. Some projects have their own generator based on the OneCX generator. It should be clarified before starting if this is the case for the project the app is generated for.

The generator supports three flavors of projects: angular, with and without NgRx. It is **recommended to use the NgRx flavor** because it leads to better structured projects and currently the support in the generator is better for the NgRx flavor.

To run the generator, execute the following commands:

npx <namespaceOfTheGenerator>/create-workspace <flavor> <nameOfTheProduct>
npm install

* _<namespaceOfTheGenerator>_: For the OneCX generator, use `@onecx`. For a project specific generator, ask for the namespace of the generators.
* _<flavor>_: `ngrx` (or `angular`).
* _<nameOfTheProduct>_: The name of the product to create e.g., `theme-mgmt`.

After running the generator take the following actions:

1. [Check for further actions](basic-onecx-app/further-actions.html)
2. [Commit the changes](basic-onecx-app/commit-changes.html)

Next you might want to generate a feature as this is a preqrequisite to generate a search / details page and more.

undefined
====================
### [](#%5Fcheck%5Fyour%5Ftechnical%5Fsetup)Check your technical setup

| |  Check your npm version and please update if necessary Your npm version should be >= 10.2.4 |
| --------------------------------------------------------------------------------------------- |

npm --version

| |  Check your node version and please update if necessary Your node version should be 20.11.0 |
| --------------------------------------------------------------------------------------------- |

node  --version

| |  Check your nx version and please update if necessary Nx version should be Local: v19.6.4 Global: v20.0.6 |
| ----------------------------------------------------------------------------------------------------------- |

nx  --version

| |  How to install the nx CLI npm install –global nx@latest If you face any issues, try the following steps: rm -rf node\_modules npm cache verify npm install -g @nrwl/cli npm install |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
### [](#%5Fcreate%5Fa%5Fsearch%5Fpage)Create a search page

The fastest way to create a new search page in a feature module is to use the OneCX generator. Some projects have their own generator based on the OneCX generator. It should be clarified before starting if this is the case for the project the app is generated for.

To run the generator, execute the following command:

nx generate <namespaceOfTheGenerator>/nx-plugin:search <feature>

* _<namespaceOfTheGenerator>_: For the OneCX generator, use `@onecx`. For a project specific generator, ask for the namespace of the generators.
* _<feature>_: see [here](glossary.html#feature).

| |  Next, the CLI will ask you whether you want to customize names for the generation. When answering yes, the next few questions will ask you about names for the API. This can be useful if you want to adapt to a legacy API. When modifying names, assure that you use the same custom names for all generated components of the feature (search, details, create-update, delete) for the resource name, and the api service name as these are shared. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

After running the generator, the following actions must be taken:

1. [Configure search criteria](search/configure-search-criteria.html)
2. [Configure search results](search/configure-search-results.html)
3. [Configure result diagram](search/configure-result-diagram.html)
4. [Update Header Actions](search/update-header-actions.html)
5. [Update permissions](search/update-permissions.html)
6. [Check for further actions](search/further-actions.html)
7. [Commit the changes](search/commit-changes.html)

**Extension Marker in Search Page Spec File**

We use the marker:

<<SPEC-EXTENSIONS-MARKER-!!!-DO-NOT-REMOVE-!!!>>

This marker is used as a placeholder for future extensions by newly generated components. Do not remove the marker from the code, as doing so will prevent these future generated functions and tests from being added to the Search Page Spec File.

undefined
====================
### [](#%5Fcreate%5Fan%5Fempty%5Fngrx%5Fpage)Create an empty NGRX-Page

The fastest way to create an empty ngrx-page is to use the OneCX generator. Some projects have their own generator based on the OneCX generator. It should be clarified before starting if this is the case for the project the app is generated for.

To run the generator, execute the following command:

nx generate <namespaceOfTheGenerator>/nx-plugin:ngrx-page <feature>

**Placeholder**:

* _<namespaceOfTheGenerator>_: For the OneCX generator use @onecx. For a project specific generator, ask for the namespace of the generators.
* _<feature>_: see [here](../../getting%5Fstarted/glossary.html#feature).

| |  Next, the CLI will ask you for the name of your page. Use a name without spaces and the "Component"-suffix, as this suffix will be added automatically. So if you want to create a BookDetailsComponent, only put in "BookDetails". |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

After running the generator, you can modify all files to your needs.

undefined
====================
### [](#%5Fcommit%5Fyour%5Fchanges)Commit your changes

| |  Build & test your application Please run the following commands to make sure that the application builds and that the tests are running: npm run build npm run test |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  Commit your changes Please commit your changes with the following commit message if the build and the tests passed: feat: basic OneCX application added for <nameOfTheProduct> Please replace _nameOfTheProduct_ with the real name of your product. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

To ensure clarity and consistency, please follow the naming schema for commit messages. For further details and guidelines, please refer to [Conventional Commits](https://www.conventionalcommits.org).

undefined
====================
### [](#%5Fcheck%5Ffor%5Ffurther%5Factions)Check for further ACTIONS

Please check if the string 'ACTION' is present in any of the files within the output folder, and if it is, follow the instructions described therein.

undefined
====================
### [](#%5Fcommit%5Fyour%5Fchanges)Commit your changes

| |  Build & test & run your application Please run the following commands to make sure that the application builds, that the tests are running and that the application starts: npm run build npm run test npm start |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  Run your application on another port if needed (4211 is an example) nx serve --port=4211 |
| ------------------------------------------------------------------------------------------- |

| |  After the Application is started, make sure: new button to create an object is created on the search page header and it opens the create dialog. items in the data view have an edit icon that opens the update dialog. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  Commit your changes Please commit your changes with the following commit message if the build and the tests passed: feat: create-update added for <nameOfTheProduct> Please replace _nameOfTheProduct_ with the real name of your product. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

To ensure clarity and consistency, please follow the naming schema for commit messages. For further details and guidelines, please refer to [Conventional Commits](https://www.conventionalcommits.org).

undefined
====================
## [](#%5Fcustomize%5Fform%5Ffields)Customize form fields

The form fields of the dialog need to be adapted

### [](#action-1)ACTION C1: Extend schemas inside OpenAPI

_Adapt in File:_ `<feature>-bff.yaml`

The generator creates **4 new components** in the OpenAPI specification for Create/Update Request & Response.

| |  The Request objects are referencing the [Resource](../glossary.html#resource), its properties are used by the form. You can modify it, but check [here](../glossary.html#resource) for side effects. Changes to the response object itself require modification in the response handling. By default other response properties (apart from resource) are ignored. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  Run the command **npm run apigen** after adapting the OpenAPI to transform the changes into typescript code. |
| --------------------------------------------------------------------------------------------------------------- |

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

### [](#action-2)ACTION C2: Add form fields to html component

_Adapt in File:_ `<feature>-create-update.component.html`

Add new form fields similar to the generated example. Please, ensure that form control names match the [Resource](../glossary.html#resource) properties.

Example resource

```yaml
Example:
type: object
required:
    - id
properties:
    modificationCount:
        type: integer
        format: int32
    id:
        type: string
    name:
        type: string
```

Example form field

```html
<div [title]="'EXAMPLE_CREATE_UPDATE.FORM.NAME' | translate">
    <span class="p-float-label" controlErrorAnchor>
    <input
        pInputText
        type="text"
        id="example_detail_form_name"
        class="w-full pt-3 pb-2"
        formControlName="name"
    />
    <label class="ocx-required-label" for="example_detail_form_name">
        {{ 'EXAMPLE_CREATE_UPDATE.FORM.NAME' | translate }}</label
    >
    </span>
</div>
```

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

### [](#action-3)ACTION C3: Add form fields to ts component

_Adapt in File:_ `<feature>-create-update.component.ts`

Add new form controls to the formGroup. Please, ensure that form control names match the properties of your [Resource](../glossary.html#resource).

Use appropriate validators if required.

Example resource

```yaml
Example:
type: object
required:
    - id
properties:
    modificationCount:
        type: integer
        format: int32
    id:
        type: string
    name:
        type: string
```

Example form control

```js
this.formGroup = new FormGroup({
    name: new FormControl(null, [Validators.maxLength(255)]),
    ...
});
```

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

| |  To configure the dialog or modify its contents, please refer to the [PortalDialogService docs](#latest@guides:angular:cookbook/service/portal-dialog-service/index.adoc). |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
### [](#%5Fcommit%5Fyour%5Fchanges)Commit your changes

| |  Build & test & run your application Please run the following commands to make sure that the application builds, that the tests are running and that the application starts: npm run build npm run test npm start |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  Run your application on another port if needed (4211 is an example) nx serve --port=4211 |
| ------------------------------------------------------------------------------------------- |

| |  After the Application is started, make sure: items in the data view have an delete icon that opens the delete dialog. |
| ------------------------------------------------------------------------------------------------------------------------ |

| |  Commit your changes Please commit your changes with the following commit message if the build and the tests passed: feat: delete added for <nameOfTheProduct> Please replace _nameOfTheProduct_ with the real name of your product. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

To ensure clarity and consistency, please follow the naming schema for commit messages. For further details and guidelines, please refer to [Conventional Commits](https://www.conventionalcommits.org).

undefined
====================
### [](#%5Fcommit%5Fyour%5Fchanges)Commit your changes

| |  Build & test & run your application Please run the following commands to make sure that the application builds, that the tests are running and that the application starts: npm run build npm run test npm start |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  Run your application on another port if needed (4211 is an example) nx serve --port=4211 |
| ------------------------------------------------------------------------------------------- |

| |  Commit your changes Please commit your changes with the following commit message if the build and the tests passed: feat: details added for <nameOfTheProduct> Please replace _nameOfTheProduct_ with the real name of your product. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

To ensure clarity and consistency, please follow the naming schema for commit messages. For further details and guidelines, please refer to [Conventional Commits](https://www.conventionalcommits.org).

undefined
====================
## [](#%5Fadd%5Fcore%5Fdata%5Fto%5Fthe%5Fdetails%5Fpage%5Fheader)Add core data to the details page header

On the details page you can display data in the the header and below there is a content pane. You can customize the content pane as needed.

The details page will reuse the created [Resource](../glossary.html#resource). If the search-result object differs from the details object, you can **define a separate [<Feature>Details](../glossary.html#feature) object in** the **OpenAPI** specification and modify the endpoints accordingly (get, put, delete). You also need to modify the used [Resource](../glossary.html#resource) in the state, viewmodel, etc. to use it.

Similar to the create-update generation, you can **adapt the schema for update requests**, see [Extend form fields](../create-update/extend-form-fields.html).

### [](#action-1)ACTION D1: Define values to be shown in the header

_Adapt in File:_ `<feature>-details.component.ts`

The details page will display a page header with a title and subtitle. To customize, you can modify the `headerLabels$` property.

Example extended header items

```javascript
  headerLabels$: Observable<ObjectDetailItem[]> = this.viewModel$.pipe(
    map((vm) => {
      const labels: ObjectDetailItem[] = [
        //ACTION D1: Add header values here
        {
          label: 'HOUSE_DETAILS.FORM.CITY',
          labelPipe: TranslatePipe,
          value: vm.details?.address?.city,
        },
      ];
      return labels;
    })
  );
```

You can also add additional actions to the header using the `headerActions$` property.

Check the [PageHeader Component](#latest@guides:angular:cookbook/components/page-header/index.adoc) for more information.

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

undefined
====================
### [](#%5Fcheck%5Ffor%5Ffurther%5Factions)Check for further ACTIONS

Please check if the string 'ACTION' is present in any of the files within the output folder, and if it is, follow the instructions described therein.

undefined
====================
### [](#%5Fcommit%5Fyour%5Fchanges)Commit your changes

| |  Build & test your application Please run the following commands to make sure that the application builds and that the tests are running: npm run build npm run test |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  Commit your changes Please commit your changes with the following commit message if the build and the tests passed: feat: feature added for <nameOfTheProduct> Please replace _nameOfTheProduct_ with the real name of your product. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

To ensure clarity and consistency, please follow the naming schema for commit messages. For further details and guidelines, please refer to [Conventional Commits](https://www.conventionalcommits.org).

undefined
====================
### [](#%5Fcheck%5Ffor%5Ffurther%5Factions)Check for further ACTIONS

Please check if the string 'ACTION' is present in any of the files within the output folder, and if it is, follow the instructions described therein.

undefined
====================
### [](#%5Fcommit%5Fyour%5Fchanges)Commit your changes

| |  Build & test & run your application Please run the following commands to make sure that the application builds, that the tests are running and that the application starts: npm run build npm run test npm start |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  Run your application on another port if needed (4211 is an example) nx serve --port=4211 |
| ------------------------------------------------------------------------------------------- |

| |  Commit your changes Please commit your changes with the following commit message if the build and the tests passed: feat: search added for <nameOfTheProduct> Please replace _nameOfTheProduct_ with the real name of your product. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

To ensure clarity and consistency, please follow the naming schema for commit messages. For further details and guidelines, please refer to [Conventional Commits](https://www.conventionalcommits.org).

undefined
====================
## [](#%5Fconfigure%5Fthe%5Fresult%5Fdiagram)Configure the result diagram

By default, a diagram is created which counts the different values in a column and shows the results. To use this diagram, the column which should be displayed needs to be selected first. The member 'columnId' holds the column id of the column to display.

### [](#action-9)ACTION S9: Select the column to be displayed

The `columnId` is the key of the column to use for the result diagram. You can select any column you defined in the search results.

_Adapt in File:_ `<feature>-search.component.ts`

```javascript
    // Please select the column to be displayed
    columnId = 'id';
    column = this.columns.find((e) => e.id === this.columnId);
```

Please refer to the [GroupByCountDiagram Component](#latest@guides:angular:cookbook/components/group-by-count-diagram/index.adoc) for more adaptations.

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

undefined
====================
## [](#%5Fconfigure%5Fthe%5Fsearch%5Fcriteria%5Fand%5Fparameters)Configure the search criteria and parameters

After generating the search page, you can add filter criteria. These criteria must be defined in the BFF’s OpenAPI spec and represented in TypeScript for use in the UI. Users enter criteria via HTML input fields placed at the top of the page.

### [](#action-1)ACTION S1: Add additional properties to search request schema

The `Search<FeatureName>Request` component in the OpenAPI yaml must be adapted.

You should have a [Search<Feature>Request](../glossary.html#feature) defined in the OpenAPI specification. By modifying the [Search<Feature>Request](../glossary.html#feature), you can add additional parameters to your search request.

_Adapt in File:_ `<feature>-bff.yaml`

Example:

```yml
Search<Feature>Request:
      type: object
      properties:
        pageNumber:
          type: integer
          format: int32
          default: 0
          description: 'The number of the page.'
        pageSize:
          type: integer
          format: int32
          default: 100
          maximum: 1000
          description: 'The size of the page.'
        id:
          type: string
        exampleProperty:
          type: string
```

Please refer to the [adding search criteria general cookbook](#latest@guides:angular:ngrx/cookbook/adding-search-criteria/general.adoc) for more information.

| |  Run the command **npm run apigen** after adapting the OpenAPI to transform the changes into typescript code. |
| --------------------------------------------------------------------------------------------------------------- |

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

### [](#action-2)ACTION S2: Search criteria representation in zod

The criteria you added in "Action S1" now have to be added to the [<feature>SearchCriteriasSchema](../glossary.html#feature). Assure the keys and types match the ones you defined in the OpenAPI specification.

Refer to the [adding search criteria parameters cookbook](#latest@guides:angular:ngrx/cookbook/adding-search-criteria/general.adoc#parameters) for more information.

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

### [](#action-3)ACTION S3: HTML input fields for search criteria

To make the search criteria visible and usable for the user, you need to add corresponding HTML input fields to the search component’s HTML file.

Please refer to the [adding search criteria html cookbook](#latest@guides:angular:ngrx/cookbook/adding-search-criteria/general.adoc#html) for more information.

#### [](#examples-for-different-input-fields)Examples for different input fields

Depending on what kind of input fields you want to add, the implementation differs. You can add different types of input fields, like `Text`, `Calendar`, `Dropdown`, `MultiSelect`, `AutoComplete`. Refer to the [adding search criteria examples for different input fields cookbook](#latest@guides:angular:ngrx/cookbook/adding-search-criteria/general.adoc#examples-for-different-input-fields).

### [](#action-4)ACTION S4: Add translations

_Adapt in File:_ `de.json` / `en.json`

Please ensure that all input field labels have the necessary translations added.

Example

```json
  {
    "EXAMPLE_FEATURE_SEARCH.CRITERIA.ID": "Example input field label"
  }
```

Translations are needed for your input fields, additional labels or dropdown values.

Refer to the [Multi-Language Cookbook](#latest@guides:angular:cookbook/multi-language/multi-language.adoc) for more information.

---

Now you can continue with the next section [Configure search results](configure-search-results.html)

undefined
====================
## [](#%5Fconfigure%5Fthe%5Fsearch%5Fresults)Configure the search results.

To configure the search results, the following actions must be taken.

### [](#action-5)ACTION S5: Add additional properties to entity schema

Here you can add additional properties which you e.g., need for your `<SearchFeatureResponse>`.

To understand the applied API Concept read the [API Guidelines](#latest@guides:general/api%5Fguidelines.adoc) first.

Note that:

* If you have chosen a custom resource name in the generation, the schema entry will be named accordingly
* All data displayed in the results must be in that data structure
* Stick to necessary properties only to keep the payload small

_Adapt in File:_ `<feature>-bff.yaml`

Example:

```yml
  <Feature>:
        type: object
        required:
          - 'modificationCount'
          - 'id'
        properties:
          modificationCount:
            type: integer
            format: int32
          id:
            type: integer
            format: int64
          houseType:
            type: string
```

Where `houseType` is an additional property added to the schema of the entity `<Feature>`.

| |  Run the command **npm run apigen** after adapting the OpenAPI to transform the changes into typescript code. |
| --------------------------------------------------------------------------------------------------------------- |

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

### [](#action-6)ACTION S6: Column configuration

The next step is to configure the columns of the search results table. Here you can define which properties of your entity should be displayed in the results table, as well as their characteristics (e.g., if they are sortable or filterable).

_Adapt in File:_ `<feature>-search.columns.ts`.Example:

```javascript
  export const FeatureSearchColumns: DataTableColumn[] = [
      {
        columnType: ColumnType.TRANSLATION_KEY,
        id: 'houseType',
        nameKey: 'FEATURE_SEARCH.COLUMNS.HOUSETYPE',
        filterable: true,
        sortable: true,
        predefinedGroupKeys: [
          'FEATURE_SEARCH.PREDEFINED_GROUP.DEFAULT',
          'FEATURE_SEARCH.PREDEFINED_GROUP.EXTENDED',
          'FEATURE_SEARCH.PREDEFINED_GROUP.FULL',
        ],
      },
      {
        columnType: ColumnType.STRING,
        id: 'city',
        nameKey: 'FEATURE_SEARCH.COLUMNS.CITY',
        filterable: true,
        sortable: true,
        predefinedGroupKeys: [
          'FEATURE_SEARCH.PREDEFINED_GROUP.EXTENDED',
          'FEATURE_SEARCH.PREDEFINED_GROUP.FULL',
        ],
      }
  ]
```

In this example, a column for the property `houseType` is added to the results table. The column is of type `TRANSLATION_KEY`, is filterable and sortable. Additionally, a column for the property `city` is added, which is of type `STRING`, filterable, sortable, and belongs to only two predefined groups.

A predefined group allows users to quickly switch between different sets of columns in the UI using a dropdown. By configuring the `predefinedGroupKeys`, you can define which columns belong to which groups. The key is at the same time the translation key for the group name.

Refer to the [DataTableColumn overview](#latest@guides:angular:cookbook/components/interactive-data-view/data-table-column.adoc) for more information.

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

### [](#action-7)ACTION S7: Mapping from Feature to Row Item

Here you can create a mapping of your [Resource](../glossary.html#resource) to the row item used in the data table. This is also the place to add translation keys for columns with the type `TRANSLATION_KEY`.

_Adapt in File:_ <feature>-search.selectors.ts

Example:

```javascript
  export const selectResults = createSelector(
    ExampleFeatureSearchSelectors.selectResults,
    (results): RowListGridData[] => {
      return results.map((item) => ({
        imagePath: '',
        ...item,
        houseType: item.houseType
          ? `FEATURE_SEARCH.RESULTS.HOUSETYPES.${item.houseType}`
          : '',
        city: item.address?.city,
      }));
    }
  );
```

This example shows how to map a property `houseType` to a translation key. If the value of `houseType` is `VILLA`, the resulting translation key will be `FEATURE_SEARCH.RESULTS.HOUSETYPE.VILLA`.

It also shows how to map a nested property `address.city` to a flat property `city` used in the data table.

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

### [](#action-8)ACTION S8: Add translations

_Adapt in File:_ `de.json` / `en.json`

Please ensure that all column headers and the values in columns with the type `TRANSLATION_KEY` have the necessary translations added. For our examples above, the following entries would be necessary:

```json
  {
    "FEATURE_SEARCH": {
      ...,
      "RESULTS": {
        "HOUSETYPE": "House Type",
        "HOUSETYPES": {
          "VILLA": "Villa",
          "TOWNHOUSE": "Townhouse",
          "APARTMENT": "Apartment",
        },
        "CITY": "City"
      }
    }
  }
```

Refer to the [Multi-Language Cookbook](#latest@guides:angular:cookbook/multi-language/multi-language.adoc) for more information.

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

undefined
====================
### [](#%5Fcheck%5Ffor%5Ffurther%5Factions)Check for further ACTIONS

Please check if the string 'ACTION' is present in any of the files within the output folder, and if it is, follow the instructions described therein.

undefined
====================
## [](#%5Fupdate%5Fthe%5Fheader%5Factions)Update the header actions

### [](#action-10)ACTION S10: Update header actions

_Adapt in File:_ `<feature>.component.ts`

The page header can be customized to your needs. See more details in the [Page Header Cookbook](#xref:latest@guides:angular:cookbook/components/page-header/index.adoc) and [Search Header Cookbook](#xref:latest@guides:angular:cookbook/components/search-header/index.adoc).

Example:

```javascript
const actions: Action[] = [
        ...
        {
          labelKey: 'FEATURE_SEARCH.HEADER_ACTIONS.MY_HEADER_ACTION',
          icon: PrimeIcons.SYNC,
          titleKey: 'FEATURE_SEARCH.HEADER_ACTIONS.MY_HEADER_ACTION',
          show: 'asOverflow',
          actionCallback: () => this.triggerMyHeaderAction(),
        },
      ];
```

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

undefined
====================
## [](#%5Fupdate%5Fpermissions)Update permissions

In order to restrict users with certain roles from performing certain actions, permissions need to be introduced. To configure the permissions, the following actions must be taken.

### [](#action-11)ACTION S11: Update permissions and roles

If you want to adapt the permissions, you must modify the `helm/values.yml` file.

Example values.yml after feature generation

```yml
...
permission:
    enabled: true
    spec:
        permissions:
            FEATURE:
                CREATE: Create feature
                EDIT: Edit feature
                DELETE: Delete feature
                SAVE: Update and save feature
                IMPORT: Import feature
                EXPORT: Export feature
                VIEW: View mode for feature
                SEARCH: Search feature
                BACK: Navigate back in details of feature
```

Refer to the [permissions cookbook](#latest@guides:angular:cookbook/permissions.adoc) for more information and instructions on how to import permissions.

| |  Remove the "ACTION" comment after working on this task |
| --------------------------------------------------------- |

One-CX Quarkus Extensions
====================
## [](#%5Finstallation)Installation

Include the following bom artifact into your pom or parent pom and then pick the components you need.

```xml
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>org.tkit.onecx.quarkus</groupId>
            <artifactId>onecx-quarkus-bom</artifactId>
            <version>2.0.0</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>
    </dependencies>
</dependencyManagement>
```

| |  Some component come with additional documentation and configuration - check the 'Documentation' link for particular section. |
| ------------------------------------------------------------------------------------------------------------------------------- |

## [](#%5Fcomponents)Components

Include the component in your project by including the corresponding dependency.

* [Onecx Core](onecx-core.html)
* [Onecx Permissions](onecx-permissions.html)
* [Onecx Tenant](onecx-tenant.html)
* [Onecx Parameters](onecx-parameters.html)
* [Onecx OpenApi Generator](onecx-openapi-generator.html)
* [Onecx Validator](onecx-validator.html)
* [Onecx Operator](onecx-operator.html)

undefined
====================
## [](#%5Fonecx%5Fcore)onecx-core

### [](#%5Finstallation)Installation

If you want to use this extension, you need to add the `org.tkit.onecx.quarkus:onecx-core` extension first to your build file.

For instance, with Maven, add the following dependency to your POM file:

```xml
<dependency>
    <groupId>org.tkit.onecx.quarkus</groupId>
    <artifactId>onecx-core</artifactId>
    <version>2.0.0</version>
</dependency>
```

undefined
====================
## [](#%5Fonecx%5Fopenapi%5Fgenerator)onecx-openapi-generator

### [](#%5Finstallation)Installation

```xml
<plugin>
    <groupId>org.openapitools</groupId>
    <artifactId>openapi-generator-maven-plugin</artifactId>
    <version>${openapitools.openapi-generator-maven-plugin.version}</version>
    <dependencies>
        <dependency>
            <groupId>org.tkit.onecx.quarkus</groupId>
            <artifactId>onecx-openapi-generator</artifactId>
            <version>2.0.0</version>
        </dependency>
    </dependencies>
</plugin>
```

### [](#%5Fconfiguration)Configuration

#### [](#%5Foauth2%5Fscopes)OAuth2 scopes

To enable the OpenAPI generator extension for OAuth2 scopes from the OpenAPI definition file, use the following additional property `onecx-scopes=true` in the maven plugin configuration.

```xml
<plugin>
    <groupId>org.openapitools</groupId>
    <artifactId>openapi-generator-maven-plugin</artifactId>
    <configuration>
        <!-- configuration -->
        <additionalProperties>onecx-scopes=true</additionalProperties>
        <configOptions>
            <!-- configuration options -->
        </configOptions>
    </configuration>
</plugin>
```

Define OAuth2 scopes in your openapi file.

```yaml
openapi: 3.0.3
info:
  title: example
  version: 1.0.0
servers:
  - url: "http://localhost:8080"
paths:
  /v1/themes:
    get:
      security:
        - oauth2: [ ocx-th:read ]
      operationId: getThemesInfo
      responses:
        200:
          description: OK
components:
  securitySchemes:
    oauth2:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: https://oauth.simple.api/token
          scopes:
            ocx-th:read: Grants read access
```

The generated Java source code contains the additional Quarkus annotation `io.quarkus.security.PermissionsAllowed` with the scope defined in the OpenAPI file.

```java
    @io.quarkus.security.PermissionsAllowed({ "ocx-th:read" })
    @GET
    @Produces({ "application/json" })
    Response getThemesInfo();
```

#### [](#%5Fpermissions)Permissions

To enable the OpenAPI generator extension for OneCX permissions from the OpenAPI definition file, use the following additional property `onecx-permissions=true` in the maven plugin configuration.

```xml
<plugin>
    <groupId>org.openapitools</groupId>
    <artifactId>openapi-generator-maven-plugin</artifactId>
    <configuration>
        <!-- configuration -->
        <additionalProperties>onecx-scopes=true</additionalProperties>
        <configOptions>
            <!-- configuration options -->
        </configOptions>
    </configuration>
</plugin>
```

Define Onecx permission in your openapi file as vendor extension.

```yaml
   x-onecx:
    permissions:
     themes:
      - read
```

Openapi example:

```yaml
openapi: 3.0.3
info:
  title: example
  version: 1.0.0
servers:
  - url: "http://localhost:8080"
paths:
 /themes:
  get:
   x-onecx:
    permissions:
     themes:
      - read
   operationId: getThemes
   responses:
    200:
     description: OK
```

The generated Java source code contains the additional Quarkus annotation `io.quarkus.security.PermissionsAllowed` with the scope defined in the OpenAPI file.

```java
    @io.quarkus.security.PermissionsAllowed({ "onecx:themes#read" })
    @GET
    @Produces({ "application/json" })
    Response getThemes();
```

#### [](#%5Fconstraints)Constraints

To enable the OpenAPI generator extension for OneCX validator from the OpenAPI definition file, use the following additional property `onecx-constraints=true` in the maven plugin configuration.

| |  This feature requires the extension [onecx-validator](onecx-validator.html) in the classpath |
| ----------------------------------------------------------------------------------------------- |

```xml
<plugin>
    <groupId>org.openapitools</groupId>
    <artifactId>openapi-generator-maven-plugin</artifactId>
    <configuration>
        <!-- configuration -->
        <additionalProperties>onecx-constraints=true</additionalProperties>
        <configOptions>
            <!-- configuration options -->
        </configOptions>
    </configuration>
</plugin>
```

Define Onecx constraints in your openapi file as vendor extension.

```yaml
   x-onecx:
    constraints:
     size:
        min: 10
        max: 100
        key: paramKey
```

Openapi example:

```yaml
openapi: 3.0.3
info:
  title: example
  version: 1.0.0
servers:
  - url: "http://localhost:8080"
paths:
 /themes:
  post:
   operationId: createThemes
   parameters:
     - in: header
       name: Content-Length
       required: true
       x-onecx:
         constraints:
           size:
             min: 10
             max: 100
             key: paramKey
   responses:
    200:
     description: OK
```

The generated Java source code contains the additional Quarkus annotation `org.tkit.onecx.quarkus.validator.constraints.Size` with the size constraints defined in the OpenAPI file.

```java
    @HeaderParam("Content-Length") @NotNull
    @org.tkit.onecx.quarkus.validator.constraints.Size(
            min = 10,
            max = 100,
            key = "paramKey")
```

undefined
====================
## [](#%5Fonecx%5Foperator)onecx-operator

### [](#%5Finstallation)Installation

If you want to use this extension, you need to add the `org.tkit.onecx.quarkus:onecx-operator` extension first to your build file.

For instance, with Maven, add the following dependency to your POM file:

```xml
<dependency>
    <groupId>org.tkit.onecx.quarkus</groupId>
    <artifactId>onecx-operator</artifactId>
    <version>2.0.0</version>
</dependency>
```

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                          | Type   | Default                  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ------------------------ |
| [onecx.operator.touched.annotation-at](#onecx-operator%5Fonecx-operator-touched-annotation-at) Annotation name to set if resource was touched at Environment variable: ONECX\_OPERATOR\_TOUCHED\_ANNOTATION\_AT | string | org.tkit.onecx.touchedAt |
| [onecx.operator.touched.annotation-by](#onecx-operator%5Fonecx-operator-touched-annotation-by) Annotation name to set if resource was touched by Environment variable: ONECX\_OPERATOR\_TOUCHED\_ANNOTATION\_BY | string | org.tkit.onecx.touchedBy |

undefined
====================
## [](#%5Fonecx%5Fparameters)onecx-parameters

## [](#%5Finstallation)Installation

If you want to use this extension, you need to add the `org.tkit.onecx.quarkus:onecx-parameters` extension first to your build file.

For instance, with Maven, add the following dependency to your POM file:

```xml
<dependency>
    <groupId>org.tkit.onecx.quarkus</groupId>
    <artifactId>onecx-parameters</artifactId>
    <version>2.0.0</version>
</dependency>
```

## [](#%5Fusage)Usage

### [](#%5Fparameter%5Fclient)Parameter client

Assuming you have `Parameters` running on localhost:8088 you should add the following properties to your application.properties and fill in the values for url.

```properties
onecx.parameters.service.client.url=http://localhost:8088/api
```

Once you have configured the properties, you can start using a Parameters-client.

```java
@ApplicationScoped
public class TestService {

    @Inject
    ParametersService parameters;

    public boolean isTest() {
        return parameters.getValue("key", String.class, "DEFAULT_VALUE");
    }
}
```

### [](#%5Fparameter)@Parameter

By using the `@Parameter` annotation there is a shortcut to inject value of the parameter.

```java
@ApplicationScoped
public class TestService {

    @Parameter(name = "param-name-1")
    Instance<Variant> param1;

    @Parameter(name = "param-name-2")
    Instance<String> param2;

    @Parameter(name = "param-name-3")
    Instance<MyCustomJsonModel> param3;

}
```

| |  @Parameter should only be used with the Instance<?> type. |
| ------------------------------------------------------------ |

### [](#%5Fhistory)History

By default, the client will send history of used parameters to the backend. History contains count of usage of the parameter in the interval configure by the `onecx.parameters.history.update-schedule` property.

### [](#%5Fcache)Cache

To avoid to many calls the client will use local cache for parameters. To disable the local cache you can use this property `onecx.parameters.cache.enabled`. The local cache is updated via the scheduler and schedule time is configurable with `onecx.parameters.cache.update-schedule` property.

You can update cache at start of the application `onecx.parameters.cache.update-at-start` and control if the application should not start if there is error to update cache at the start `onecx.parameters.cache.failed-at-start`.

### [](#%5Fmulti%5Ftenancy)Multi-tenancy

To disable or enable multi-tenancy you can use this property `onecx.parameters.tenant.enabled`. To resolve the tenant the [ApplicationContext](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-context.html) will be used.

For background job like cache update you need to implement `@org.tkit.onecx.quarkus.parameter.tenant.TenantResolver` and create ApplicationContext for each cache update.

### [](#%5Fmetrics)Metrics

Micrometer metrics are support by the client library. By default, there are

* parameter usage count `onecx_parameters_item_total`
* update parameters background job counter with response codes `onecx_parameters_update_total`
* send history background job counter with response codes `onecx_parameters_history_total`

### [](#%5Fvalue%5Fconfiguration%5Fpriority)Value configuration priority

You retrieve either the value from the…​

1. Backend parameter service.
2. Project application.properties See: [Quarkus configuration reference guide](https://quarkus.io/guides/config-reference)
3. Source code default value.

in this respective order.

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                                             | Type               | Default                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------ | ------------------------------- |
| [onecx.parameters.build.metrics.enabled](#onecx-parameters%5Fonecx-parameters-build-metrics-enabled) Whether a metrics is enabled in case the micrometer or micro-profile metrics extension is present. Environment variable: ONECX\_PARAMETERS\_BUILD\_METRICS\_ENABLED                                           | boolean            | true                            |
| [onecx.parameters.service.client.url](#onecx-parameters%5Fonecx-parameters-service-client-url) Parameters client URL configuration. This property is alias for rest-client generated configuration property quarkus.rest-client.onecx\_parameter.url Environment variable: ONECX\_PARAMETERS\_SERVICE\_CLIENT\_URL | string             | http://onecx-parameter-svc:8080 |
| [onecx.parameters.service.client.v1](#onecx-parameters%5Fonecx-parameters-service-client-v1) Parameters client version V1\. Client v1 is deprecated and will be removed at some point in the future. Environment variable: ONECX\_PARAMETERS\_SERVICE\_CLIENT\_V1                                                  | boolean            | false                           |
| [onecx.parameters.enabled](#onecx-parameters%5Fonecx-parameters-enabled) If set to true, the application will attempt to look up the configuration from Parameter service Environment variable: ONECX\_PARAMETERS\_ENABLED                                                                                         | boolean            | true                            |
| [onecx.parameters.throw-update-exception](#onecx-parameters%5Fonecx-parameters-throw-update-exception) Throw update exception when parameters are loaded from backend. Environment variable: ONECX\_PARAMETERS\_THROW\_UPDATE\_EXCEPTION                                                                           | boolean            | false                           |
| [onecx.parameters.cache.enabled](#onecx-parameters%5Fonecx-parameters-cache-enabled) Enable or disable client cache. Environment variable: ONECX\_PARAMETERS\_CACHE\_ENABLED                                                                                                                                       | boolean            | true                            |
| [onecx.parameters.cache.update-schedule](#onecx-parameters%5Fonecx-parameters-cache-update-schedule) Update parameter scheduler configuration in milliseconds. Environment variable: ONECX\_PARAMETERS\_CACHE\_UPDATE\_SCHEDULE                                                                                    | long               | 900000                          |
| [onecx.parameters.cache.update-at-start](#onecx-parameters%5Fonecx-parameters-cache-update-at-start) Pull parameters during start phase Environment variable: ONECX\_PARAMETERS\_CACHE\_UPDATE\_AT\_START                                                                                                          | boolean            | false                           |
| [onecx.parameters.cache.failed-at-start](#onecx-parameters%5Fonecx-parameters-cache-failed-at-start) Does not start the microservices if an error occurs while retrieving the parameters during the startup phase. Environment variable: ONECX\_PARAMETERS\_CACHE\_FAILED\_AT\_START                               | boolean            | false                           |
| [onecx.parameters.product-name](#onecx-parameters%5Fonecx-parameters-product-name) Product name. Environment variable: ONECX\_PARAMETERS\_PRODUCT\_NAME                                                                                                                                                            | string             | required                        |
| [onecx.parameters.application-id](#onecx-parameters%5Fonecx-parameters-application-id) Parameters application ID. Environment variable: ONECX\_PARAMETERS\_APPLICATION\_ID                                                                                                                                         | string             | ${quarkus.application.name}     |
| [onecx.parameters.instance-id](#onecx-parameters%5Fonecx-parameters-instance-id) Instance ID Environment variable: ONECX\_PARAMETERS\_INSTANCE\_ID                                                                                                                                                                 | string             |                                 |
| [onecx.parameters.history.enabled](#onecx-parameters%5Fonecx-parameters-history-enabled) If set to true, the application will send history information to the parameter management. Environment variable: ONECX\_PARAMETERS\_HISTORY\_ENABLED                                                                      | boolean            | true                            |
| [onecx.parameters.history.update-schedule](#onecx-parameters%5Fonecx-parameters-history-update-schedule) Update history scheduler configuration in milliseconds. Environment variable: ONECX\_PARAMETERS\_HISTORY\_UPDATE\_SCHEDULE                                                                                | long               | 900000                          |
| [onecx.parameters.items."parameters"](#onecx-parameters%5Fonecx-parameters-items-parameters) Parameters configuration Environment variable: ONECX\_PARAMETERS\_ITEMS\_\_PARAMETERS\_                                                                                                                               | Map<String,String> |                                 |
| [onecx.parameters.tenant.enabled](#onecx-parameters%5Fonecx-parameters-tenant-enabled) Enable or disable multi-tenancy. Environment variable: ONECX\_PARAMETERS\_TENANT\_ENABLED                                                                                                                                   | boolean            | true                            |

undefined
====================
## [](#%5Fonecx%5Fpermissions)onecx-permissions

### [](#%5Finstallation)Installation

If you want to use this extension, you need to add the `org.tkit.onecx.quarkus:onecx-permission` extension first to your build file.

For instance, with Maven, add the following dependency to your POM file:

```xml
<dependency>
    <groupId>org.tkit.onecx.quarkus</groupId>
    <artifactId>onecx-permission</artifactId>
    <version>2.0.0</version>
</dependency>
```

### [](#%5Fusage)Usage

1. First you need to add the maven dependency shown at the top
2. Then you can use @PermissionsAllowed annotation

```java
    @GET
    @Path("write")
    @PermissionsAllowed(value = "onecx:resource#action")
    public Response adminWrite() {
        return Response.ok("OK").build();
    }
```

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                                              | Type                                 | Default                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------ | --------------------------------------------------------- |
| [onecx.permissions.service.client.url](#onecx-permissions%5Fonecx-permissions-service-client-url) Tenant client URL configuration. This property is alias for rest-client generated configuration property quarkus.rest-client.onecx\_permission.url Environment variable: ONECX\_PERMISSIONS\_SERVICE\_CLIENT\_URL | string                               | http://onecx-permission-svc:8080                          |
| [onecx.permissions.enabled](#onecx-permissions%5Fonecx-permissions-enabled) Enable interface mapping Environment variable: ONECX\_PERMISSIONS\_ENABLED                                                                                                                                                              | boolean                              | true                                                      |
| [onecx.permissions.cache-enabled](#onecx-permissions%5Fonecx-permissions-cache-enabled) Enable interface mapping Environment variable: ONECX\_PERMISSIONS\_CACHE\_ENABLED                                                                                                                                           | boolean                              | true                                                      |
| [onecx.permissions.allow-all](#onecx-permissions%5Fonecx-permissions-allow-all) Allow all permissions Environment variable: ONECX\_PERMISSIONS\_ALLOW\_ALL                                                                                                                                                          | boolean                              | false                                                     |
| [onecx.permissions.product-name](#onecx-permissions%5Fonecx-permissions-product-name) Product name. Environment variable: ONECX\_PERMISSIONS\_PRODUCT\_NAME                                                                                                                                                         | string                               | required                                                  |
| [onecx.permissions.application-id](#onecx-permissions%5Fonecx-permissions-application-id) Permissions application ID. Environment variable: ONECX\_PERMISSIONS\_APPLICATION\_ID                                                                                                                                     | string                               | ${quarkus.application.name}                               |
| [onecx.permissions.name](#onecx-permissions%5Fonecx-permissions-name) Permissions prefix name. Environment variable: ONECX\_PERMISSIONS\_NAME                                                                                                                                                                       | string                               | onecx                                                     |
| [onecx.permissions.request-token-from-header-param](#onecx-permissions%5Fonecx-permissions-request-token-from-header-param) Permissions access token header parameter. Environment variable: ONECX\_PERMISSIONS\_REQUEST\_TOKEN\_FROM\_HEADER\_PARAM                                                                | string                               | Authorization                                             |
| [onecx.permissions.token-header-param](#onecx-permissions%5Fonecx-permissions-token-header-param) Permissions principal token header parameter. Environment variable: ONECX\_PERMISSIONS\_TOKEN\_HEADER\_PARAM                                                                                                      | string                               | ${tkit.rs.context.token.header-param:apm-principal-token} |
| [onecx.permissions.key-separator](#onecx-permissions%5Fonecx-permissions-key-separator) Permissions resource action separator. Environment variable: ONECX\_PERMISSIONS\_KEY\_SEPARATOR                                                                                                                             | string                               | #                                                         |
| [onecx.permissions.mock.enabled](#onecx-permissions%5Fonecx-permissions-mock-enabled) Enable or disable mock service Environment variable: ONECX\_PERMISSIONS\_MOCK\_ENABLED                                                                                                                                        | boolean                              | false                                                     |
| [onecx.permissions.mock.roles."roles"](#onecx-permissions%5Fonecx-permissions-mock-roles-roles) Mock data for role Map format : \[role\].\[permission\]=\[actions\] Environment variable: ONECX\_PERMISSIONS\_MOCK\_ROLES\_\_ROLES\_                                                                                | Map<String,Map<String,List<String>>> |                                                           |

undefined
====================
## [](#%5Fonecx%5Ftenant)onecx-tenant

Implementation of the \[tkit-quarkus-rest-context\](<https://github.com/1000kit/tkit-quarkus/blob/main/extensions/rest-context/>) tenant resolver service.

### [](#%5Finstallation)Installation

If you want to use this extension, you need to add the `org.tkit.onecx.quarkus:onecx-tenant` extension first to your build file.

For instance, with Maven, add the following dependency to your POM file:

```xml
<dependency>
    <groupId>org.tkit.onecx.quarkus</groupId>
    <artifactId>onecx-tenant</artifactId>
    <version>2.0.0</version>
</dependency>
```

### [](#%5Fusage)Usage

To activate multi-tenancy also for hibernate, add the following maven dependency to your project \[tkit-quarkus-jpa-tenant\](<https://github.com/1000kit/tkit-quarkus/tree/main/extensions/jpa-tenant>).

```xml
<dependency>
    <groupId>org.tkit.quarkus.lib</groupId>
    <artifactId>tkit-quarkus-jpa-tenant</artifactId>
</dependency>
```

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                      | Type    | Default                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ---------------------------- |
| [onecx.tenant.cache-enabled](#onecx-tenant%5Fonecx-tenant-cache-enabled) Enable or disable cache for the token Environment variable: ONECX\_TENANT\_CACHE\_ENABLED                                                                                                                          | boolean | true                         |
| [onecx.tenant.service.client.url](#onecx-tenant%5Fonecx-tenant-service-client-url) Tenant client URL configuration. This property is alias for rest-client generated configuration property quarkus.rest-client.onecx\_tenant.url Environment variable: ONECX\_TENANT\_SERVICE\_CLIENT\_URL | string  | http://onecx-tenant-svc:8080 |

undefined
====================
## [](#%5Fonecx%5Fvalidator)onecx-validator

### [](#%5Finstallation)Installation

If you want to use this extension, you need to add the `org.tkit.onecx.quarkus:onecx-validator` extension first to your build file.

For instance, with Maven, add the following dependency to your POM file:

```xml
<dependency>
    <groupId>org.tkit.onecx.quarkus</groupId>
    <artifactId>onecx-validator</artifactId>
    <version>2.0.0</version>
</dependency>
```

### [](#%5Fusage)Usage

#### [](#%5Fconstraints)Constraints

| |  Constraints are generated automatically from the open-api definition file. See [Constraints](onecx-openapi-generator.html#%5Fconstraints) |
| -------------------------------------------------------------------------------------------------------------------------------------------- |

##### [](#%5Fsize)@Size

`@org.tkit.onecx.quarkus.validator.constraints.Size` constraints annotation validate the numeric value between min and max attribute. Additional to these constraints contain parameter key which cloud be optionally mapped to the [onecx-parameters](onecx-parameters.html) backend service and this enables dynamic validation of the parameter.

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                                                                                         | Type               | Default                                             |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | --------------------------------------------------- |
| [onecx.validator.values.enabled](#onecx-validator%5Fonecx-validator-values-enabled) Whether parameter-svc is enabled in case the parameter extension is present. Environment variable: ONECX\_VALIDATOR\_VALUES\_ENABLED                                                                                                                                       | boolean            | true                                                |
| [onecx.validator.values.mapping."mapping"](#onecx-validator%5Fonecx-validator-values-mapping-mapping) Key to parameter-name mapping Environment variable: ONECX\_VALIDATOR\_VALUES\_MAPPING\_\_MAPPING\_                                                                                                                                                       | Map<String,String> |                                                     |
| [onecx.validator.size.template](#onecx-validator%5Fonecx-validator-size-template) Template for the constraint violations error message 6 parameters required: %1$s, %2$s, %3$s, %4$s, %5$d, %6$d %1$s = provider %2$s = key %3$s = parameter %4$s = message %5$d = min-size value %6$d = max-size value Environment variable: ONECX\_VALIDATOR\_SIZE\_TEMPLATE | string             | Parameter: %3$s Boundaries: %5$d Bytes - %6$d Bytes |

undefined
====================


undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                          | Type   | Default                  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ------------------------ |
| [onecx.operator.touched.annotation-at](#onecx-operator%5Fonecx-operator-touched-annotation-at) Annotation name to set if resource was touched at Environment variable: ONECX\_OPERATOR\_TOUCHED\_ANNOTATION\_AT | string | org.tkit.onecx.touchedAt |
| [onecx.operator.touched.annotation-by](#onecx-operator%5Fonecx-operator-touched-annotation-by) Annotation name to set if resource was touched by Environment variable: ONECX\_OPERATOR\_TOUCHED\_ANNOTATION\_BY | string | org.tkit.onecx.touchedBy |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                          | Type   | Default                  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ------------------------ |
| [onecx.operator.touched.annotation-at](#onecx-operator%5Fonecx-operator-touched-annotation-at) Annotation name to set if resource was touched at Environment variable: ONECX\_OPERATOR\_TOUCHED\_ANNOTATION\_AT | string | org.tkit.onecx.touchedAt |
| [onecx.operator.touched.annotation-by](#onecx-operator%5Fonecx-operator-touched-annotation-by) Annotation name to set if resource was touched by Environment variable: ONECX\_OPERATOR\_TOUCHED\_ANNOTATION\_BY | string | org.tkit.onecx.touchedBy |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                                             | Type               | Default                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------ | ------------------------------- |
| [onecx.parameters.build.metrics.enabled](#onecx-parameters%5Fonecx-parameters-build-metrics-enabled) Whether a metrics is enabled in case the micrometer or micro-profile metrics extension is present. Environment variable: ONECX\_PARAMETERS\_BUILD\_METRICS\_ENABLED                                           | boolean            | true                            |
| [onecx.parameters.service.client.url](#onecx-parameters%5Fonecx-parameters-service-client-url) Parameters client URL configuration. This property is alias for rest-client generated configuration property quarkus.rest-client.onecx\_parameter.url Environment variable: ONECX\_PARAMETERS\_SERVICE\_CLIENT\_URL | string             | http://onecx-parameter-svc:8080 |
| [onecx.parameters.service.client.v1](#onecx-parameters%5Fonecx-parameters-service-client-v1) Parameters client version V1\. Client v1 is deprecated and will be removed at some point in the future. Environment variable: ONECX\_PARAMETERS\_SERVICE\_CLIENT\_V1                                                  | boolean            | false                           |
| [onecx.parameters.enabled](#onecx-parameters%5Fonecx-parameters-enabled) If set to true, the application will attempt to look up the configuration from Parameter service Environment variable: ONECX\_PARAMETERS\_ENABLED                                                                                         | boolean            | true                            |
| [onecx.parameters.throw-update-exception](#onecx-parameters%5Fonecx-parameters-throw-update-exception) Throw update exception when parameters are loaded from backend. Environment variable: ONECX\_PARAMETERS\_THROW\_UPDATE\_EXCEPTION                                                                           | boolean            | false                           |
| [onecx.parameters.cache.enabled](#onecx-parameters%5Fonecx-parameters-cache-enabled) Enable or disable client cache. Environment variable: ONECX\_PARAMETERS\_CACHE\_ENABLED                                                                                                                                       | boolean            | true                            |
| [onecx.parameters.cache.update-schedule](#onecx-parameters%5Fonecx-parameters-cache-update-schedule) Update parameter scheduler configuration in milliseconds. Environment variable: ONECX\_PARAMETERS\_CACHE\_UPDATE\_SCHEDULE                                                                                    | long               | 900000                          |
| [onecx.parameters.cache.update-at-start](#onecx-parameters%5Fonecx-parameters-cache-update-at-start) Pull parameters during start phase Environment variable: ONECX\_PARAMETERS\_CACHE\_UPDATE\_AT\_START                                                                                                          | boolean            | false                           |
| [onecx.parameters.cache.failed-at-start](#onecx-parameters%5Fonecx-parameters-cache-failed-at-start) Does not start the microservices if an error occurs while retrieving the parameters during the startup phase. Environment variable: ONECX\_PARAMETERS\_CACHE\_FAILED\_AT\_START                               | boolean            | false                           |
| [onecx.parameters.product-name](#onecx-parameters%5Fonecx-parameters-product-name) Product name. Environment variable: ONECX\_PARAMETERS\_PRODUCT\_NAME                                                                                                                                                            | string             | required                        |
| [onecx.parameters.application-id](#onecx-parameters%5Fonecx-parameters-application-id) Parameters application ID. Environment variable: ONECX\_PARAMETERS\_APPLICATION\_ID                                                                                                                                         | string             | ${quarkus.application.name}     |
| [onecx.parameters.instance-id](#onecx-parameters%5Fonecx-parameters-instance-id) Instance ID Environment variable: ONECX\_PARAMETERS\_INSTANCE\_ID                                                                                                                                                                 | string             |                                 |
| [onecx.parameters.history.enabled](#onecx-parameters%5Fonecx-parameters-history-enabled) If set to true, the application will send history information to the parameter management. Environment variable: ONECX\_PARAMETERS\_HISTORY\_ENABLED                                                                      | boolean            | true                            |
| [onecx.parameters.history.update-schedule](#onecx-parameters%5Fonecx-parameters-history-update-schedule) Update history scheduler configuration in milliseconds. Environment variable: ONECX\_PARAMETERS\_HISTORY\_UPDATE\_SCHEDULE                                                                                | long               | 900000                          |
| [onecx.parameters.items."parameters"](#onecx-parameters%5Fonecx-parameters-items-parameters) Parameters configuration Environment variable: ONECX\_PARAMETERS\_ITEMS\_\_PARAMETERS\_                                                                                                                               | Map<String,String> |                                 |
| [onecx.parameters.tenant.enabled](#onecx-parameters%5Fonecx-parameters-tenant-enabled) Enable or disable multi-tenancy. Environment variable: ONECX\_PARAMETERS\_TENANT\_ENABLED                                                                                                                                   | boolean            | true                            |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                                             | Type               | Default                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------ | ------------------------------- |
| [onecx.parameters.build.metrics.enabled](#onecx-parameters%5Fonecx-parameters-build-metrics-enabled) Whether a metrics is enabled in case the micrometer or micro-profile metrics extension is present. Environment variable: ONECX\_PARAMETERS\_BUILD\_METRICS\_ENABLED                                           | boolean            | true                            |
| [onecx.parameters.service.client.url](#onecx-parameters%5Fonecx-parameters-service-client-url) Parameters client URL configuration. This property is alias for rest-client generated configuration property quarkus.rest-client.onecx\_parameter.url Environment variable: ONECX\_PARAMETERS\_SERVICE\_CLIENT\_URL | string             | http://onecx-parameter-svc:8080 |
| [onecx.parameters.service.client.v1](#onecx-parameters%5Fonecx-parameters-service-client-v1) Parameters client version V1\. Client v1 is deprecated and will be removed at some point in the future. Environment variable: ONECX\_PARAMETERS\_SERVICE\_CLIENT\_V1                                                  | boolean            | false                           |
| [onecx.parameters.enabled](#onecx-parameters%5Fonecx-parameters-enabled) If set to true, the application will attempt to look up the configuration from Parameter service Environment variable: ONECX\_PARAMETERS\_ENABLED                                                                                         | boolean            | true                            |
| [onecx.parameters.throw-update-exception](#onecx-parameters%5Fonecx-parameters-throw-update-exception) Throw update exception when parameters are loaded from backend. Environment variable: ONECX\_PARAMETERS\_THROW\_UPDATE\_EXCEPTION                                                                           | boolean            | false                           |
| [onecx.parameters.cache.enabled](#onecx-parameters%5Fonecx-parameters-cache-enabled) Enable or disable client cache. Environment variable: ONECX\_PARAMETERS\_CACHE\_ENABLED                                                                                                                                       | boolean            | true                            |
| [onecx.parameters.cache.update-schedule](#onecx-parameters%5Fonecx-parameters-cache-update-schedule) Update parameter scheduler configuration in milliseconds. Environment variable: ONECX\_PARAMETERS\_CACHE\_UPDATE\_SCHEDULE                                                                                    | long               | 900000                          |
| [onecx.parameters.cache.update-at-start](#onecx-parameters%5Fonecx-parameters-cache-update-at-start) Pull parameters during start phase Environment variable: ONECX\_PARAMETERS\_CACHE\_UPDATE\_AT\_START                                                                                                          | boolean            | false                           |
| [onecx.parameters.cache.failed-at-start](#onecx-parameters%5Fonecx-parameters-cache-failed-at-start) Does not start the microservices if an error occurs while retrieving the parameters during the startup phase. Environment variable: ONECX\_PARAMETERS\_CACHE\_FAILED\_AT\_START                               | boolean            | false                           |
| [onecx.parameters.product-name](#onecx-parameters%5Fonecx-parameters-product-name) Product name. Environment variable: ONECX\_PARAMETERS\_PRODUCT\_NAME                                                                                                                                                            | string             | required                        |
| [onecx.parameters.application-id](#onecx-parameters%5Fonecx-parameters-application-id) Parameters application ID. Environment variable: ONECX\_PARAMETERS\_APPLICATION\_ID                                                                                                                                         | string             | ${quarkus.application.name}     |
| [onecx.parameters.instance-id](#onecx-parameters%5Fonecx-parameters-instance-id) Instance ID Environment variable: ONECX\_PARAMETERS\_INSTANCE\_ID                                                                                                                                                                 | string             |                                 |
| [onecx.parameters.history.enabled](#onecx-parameters%5Fonecx-parameters-history-enabled) If set to true, the application will send history information to the parameter management. Environment variable: ONECX\_PARAMETERS\_HISTORY\_ENABLED                                                                      | boolean            | true                            |
| [onecx.parameters.history.update-schedule](#onecx-parameters%5Fonecx-parameters-history-update-schedule) Update history scheduler configuration in milliseconds. Environment variable: ONECX\_PARAMETERS\_HISTORY\_UPDATE\_SCHEDULE                                                                                | long               | 900000                          |
| [onecx.parameters.items."parameters"](#onecx-parameters%5Fonecx-parameters-items-parameters) Parameters configuration Environment variable: ONECX\_PARAMETERS\_ITEMS\_\_PARAMETERS\_                                                                                                                               | Map<String,String> |                                 |
| [onecx.parameters.tenant.enabled](#onecx-parameters%5Fonecx-parameters-tenant-enabled) Enable or disable multi-tenancy. Environment variable: ONECX\_PARAMETERS\_TENANT\_ENABLED                                                                                                                                   | boolean            | true                            |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                                              | Type                                 | Default                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------ | --------------------------------------------------------- |
| [onecx.permissions.service.client.url](#onecx-permissions%5Fonecx-permissions-service-client-url) Tenant client URL configuration. This property is alias for rest-client generated configuration property quarkus.rest-client.onecx\_permission.url Environment variable: ONECX\_PERMISSIONS\_SERVICE\_CLIENT\_URL | string                               | http://onecx-permission-svc:8080                          |
| [onecx.permissions.enabled](#onecx-permissions%5Fonecx-permissions-enabled) Enable interface mapping Environment variable: ONECX\_PERMISSIONS\_ENABLED                                                                                                                                                              | boolean                              | true                                                      |
| [onecx.permissions.cache-enabled](#onecx-permissions%5Fonecx-permissions-cache-enabled) Enable interface mapping Environment variable: ONECX\_PERMISSIONS\_CACHE\_ENABLED                                                                                                                                           | boolean                              | true                                                      |
| [onecx.permissions.allow-all](#onecx-permissions%5Fonecx-permissions-allow-all) Allow all permissions Environment variable: ONECX\_PERMISSIONS\_ALLOW\_ALL                                                                                                                                                          | boolean                              | false                                                     |
| [onecx.permissions.product-name](#onecx-permissions%5Fonecx-permissions-product-name) Product name. Environment variable: ONECX\_PERMISSIONS\_PRODUCT\_NAME                                                                                                                                                         | string                               | required                                                  |
| [onecx.permissions.application-id](#onecx-permissions%5Fonecx-permissions-application-id) Permissions application ID. Environment variable: ONECX\_PERMISSIONS\_APPLICATION\_ID                                                                                                                                     | string                               | ${quarkus.application.name}                               |
| [onecx.permissions.name](#onecx-permissions%5Fonecx-permissions-name) Permissions prefix name. Environment variable: ONECX\_PERMISSIONS\_NAME                                                                                                                                                                       | string                               | onecx                                                     |
| [onecx.permissions.request-token-from-header-param](#onecx-permissions%5Fonecx-permissions-request-token-from-header-param) Permissions access token header parameter. Environment variable: ONECX\_PERMISSIONS\_REQUEST\_TOKEN\_FROM\_HEADER\_PARAM                                                                | string                               | Authorization                                             |
| [onecx.permissions.token-header-param](#onecx-permissions%5Fonecx-permissions-token-header-param) Permissions principal token header parameter. Environment variable: ONECX\_PERMISSIONS\_TOKEN\_HEADER\_PARAM                                                                                                      | string                               | ${tkit.rs.context.token.header-param:apm-principal-token} |
| [onecx.permissions.key-separator](#onecx-permissions%5Fonecx-permissions-key-separator) Permissions resource action separator. Environment variable: ONECX\_PERMISSIONS\_KEY\_SEPARATOR                                                                                                                             | string                               | #                                                         |
| [onecx.permissions.mock.enabled](#onecx-permissions%5Fonecx-permissions-mock-enabled) Enable or disable mock service Environment variable: ONECX\_PERMISSIONS\_MOCK\_ENABLED                                                                                                                                        | boolean                              | false                                                     |
| [onecx.permissions.mock.roles."roles"](#onecx-permissions%5Fonecx-permissions-mock-roles-roles) Mock data for role Map format : \[role\].\[permission\]=\[actions\] Environment variable: ONECX\_PERMISSIONS\_MOCK\_ROLES\_\_ROLES\_                                                                                | Map<String,Map<String,List<String>>> |                                                           |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                                              | Type                                 | Default                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------ | --------------------------------------------------------- |
| [onecx.permissions.service.client.url](#onecx-permissions%5Fonecx-permissions-service-client-url) Tenant client URL configuration. This property is alias for rest-client generated configuration property quarkus.rest-client.onecx\_permission.url Environment variable: ONECX\_PERMISSIONS\_SERVICE\_CLIENT\_URL | string                               | http://onecx-permission-svc:8080                          |
| [onecx.permissions.enabled](#onecx-permissions%5Fonecx-permissions-enabled) Enable interface mapping Environment variable: ONECX\_PERMISSIONS\_ENABLED                                                                                                                                                              | boolean                              | true                                                      |
| [onecx.permissions.cache-enabled](#onecx-permissions%5Fonecx-permissions-cache-enabled) Enable interface mapping Environment variable: ONECX\_PERMISSIONS\_CACHE\_ENABLED                                                                                                                                           | boolean                              | true                                                      |
| [onecx.permissions.allow-all](#onecx-permissions%5Fonecx-permissions-allow-all) Allow all permissions Environment variable: ONECX\_PERMISSIONS\_ALLOW\_ALL                                                                                                                                                          | boolean                              | false                                                     |
| [onecx.permissions.product-name](#onecx-permissions%5Fonecx-permissions-product-name) Product name. Environment variable: ONECX\_PERMISSIONS\_PRODUCT\_NAME                                                                                                                                                         | string                               | required                                                  |
| [onecx.permissions.application-id](#onecx-permissions%5Fonecx-permissions-application-id) Permissions application ID. Environment variable: ONECX\_PERMISSIONS\_APPLICATION\_ID                                                                                                                                     | string                               | ${quarkus.application.name}                               |
| [onecx.permissions.name](#onecx-permissions%5Fonecx-permissions-name) Permissions prefix name. Environment variable: ONECX\_PERMISSIONS\_NAME                                                                                                                                                                       | string                               | onecx                                                     |
| [onecx.permissions.request-token-from-header-param](#onecx-permissions%5Fonecx-permissions-request-token-from-header-param) Permissions access token header parameter. Environment variable: ONECX\_PERMISSIONS\_REQUEST\_TOKEN\_FROM\_HEADER\_PARAM                                                                | string                               | Authorization                                             |
| [onecx.permissions.token-header-param](#onecx-permissions%5Fonecx-permissions-token-header-param) Permissions principal token header parameter. Environment variable: ONECX\_PERMISSIONS\_TOKEN\_HEADER\_PARAM                                                                                                      | string                               | ${tkit.rs.context.token.header-param:apm-principal-token} |
| [onecx.permissions.key-separator](#onecx-permissions%5Fonecx-permissions-key-separator) Permissions resource action separator. Environment variable: ONECX\_PERMISSIONS\_KEY\_SEPARATOR                                                                                                                             | string                               | #                                                         |
| [onecx.permissions.mock.enabled](#onecx-permissions%5Fonecx-permissions-mock-enabled) Enable or disable mock service Environment variable: ONECX\_PERMISSIONS\_MOCK\_ENABLED                                                                                                                                        | boolean                              | false                                                     |
| [onecx.permissions.mock.roles."roles"](#onecx-permissions%5Fonecx-permissions-mock-roles-roles) Mock data for role Map format : \[role\].\[permission\]=\[actions\] Environment variable: ONECX\_PERMISSIONS\_MOCK\_ROLES\_\_ROLES\_                                                                                | Map<String,Map<String,List<String>>> |                                                           |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                      | Type    | Default                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ---------------------------- |
| [onecx.tenant.cache-enabled](#onecx-tenant%5Fonecx-tenant-cache-enabled) Enable or disable cache for the token Environment variable: ONECX\_TENANT\_CACHE\_ENABLED                                                                                                                          | boolean | true                         |
| [onecx.tenant.service.client.url](#onecx-tenant%5Fonecx-tenant-service-client-url) Tenant client URL configuration. This property is alias for rest-client generated configuration property quarkus.rest-client.onecx\_tenant.url Environment variable: ONECX\_TENANT\_SERVICE\_CLIENT\_URL | string  | http://onecx-tenant-svc:8080 |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                      | Type    | Default                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ---------------------------- |
| [onecx.tenant.cache-enabled](#onecx-tenant%5Fonecx-tenant-cache-enabled) Enable or disable cache for the token Environment variable: ONECX\_TENANT\_CACHE\_ENABLED                                                                                                                          | boolean | true                         |
| [onecx.tenant.service.client.url](#onecx-tenant%5Fonecx-tenant-service-client-url) Tenant client URL configuration. This property is alias for rest-client generated configuration property quarkus.rest-client.onecx\_tenant.url Environment variable: ONECX\_TENANT\_SERVICE\_CLIENT\_URL | string  | http://onecx-tenant-svc:8080 |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                                                                                         | Type               | Default                                             |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | --------------------------------------------------- |
| [onecx.validator.values.enabled](#onecx-validator%5Fonecx-validator-values-enabled) Whether parameter-svc is enabled in case the parameter extension is present. Environment variable: ONECX\_VALIDATOR\_VALUES\_ENABLED                                                                                                                                       | boolean            | true                                                |
| [onecx.validator.values.mapping."mapping"](#onecx-validator%5Fonecx-validator-values-mapping-mapping) Key to parameter-name mapping Environment variable: ONECX\_VALIDATOR\_VALUES\_MAPPING\_\_MAPPING\_                                                                                                                                                       | Map<String,String> |                                                     |
| [onecx.validator.size.template](#onecx-validator%5Fonecx-validator-size-template) Template for the constraint violations error message 6 parameters required: %1$s, %2$s, %3$s, %4$s, %5$d, %6$d %1$s = provider %2$s = key %3$s = parameter %4$s = message %5$d = min-size value %6$d = max-size value Environment variable: ONECX\_VALIDATOR\_SIZE\_TEMPLATE | string             | Parameter: %3$s Boundaries: %5$d Bytes - %6$d Bytes |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                                                                                         | Type               | Default                                             |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | --------------------------------------------------- |
| [onecx.validator.values.enabled](#onecx-validator%5Fonecx-validator-values-enabled) Whether parameter-svc is enabled in case the parameter extension is present. Environment variable: ONECX\_VALIDATOR\_VALUES\_ENABLED                                                                                                                                       | boolean            | true                                                |
| [onecx.validator.values.mapping."mapping"](#onecx-validator%5Fonecx-validator-values-mapping-mapping) Key to parameter-name mapping Environment variable: ONECX\_VALIDATOR\_VALUES\_MAPPING\_\_MAPPING\_                                                                                                                                                       | Map<String,String> |                                                     |
| [onecx.validator.size.template](#onecx-validator%5Fonecx-validator-size-template) Template for the constraint violations error message 6 parameters required: %1$s, %2$s, %3$s, %4$s, %5$d, %6$d %1$s = provider %2$s = key %3$s = parameter %4$s = message %5$d = min-size value %6$d = max-size value Environment variable: ONECX\_VALIDATOR\_SIZE\_TEMPLATE | string             | Parameter: %3$s Boundaries: %5$d Bytes - %6$d Bytes |

Local Development
====================
This guide explains how to set up a local development environment for testing changes to the libraries, located in the `onecx-portal-ui-libs` repository and integrating them in local applications and a local [OneCX Shell](https://onecx.github.io/docs/onecx-shell/current/general/index.html).

Before proceeding, make sure you have read the following documentation:

* [Running OneCX locally](https://onecx.github.io/docs/onecx-local-env/current/general/getting-started.html)
* [Running custom applications locally](https://onecx.github.io/docs/guides/current/general/getting-started/running%5Fcustom%5Fapps%5Foverview.html)

These resources provide essential background on setting up a local OneCX environment and running custom applications. _This guide assumes you already know how to start OneCX locally and how to replace application images with local versions._

## [](#making-changes-to-the-libraries)Making changes to the libraries

To begin making changes and contributing to the libraries:

1. Fork the repository: <https://github.com/onecx/onecx-portal-ui-libs>  
**Important:** Do **not** just copy the `main` branch. You may need to work on other branches like `v5` to apply changes to older library versions.
2. Clone your fork to your local machine. The command below assumes that you named your fork `onecx-portal-ui-libs`:  
```bash  
git clone https://github.com/<YOUR_USER_NAME>/onecx-portal-ui-libs  
```
3. Navigate to the cloned repository directory and install dependencies:  
```bash  
cd onecx-portal-ui-libs && npm i  
```
4. Open the project in your preferred code editor (e.g., VSCode) and make your desired changes.

| |  Checkpoint At this point you should have…​ a fork of the onecx-portal-ui-libs repository in your GitHub account. a local clone of said fork on your machine. installed all dependencies using npm i. made some changes to the codebase. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

## [](#testing-the-changes-locally)Testing the changes locally

To test your changes, the libraries must be built and copied into the `node_modules` folders of both the shell and the app(s) you want to test in.

While it’s technically possible to only copy the changes to the `node_modules` folders of the shell in certain situations, we recommend you always copy the changes to both shell and the app(s) to avoid issues during dependency sharing.

Complete the following steps to test your changes:

### [](#1-identify-relative-paths)1\. Identify Relative Paths

Before copying the built libraries, you first need to decide which application(s) you want to test the changes in. After deciding on the application(s), you need to determine the relative paths from the root of `onecx-portal-ui-libs` to both the application(s) and your local clone of `onecx-shell-ui`. The relative paths will be used later and might look something like this:

* For the app(s), e.g.:  
```none  
../../apps/my-cool-app  
```
* For your local clone of `onecx-shell-ui`, e.g.:  
```none  
../onecx-shell-ui  
```

### [](#2-create-copy-build-to-file)2\. Create `.copy-build-to` File

Create an empty file named `.copy-build-to` in the root of `onecx-portal-ui-libs`.

This file will contain the paths to the `node_modules` folders that the build output should be copied to.

The file can contain multiple paths, one per line. Each path must be relative to the root of `onecx-portal-ui-libs` and must point to the `@onecx` folder inside the `node_modules` folder of the target project.

For now, leave the file empty. You will add the paths in the next step.

### [](#3-add-paths-to-copy-build-to)3\. Add Paths to `.copy-build-to`

Use the relative paths from step 1 and follow these patterns:

#### [](#for-apps-non-shell)For Apps (non-shell)

Append `/node_modules/@onecx` to the app path.

Example:

```none
../../apps/my-cool-app/node_modules/@onecx
```

**Note:** Do **not** add a trailing `/`.

#### [](#for-shell)For Shell

Identify the library version you’re testing:

* **v5.x.x** → changes made on `v5` or branches based on `v5`
* **v6.x.x** → changes made on `main` or branches based on `main`

##### [](#v5-x-x)v5.x.x

Copy only to the Angular 18 pre-loader by appending `/pre_loaders/angular-18/node_modules/@onecx` to the shell path.

Example:

```none
../onecx-shell-ui/pre_loaders/angular-18/node_modules/@onecx
```

##### [](#v6-x-x)v6.x.x

Copy to both Angular 19 pre-loader and shell’s root `node_modules` by appending `/pre_loaders/angular-19/node_modules/@onecx` and `/node_modules/@onecx` to the shell path.

Example:

```none
../onecx-shell-ui/pre_loaders/angular-19/node_modules/@onecx
../onecx-shell-ui/node_modules/@onecx
```

**Note:** Similar to apps, do **not** add a trailing `/` to any of the paths.

| |  Checkpoint At this point, your .copy-build-to file should contain two or more paths (shell + at least one app), each on a new line, pointing to the @onecx folder inside the node\_modules folder of the target projects (apps and/or shell). The file might look something like this: ../../apps/my-cool-app/node\_modules/@onecx ../onecx-shell-ui/pre\_loaders/angular-19/node\_modules/@onecx ../onecx-shell-ui/node\_modules/@onecx |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#4-build-and-copy-libraries)4\. Build and Copy Libraries

Once you have correctly set up the `.copy-build-to` file, you are ready to build and copy the libraries to the specified paths.

Before building, make sure to remove potentially outdated cached builds by running:

```bash
rm -rf dist .nx/cache
```

Afterwards, build and copy the libraries by running:

```bash
npm run build-copy
```

| |  Checkpoint At this point, you should see terminal output indicating that the libraries have been built and copied to the specified paths. If you encounter any errors, refer to any error messages and ensure that the paths in the .copy-build-to file are correct. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#5-prepare-apps-and-shell-for-local-testing)5\. Prepare Apps and Shell for Local Testing

Before running the shell and app(s) with the locally built libraries, you need to make some adjustments to ensure the local versions are used correctly:

1. Open the `package.json` files of each app, pre-loader, and shell that libraries were copied to.
2. Increase the version numbers of all OneCX packages to simulate a version update.  
| |  Ideally, you should use the version number your changes will be released in. Any version number higher than the current one should, however, work. Make sure to use the same version number for all OneCX packages within the project starting with 6. for v6.x.x or 5. for v5.x.x. |  
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
3. **Do not** run `npm install` after changing the version numbers.
4. Before running the app(s) (non-shell) delete any build caches to ensure a clean build environment. Delete build caches:  
```bash  
rm -rf dist .nx/cache .angular  
```
5. Before running the shell delete the build caches of both the respective pre-loader (18 or 19) and the shell itself to ensure a clean build environment. Example for v6.x.x (Angular 19):  
```bash  
rm -rf pre_loaders/angular-19/dist pre_loaders/angular-19/.nx/cache dist .nx/cache  
```

| |  Checkpoint At this point, you should have updated the version numbers in the package.json files of the shell and app(s) where the libraries were copied to. Additionally, you should have deleted any build caches to ensure a clean build environment. |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#6-run-onecx-shell-and-apps)6\. Run OneCX Shell and App(s)

After completing the previous steps, you are now ready to run OneCX Shell and the app(s) with your local library changes.

To do so, follow the documentation on [running custom applications locally](https://onecx.github.io/docs/guides/current/general/getting-started/running%5Fcustom%5Fapps%5Foverview.html).

| |  The steps for running the shell should match the steps for running existing OneCX core apps. |
| ----------------------------------------------------------------------------------------------- |

OneCX Portal UI Libs
====================
`onecx-portal-ui-libs` is the umbrella term for all libraries in the OneCX ecosystem. The libraries are open source and can be found on [GitHub](https://github.com/onecx/onecx-portal-ui-libs).

This documentation contains information about the libraries, how to install/use them, and how to contribute to the development. Additionally it contains instructions on how to set up a local development environment and testing the libraries in local projects.

OneCX GroupByCountDiagram
====================
## [](#overview)Overview

This document aims to showcase how to manage GroupByCountDiagram component.

This component displays the search result data as a diagram. Please, visit the storybook page for the [GroupByCountDiagram component](https://main--65f7f64d4506c9f2dfe59383.chromatic.com/?path=/docs/components-groupbycountdiagramcomponent--docs) and interact with the examples to find out if the component is suitable for the desired use-case.

## [](#customization)Customization

The GroupByCountDiagram component allows for content customization:

* render different types of diagrams
* enable switching between diagram types
* set custom colors

To find out how to work with the GroupByCountDiagram component, please visit the [storybook page](https://main--65f7f64d4506c9f2dfe59383.chromatic.com/?path=/docs/components-groupbycountdiagramcomponent--docs) and interact with the examples to find out the required features. For more in-depth information on the GroupByCountDiagram component interface, please read the further documentation.

## [](#inputs)Inputs

__Table 1\. GroupByCountDiagram inputs__
| Property name         | Type                             | Default                     | Description                                                                                                                                                                                                                                                          |
| --------------------- | -------------------------------- | --------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| sumKey                | string                           | FEATURE\_SEARCH.DIAGRAM.SUM | Translation key for label below the chart.                                                                                                                                                                                                                           |
| diagramType           | [DiagramType](#diagram-type)     | DiagramType.PIE             | Type of the chart to be displayed as.                                                                                                                                                                                                                                |
| supportedDiagramTypes | [DiagramType\[\]](#diagram-type) | \[\]                        | Add multiple Diagram types to be able to switch between them.                                                                                                                                                                                                        |
| data                  | unknown\[\]                      | \-                          | Data to be displayed as a diagram.                                                                                                                                                                                                                                   |
| columnType            | [ColumnType](#column-type)       | ColumnType.STRING           | Defines the type of the column.                                                                                                                                                                                                                                      |
| columnField           | string                           | ''                          | Defines which column data field to be displayed.                                                                                                                                                                                                                     |
| column                | [DiagramColumn](#diagram-column) | \-                          | Defines which columns and its type to be displayed.                                                                                                                                                                                                                  |
| fillMissingColors     | boolean                          | true                        | Determines if diagram should generate the colors for the data that does not have any set. Set to false will result in using the provided colors only if every data item has one. When at least one item does not have a color set, diagram will generate all colors. |
| colors                | Record<string, string>           | {}                          | Defines custom color for data items.                                                                                                                                                                                                                                 |

## [](#outputs)Outputs

__Table 2\. GroupByCountDiagram outputs__
| Property name         | Type                                                                                        | Description                                                                                                    |
| --------------------- | ------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| dataSelected          | EventEmitter<any>                                                                           | Emits data object upon clicking a diagram element.                                                             |
| diagramTypeChanged    | EventEmitter<[DiagramType](#diagram-type)\>                                                 | Emits the [DiagramType](#diagram-type) when one of the supported diagram types is selected to switch the type. |
| componentStateChanged | EventEmitter<[GroupByCountDiagramComponentState](#group-by-count-diagram-component-state)\> | Emits the selected [DiagramType](#diagram-type) to ensure consistent component state.                          |

## [](#types)Types

### [](#diagram-type)DiagramType

DiagramType enum

```javascript
    export const enum DiagramType {
        PIE = 'PIE',
        VERTICAL_BAR = 'VERTICAL_BAR',
        HORIZONTAL_BAR = 'HORIZONTAL_BAR',
    }
```

### [](#column-type)ColumnType

ColumnType enum

```javascript
    export const enum ColumnType {
        STRING = 'STRING',
        NUMBER = 'NUMBER',
        DATE = 'DATE',
        RELATIVE_DATE = 'RELATIVE_DATE',
        TRANSLATION_KEY = 'TRANSLATION_KEY',
    }
```

### [](#diagram-column)DiagramColumn

DiagramColumn type

```javascript
    export type DiagramColumn = { columnType: ColumnType; id: string }
```

### [](#group-by-count-diagram-component-state)GroupByCountDiagramComponentState

GroupByCountDiagramComponentState interface

```javascript
    export interface GroupByCountDiagramComponentState {
        activeDiagramType?: DiagramType
    }
```

OneCX PageHeader
====================
## [](#overview)Overview

This document aims to showcase how to use the PageHeader component.

This component should be used for creating a header for the pages. Please, visit the storybook page for the [PageHeader component](https://main--65f7f64d4506c9f2dfe59383.chromatic.com/?path=/docs/components-pageheadercomponent--docs) and interact with the examples to find out if the component is suitable for the desired use-case.

## [](#customization)Customization

The PageHeader component allows to customize its content:

* control header title, subtitle and figure
* display page details
* display action buttons and menu items

To find out how to work with PageHeader component, please visit the [storybook page](https://main--65f7f64d4506c9f2dfe59383.chromatic.com/?path=/docs/components-pageheadercomponent--docs) and interact with the examples to find out the required features. For more in-depth information on the PageHeader component interface, please access further documentation.

## [](#inputs)Inputs

__Table 1\. PageHeader inputs__
| Input name               | Type                                        | Default | Description                                                                                                                                                                                    |   |    |    |                                      |
| ------------------------ | ------------------------------------------- | ------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | - | -- | -- | ------------------------------------ |
| header                   | string                                      | \-      | Header title.                                                                                                                                                                                  |   |    |    |                                      |
| loading                  | boolean                                     | false   | If component is in loading state. Set to true to display component in the loading state.                                                                                                       |   |    |    |                                      |
| showFigure               | boolean                                     | true    | If header figure should be visible. Set to false to hide the figure.                                                                                                                           |   |    |    |                                      |
| figureImage              | string                                      | \-      | Image URL to be displayed in the header figure.                                                                                                                                                |   |    |    |                                      |
| subheader                | string                                      | \-      | Header subtitle.                                                                                                                                                                               |   |    |    |                                      |
| actions                  | [Action](#action)\[\]                       | \-      | Array of actions available in the header in form of a button or a menu item.                                                                                                                   |   |    |    |                                      |
| objectDetails            | [ObjectDetailItem](#object-detail-item)\[\] | \-      | Array of detail items to be displayed in the header.                                                                                                                                           |   |    |    |                                      |
| showBreadcrumbs          | boolean                                     | true    | If breadcrumbs should be visible.                                                                                                                                                              |   |    |    |                                      |
| manualBreadcrumbs        | boolean                                     | false   | If breadcrumbs should be set manually. By default BreadcrumbService will generate breadcrumbs based on the router state. Set to true and set breadcrumbs for module routes to use manual mode. |   |    |    |                                      |
| enableGridView           | boolean                                     | \-      | If grid view should be enabled. Set to false to use column view. Set to true to use grid view.                                                                                                 |   |    |    |                                      |
| gridLayoutDesktopColumns | 1 \| 2                                      | 3       | 4                                                                                                                                                                                              | 6 | 12 | \- | The amount of columns for grid view. |
| figureBackground         | boolean                                     | true    | Deprecated.                                                                                                                                                                                    |   |    |    |                                      |
| disableDefaultActions    | boolean                                     | false   | Deprecated.                                                                                                                                                                                    |   |    |    |                                      |

## [](#outputs)Outputs

__Table 2\. PageHeader outputs__
| Output name | Type | Description |
| ----------- | ---- | ----------- |
| save        | any  | Deprecated. |

## [](#types)Types

### [](#action)Action

Action type is used to create:

* action buttons in the header (use `show: 'always'`)
* action menu item in the `more actions` button in the header (use `show: 'asOverflow'`)

__Table 3\. Action interface__
| Property            | Type                    | Description                                                                                                                                                                                                |
| ------------------- | ----------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id?                 | string                  | Identifier of the action button or menu item.                                                                                                                                                              |
| label?              | string                  | Action button or menu item text.                                                                                                                                                                           |
| labelKey?           | string                  | Translation key for action button or menu item text. Has higher priority than label.                                                                                                                       |
| icon?               | string                  | Icon of the action button or menu item .                                                                                                                                                                   |
| permission?         | string                  | Permission for the action. If user does not have this permission, the action will not be shown.                                                                                                            |
| title?              | string                  | Action button or menu item tooltip text.                                                                                                                                                                   |
| titleKey?           | string                  | Translation key for action button or menu item tooltip text.                                                                                                                                               |
| ariaLabel?          | string                  | Text for the aria label of the action button. Used for actions with show: 'always' property.                                                                                                               |
| ariaLabelKey?       | string                  | Translation key for the aria label of the action button. Used for actions with show: 'always' property. Has higher priority than ariaLabel.                                                                |
| actionCallback?     | (): void                | Callback to be used when the button is clicked or the menu item is chosen.                                                                                                                                 |
| disabled?           | boolean                 | If action button or menu item should be disabled.                                                                                                                                                          |
| disabledTooltip?    | string                  | Tooltip for the disabled action button.                                                                                                                                                                    |
| disabledTooltipKey? | string                  | Translation key for the tooltip of the disabled action button. Has higher priority than disabledTooltipKey.                                                                                                |
| show?               | 'always' \|'asOverflow' | Action button display control. Use 'always' to display button in the header. Use 'asOverflow' to add a menu item to the more actions menu button in the header.                                            |
| conditional?        | boolean                 | If action should be visible on condition resolved in showCondition property.                                                                                                                               |
| showCondition?      | boolean                 | If conditional: true is set, this value determines if the action is visible. Note, this property will not work with dynamic values. Please, replace the passed Action if you wish to update the condition. |
| btnClass?           | string                  | Deprecated.                                                                                                                                                                                                |

### [](#object-detail-item)ObjectDetailItem

ObjectDetailItem is used to define the detail item to be displayed for the page in the header. The detail item has a label and can have a value as well as action button.

__Table 4\. ObjectDetailItem interface__
| Property                    | Type      | Description                                                                                |
| --------------------------- | --------- | ------------------------------------------------------------------------------------------ |
| \`label                     | string    | Text for the detail label. Use labelPipe to transform the label e.g., using TranslatePipe. |
| \`value?                    | string    | Text for the detail value. Use valuePipe to transform the value e.g., using TranslatePipe. |
| \`labelTooltip?             | string    | Text for the detail label tooltip.                                                         |
| \`valueTooltip?             | string    | Text for the detail value tooltip.                                                         |
| \`icon?                     | PrimeIcon | Icon displayed before the detail value.                                                    |
| \`iconStyleClass?           | string    | Style of the icon element.                                                                 |
| \`labelPipe?                | Type<any> | Pipe used to transform the detail label provided via label.                                |
| \`valuePipe?                | Type<any> | Pipe used to transform the detail value provided via value.                                |
| \`valuePipeArgs?            | string    | Arguments for the Pipe provided via valuePipe, used for transforming the detail value.     |
| \`valueCssClass?            | string    | String containing css classes to be used for displaying the detail value.                  |
| \`actionItemIcon?           | PrimeIcon | Icon for the detail item action button.                                                    |
| \`actionItemCallback?       | () ⇒ void | Callback to be used when the detail item action button is clicked.                         |
| \`actionItemTooltip?        | string    | Text for the detail action button tooltip.                                                 |
| \`actionItemAriaLabelKey?   | string    | Translation key for the the aria label of the detail action button.                        |
| \`actionItemAriaLabel?      | string    | Text for the aria label of the detail action button.                                       |
| \[.line-through\]\`tooltip? | string    | Deprecated. Use valueTooltip instead.                                                      |

OneCX SearchHeader
====================
## [](#overview)Overview

This document aims to showcase how to manage SearchHeader component.

This component displays the search result data as a diagram. Please, visit the storybook page for the [SearchHeader component](https://main--65f7f64d4506c9f2dfe59383.chromatic.com/?path=/docs/components-searchheadercomponent--docs) and interact with the examples to find out if the component is suitable for the desired use-case.

## [](#customization)Customization

The SearchHeader component allows for content customization:

* define header title
* add input fields
* add header actions buttons
* `*ocxAdvanced` directive  
   * The `*ocxAdvanced` directive specifies whether a field is part of the `basic` or `advanced` mode. This mode can be toggled using the Basic\\|Advanced button in the search header which is only displayed when this directive is used for defining advanced input fields. The directive will be added to the div element:  
   ```html  
    <form [formGroup]="criteriaGroup">  
         <div class="grid mt-0 p-fluid">  
           <div *ocxAdvanced class="col-12 md:col-3">  
             <span class="p-float-label">  
              // PLACE YOUR INPUT FIELD HERE  
             </span>  
           </div>  
           ...  
   ```

To find out how to work with the SearchHeader component, please visit the [storybook page](https://main--65f7f64d4506c9f2dfe59383.chromatic.com/?path=/docs/components-searchheadercomponent--docs) and interact with the examples to find out the required features. For more in-depth information on the SearchHeader component interface, please read the further documentation.

### [](#ocx-basic-and-advanced-directives)ocxBasic and ocxAdvanced Directives

The `*ocxBasic` and `*ocxAdvanced` directives are [structural directives](https://angular.dev/guide/directives/structural-directives) that provide advanced search field visibility control within the SearchHeader component. These directives enable the creation of a two-tier search interface where fields can be categorized as either basic or advanced.

Here’s a simple example showing how to use the directives:

```html
<ocx-search-header
  ...>
  <form [formGroup]="criteriaForm" class="flex flex-wrap gap-3">
    <span class="p-float-label">
      <input
        id="title"
        ...>
      <label for="title">Title</label>
    </span>

    <span *ocxBasic class="p-float-label">
      <p-multiSelect
        id="status"
        ...>
      </p-multiSelect>
      <label for="status">Status</label>
    </span>

    <span *ocxAdvanced class="p-float-label">
      <p-multiSelect
        id="priority"
        ...>
      </p-multiSelect>
      <label for="priority">Priority</label>
    </span>
  </form>
</ocx-search-header>
```

* **Basic Mode**: Fields marked with `*ocxAdvanced` are hidden by default and only basic fields and fields without directive are visible. (Here: only Title and Status visible)
* **Advanced Mode**: All fields without an directive or with `*ocxAdvanced` are visible. (Here: Title and Priority visible)
* **Toggle Button**: The Basic|Advanced toggle button appears automatically when at least one field uses either the `*ocxBasic` or `*ocxAdvanced` directive

## [](#inputs)Inputs

__Table 1\. SearchHeader inputs__
| Property name          | Type                       | Default   | Description                                                                                                                                                                                |                                                                |
| ---------------------- | -------------------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------- |
| header                 | string                     | ''        | Translation key for header title.                                                                                                                                                          |                                                                |
| subheader              | string \| undefined        | \-        | Translation key for sub-header title.                                                                                                                                                      |                                                                |
| viewMode               | 'basic' \| 'advanced'      | 'basic'   | Determines if 'basic' or 'advanced' search criterias are displayed.                                                                                                                        |                                                                |
| manualBreadcrumbs      | boolean                    | false     | Determines to use custom or default rendered breadcrumbs.                                                                                                                                  |                                                                |
| actions                | [ColumnType](#column-type) | \[\]      | Array of actions available in the header in form of a button or a menu item. Please refer to [PageHeader component](#cookbook/components/page-header/index.adoc) for detailed information. |                                                                |
| searchButtonDisabled   | boolean                    | false     | Determines if the search button should be rendered.                                                                                                                                        |                                                                |
| resetButtonDisabled    | boolean                    | false     | Determines if the reset button should be rendered.                                                                                                                                         |                                                                |
| searchConfigPermission | string \| string\[\]       | undefined | \-                                                                                                                                                                                         | Defines the permission key(s) for displaying the searchConfig. |
| pageName               | string \| undefined        | \-        | Defines page name for searchConfig.                                                                                                                                                        |                                                                |

## [](#outputs)Outputs

__Table 2\. SearchHeader outputs__
| Property name               | Type                                                                         | Description                                                                                                                                                    |
| --------------------------- | ---------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| searched                    | EventEmitter<any>                                                            | Emits event when search button is clicked.                                                                                                                     |
| resetted                    | EventEmitter<any>                                                            | Emits event when reset button is clicked.                                                                                                                      |
| selectedSearchConfigChanged | EventEmitter<[SearchConfigData](#search-config-data) \| undefined>           | Emits the [SearchConfigData](#search-config-data) upon change of selected searchConfig.                                                                        |
| viewModeChanged             | EventEmitter<'basic' \| 'advanced'>                                          | Emits the viewMode 'basic' or 'advanced' when the Basic\|Advanced button is clicked.                                                                           |
| componentStateChanged       | EventEmitter <[SearchHeaderComponentState](#search-header-component-state)\> | Emits the [SearchHeaderComponentState](#search-header-component-state) with updated viewMode or searchConfig if changed, to ensure consistent component state. |

## [](#types)Types

### [](#search-header-component-state)SearchHeaderComponentState

SearchHeaderComponentState is used to maintain consistent ComponentState.

__Table 3\. SearchHeaderComponentState interface__
| Property name        | Type              | Description                    |
| -------------------- | ----------------- | ------------------------------ |
| activeViewMode       | EventEmitter<any> | Current active viewMode.       |
| selectedSearchConfig | EventEmitter<any> | Current selected searchConfig. |

### [](#search-config-data)SearchConfigData

SearchConfigData is used for the SearchConfig component.

__Table 4\. SearchConfigData interface__
| Property name       | Type                        | Description                                                        |
| ------------------- | --------------------------- | ------------------------------------------------------------------ |
| name                | string \| undefined         | Name of the searchConfig.                                          |
| fieldValues         | { \[key: string\]: string } | Data values to display.                                            |
| displayedColumnsIds | string\[\]                  | List of columns to display.                                        |
| viewMode            | 'basic' \| 'advanced'       | The viewMode for displaying input fields as 'basic' or 'advanced'. |

OneCX angular-integration-interface Library
====================
## [](#overview)Overview

`@onecx/angular-integration-interface` library is a set of tools aiming to ease the development of Angular applications integrated with OneCX by utilizing and extending functionalities of [@onecx/integration-interface](integration-interface.html). This library offers Injectable services exposing a set of functionalities useful for integrating Microfrontends with OneCX without directly utilizing Topics.

## [](#services)Services

### [](#app-config-service)App Config Service

Usage

**Initialize and access configuration variables for a specific Microfrontend**.

It is similar to [ConfigurationService](#configuration-service), however **App Config Service** should be used for a Microfrontend configuration management. If sharing the configuration variable with multiple Microfrontends is desired, please use [ConfigurationService](#configuration-service) and provide variables via Shell Application.

Topics used

None

Dependencies

* HttpClient

API

**App Config Service** properties enable access to the config data directly:

__Table 1\. App Config Service properties__
| Property name | Type                                         | Description                                         |
| ------------- | -------------------------------------------- | --------------------------------------------------- |
| config$       | BehaviorSubject<{ \[key: string\]: string }> | BehaviorSubject for Application configuration data. |

**App Config Service** methods can be used for Microfrontend configuration variable management:

__Table 2\. App Config Service methods__
| Method signature                           | Return type                 | Description                                                                                                                                  |
| ------------------------------------------ | --------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| init(baseUrl: string)                      | Promise<void>               | Initializes App Config Service by loading configuration variables. The configuration will be loaded from the {baseUrl}/assets/env.json file. |
| getProperty(key: string)                   | string \| undefined         | Gets the value for a key from **config$**.                                                                                                   |
| async setProperty(key: string, val:string) | void                        | Updates the value for a key in **config$**.                                                                                                  |
| getConfig()                                | { \[key: string\]: string } | Gets all configuration variables defined for the Microfrontend.                                                                              |

### [](#app-state-service)App State Service

Usage

**Access information about the platform state**.

This service creates new instances of several Topics that contain information about the current state of the platform and makes sure they are cleaned up correctly on destruction.

Topics used

* [GlobalErrorTopic](integration-interface.html#global-error-topic)
* [GlobalLoadingTopic](integration-interface.html#global-loading-topic)
* [CurrentMfeTopic](integration-interface.html#current-mfe-topic)
* [CurrentPageTopic](integration-interface.html#current-page-topic)
* [CurrentWorkspaceTopic](integration-interface.html#current-workspace-topic)
* [IsAuthenticatedTopic](integration-interface.html#is-authenticated-topic)

Dependencies

None

API

**App State Service** properties enable access to topic instances:

__Table 3\. App State Service properties__
| Property name     | Type                                                                        | Description                                                                           |
| ----------------- | --------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| globalError$      | [GlobalErrorTopic](integration-interface.html#global-error-topic)           | [GlobalErrorTopic](integration-interface.html#global-error-topic) instance.           |
| globalLoading$    | [GlobalLoadingTopic](integration-interface.html#global-loading-topic)       | [GlobalLoadingTopic](integration-interface.html#global-loading-topic) instance.       |
| currentMfe$       | [CurrentMfeTopic](integration-interface.html#current-mfe-topic)             | [CurrentMfeTopic](integration-interface.html#current-mfe-topic) instance.             |
| currentPage$      | [CurrentPageTopic](integration-interface.html#current-page-topic)           | [CurrentPageTopic](integration-interface.html#current-page-topic) instance.           |
| currentWorkspace$ | [CurrentWorkspaceTopic](integration-interface.html#current-workspace-topic) | [CurrentWorkspaceTopic](integration-interface.html#current-workspace-topic) instance. |
| isAuthenticated$  | [IsAuthenticatedTopic](integration-interface.html#is-authenticated-topic)   | [IsAuthenticatedTopic](integration-interface.html#is-authenticated-topic) instance.   |
| currentPortal$    | [CurrentWorkspaceTopic](integration-interface.html#current-workspace-topic) | Deprecated. Use currentWorkspace$ instead.                                            |

### [](#configuration-service)Configuration Service

Usage

**Initialize and access configuration variables for a platform**.

This service is initialized by, and contains configuration variables, for the Shell Application that could be used in any place on the platform.

[ConfigurationService](#configuration-service) **should not be initialized by Microfrontends**. They can utilize specific functionality of this service to access and update configuration data.

Topics used

* [ConfigurationTopic](integration-interface.html#configuration-topic)

Dependencies

* HttpClient

API

**Configuration Service** properties:

__Table 4\. Configuration Service properties__
| Property name | Type                                                                 | Description                                                                    |
| ------------- | -------------------------------------------------------------------- | ------------------------------------------------------------------------------ |
| config$       | [ConfigurationTopic](integration-interface.html#configuration-topic) | [ConfigurationTopic](integration-interface.html#configuration-topic) instance. |
| isInitialized | Promise<void>                                                        | Promise resolved when Configuration Service is initialized.                    |

**Configuration Service** methods can be used for platform configuration variable management:

__Table 5\. Configuration Service methods__
| Method signature                           | Return type                                        | Description                                                                                                                                                 |
| ------------------------------------------ | -------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| init()                                     | Promise<boolean>                                   | Initializes Configuration Service by loading Shell configuration variables and publishes them via ConfigurationTopic. Should not be used in Microfrontends. |
| getProperty(key: CONFIG\_KEY)              | string                                             | Gets value set for a key from topic.                                                                                                                        |
| async setProperty(key: string, val:string) | void                                               | Updates the value for a key in the configuration. Publishes new message via ConfigurationTopic.                                                             |
| getConfig()                                | [Config](integration-interface.html#config-object) | Gets all configuration variables defined for the app from the topic.                                                                                        |

### [](#portal-message-service)Portal Message Service

Usage

**Display messages for a short period in an overlay on the top of the page**.

This service is a wrapper for [MessageTopic](integration-interface.html#message-topic) that should be used to display messages using translation keys.

Topics used

* [MessageTopic](integration-interface.html#message-topic)

Dependencies

* TranslateService

API

**Portal Message Service** properties enable access to the topic instances:

__Table 6\. Portal Message Service properties__
| Property name | Type                                                     | Description                                                        |
| ------------- | -------------------------------------------------------- | ------------------------------------------------------------------ |
| message$      | [MessageTopic](integration-interface.html#message-topic) | [MessageTopic](integration-interface.html#message-topic) instance. |

**Portal Message Service** methods can be used for displaying various messages:

__Table 7\. Portal Message Service methods__
| Method signature                         | Return type | Description                                                                                                                  |
| ---------------------------------------- | ----------- | ---------------------------------------------------------------------------------------------------------------------------- |
| success(msg: [Message](#Message-object)) | void        | Display message with 'success' severity. Publishes new message via [MessageTopic](integration-interface.html#message-topic). |
| info(msg: [Message](#Message-object))    | void        | Display message with 'info' severity. Publishes new message via [MessageTopic](integration-interface.html#message-topic).    |
| error(msg: [Message](#Message-object))   | void        | Display message with 'error' severity. Publishes new message via [MessageTopic](integration-interface.html#message-topic).   |
| warning(msg: [Message](#Message-object)) | void        | Display message with 'warning' severity. Publishes new message via [MessageTopic](integration-interface.html#message-topic). |

**Message object** accepted by the **Portal Message Service** methods extends the **Message object** used by the [MessageTopic](integration-interface.html#message-topic) with the following properties:

__Table 8\. Message object extensions__
| Property name      | Type   | Description                                         |
| ------------------ | ------ | --------------------------------------------------- |
| summaryKey?        | string | Translation key of the Message summary text.        |
| summaryParameters? | object | Translation parameters of the Message summary text. |
| detailKey?         | string | Translation key of the Message detail text.         |
| detailParameters?  | object | Translation parameters of the Message detail text.  |

### [](#remote-components-service)Remote Components Service

Usage

**Access Remote Components' information**.

This service creates a new instance of [RemoteComponentsTopic](integration-interface.html#remote-components-topic) which contains information about the Remote Components and makes sure it is cleaned up correctly on destroy.

Topics used

* [RemoteComponentsTopic](integration-interface.html#remote-components-topic)

API

**Remote Components Service** properties enable access to topic instances:

__Table 9\. Remote Components Service properties__
| Property name     | Type                                                                        | Description                                                                           |
| ----------------- | --------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| remoteComponents$ | [RemoteComponentsTopic](integration-interface.html#remote-components-topic) | [RemoteComponentsTopic](integration-interface.html#remote-components-topic) instance. |

### [](#theme-service)Theme Service

Usage

**Change the page display style by applying Themes**.

This service allows changing the currently used Theme by applying it to the document and informs about it via a new message in the [CurrentThemeTopic](integration-interface.html#current-theme-topic).

Topics used

* [CurrentThemeTopic](integration-interface.html#current-theme-topic)

Dependencies

* HttpClient
* [ConfigurationService](#configuration-service)

API

**Theme Service** properties enable access to topic instances:

__Table 10\. Theme Service properties__
| Property name | Type                                                                | Description                                                                   |
| ------------- | ------------------------------------------------------------------- | ----------------------------------------------------------------------------- |
| currentTheme$ | [CurrentThemeTopic](integration-interface.html#current-theme-topic) | [CurrentThemeTopic](integration-interface.html#current-theme-topic) instance. |
| baseUrlV1     | string                                                              | Deprecated.                                                                   |

**Theme Service** methods:

__Table 11\. Theme Service methods__
| Method signature                                               | Return type   | Description                                                                                                                                                                                                                   |
| -------------------------------------------------------------- | ------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| apply(theme: [Theme](integration-interface.html#theme-object)) | Promise<void> | Applies [Theme](integration-interface.html#theme-object) via document style manipulation (styles will be lost on page exit). Publishes a new message via [CurrentThemeTopic](integration-interface.html#current-theme-topic). |
| getThemeHref(themeId: string)                                  | string        | Deprecated.                                                                                                                                                                                                                   |
| loadAndApplyTheme(themeName: string)                           | void          | Deprecated.                                                                                                                                                                                                                   |

### [](#user-service)User Service

Usage

**Access the user’s data, settings and permissions**.

This service contains user-related information and allows checking user permissions by utilizing Topics.

Topics used

* [UserProfileTopic](integration-interface.html#user-profile-topic)
* [PermissionsTopic](integration-interface.html#permissions-topic)

API

**User Service** properties enable access to the user’s information:

__Table 12\. User Service properties__
| Property name    | Type                                                              | Description                                                                                                                                                                           |
| ---------------- | ----------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| profile$         | [UserProfileTopic](integration-interface.html#user-profile-topic) | [UserProfileTopic](integration-interface.html#user-profile-topic) instance.                                                                                                           |
| lang$            | BehaviorSubject<string>                                           | User’s language. For every new message in the [UserProfileTopic](integration-interface.html#user-profile-topic), the language will be updated based on the user’s locale information. |
| isInitialized    | Promise<void>                                                     | Promise resolved when User Service is initialized.                                                                                                                                    |
| getPermissions() | Observable<string\[\]>                                            | Observable with list of permissions for the current user.                                                                                                                             |
| permissions$     | BehaviorSubject<string\[\]>                                       | Deprecated.                                                                                                                                                                           |

**User Service** methods:

__Table 13\. User Service methods__
| Method signature                      | Return type   | Description |
| ------------------------------------- | ------------- | ----------- |
| \`hasPermission(permissionKey: string | string\[\])\` | boolean     |

### [](#workspace-service)Workspace Service

Usage

**Manage Workspace resources**.

This service offers set of methods useful when developing Microfrontends referencing other Applications via routing.

Topics used

None.

Dependencies

* HttpClient
* [AppStateService](#app-state-service)

API

**Workspace Service** methods can be used for constructing routes to Applications:

__Table 14\. Workspace Service methods__
| Method signature                                                                                               | Return type         | Description                                                                                                                                                                                                             |
| -------------------------------------------------------------------------------------------------------------- | ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| getUrl(productName: string, appId: string, endpointName?: string, endpointParameters?:Record<string, unknown>) | Observable<string>  | Constructs a valid url for a desired Application in context of the current Workspace. It is possible to use [Route](integration-interface.html#Route-object) endpoints to further customize an accessed resource.       |
| doesUrlExistFor(productName: string, appId: string, endpointName?: string)                                     | Observable<boolean> | Checks if a valid url exists for a desired Application in context of the current Workspace. It is possible to use [Route](integration-interface.html#Route-object) endpoints to further customize an accessed resource. |

OneCX integration-interface Library
====================
## [](#overview)Overview

`@onecx/integration-interface` library is a set of tools written in **Typescript** that enables communication between Microfrontends. The library can be used in any desired technology.

| |  For Angular-based applications, the [@onecx/angular-integration-interface](angular-integration-interface.html) library is available. It is a set of tools aiming to ease the development of Angular applications integrated with OneCX. For more information, please refer [here](angular-integration-interface.html). |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#topics)Topics

A Topic is a similar concept to an Observable. They operate on messages passed between UI Apps using browser memory. Each topic:

* has unique name
* has version
* can publish new message
* can be subscribed to and piped for handling new messages
* can be destroyed to prevent listening to new messages With multiple UI Apps having the same Topic instantiated (with the same name), they can communicate with each other based on the publisher-subscriber model. Whenever any Topic instance publishes new message, subscribers for all instances will read the message eventually allowing them to react on new information.

### [](#configuration-topic)Configuration Topic

Usage

Read information about the **platform configuration**.

Shell actions

The Shell loads configuration variables and publishes them to the Topic as the first message.

Data

**Config object** with string entries, where each entry represents a configuration variable:

```typescript
interface Config { [key: string]: string }
```

| |  For Angular-based applications, the [@onecx/angular-integration-interface offers an Injectable ConfigurationService service](angular-integration-interface.html#configuration-service) exposing functions useful when dealing with configuration management. This service is used by the Shell Application. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#current-mfe-topic)Current Mfe Topic

Usage

Read information about the **currently accessed Microfrontend**. The only publisher for this Topic should be the host Application (Shell).

Shell actions

On Route activation publishes information about accessed MFE.

Data

**MfeInfo object** describing currently accessed Microfrontend with the following structure:

__Table 1\. MfeInfo structure__
| Property name | Type   | Description                                                                                                                |
| ------------- | ------ | -------------------------------------------------------------------------------------------------------------------------- |
| appId         | string | Unique identifier of the Microfrontend.                                                                                    |
| baseHref      | string | Microfrontend’s base path within the current Workspace, i.e. '/workspace/mfe\_base\_path'.                                 |
| mountPath     | string | Microfrontend’s mount path containing Workspace and application base path, i.e. '/workspace/mfe\_base\_path'.              |
| productName   | string | Name of the Application currently accessed Microfrontend is part of.                                                       |
| remoteBaseUrl | string | Microfrontend’s remote URL to be used when accessing its content (remote entry file, assets, etc.), e.g. '/mfe/mfe\_name'. |
| shellName     | string | Name of the currently used shell, always 'portal'.                                                                         |
| displayName?  | string | Name for Microfrontend to display.                                                                                         |
| elementName?  | string | Name of the HTML element, Microfrontend’s module should be displayed in, e.g. 'mfe-component'.                             |
| remoteName?   | string | Name of the remote set up in Microfrontend’s webpack (Used for WebComponents integration within platform).                 |
| version?      | string | Version of the Microfrontend.                                                                                              |
| remote?       | string | Deprecated.                                                                                                                |

| |  For Angular based applications [@onecx/angular-integration-interface offers an Injectable AppStateService service](angular-integration-interface.html#app-state-service) exposing functions usefull when dealing with application state management. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

### [](#current-page-topic)Current Page Topic

Usage

Read information about the **currently accessed Page**. The only publisher for this Topic should be **PortalPageComponent(ocx-portal-page)**.

Shell actions

None

Important actions

When creating Microfrontend’s content, use **PortalPageComponent(ocx-portal-page)**. On its initialization, a new PageInfo message will be published based on data provided to the component via Inputs.

Data

**PageInfo object** describing currently accessed Page with the following structure:

__Table 2\. PageInfo structure__
| Property name  | Type   | Description                                                                                                                                                          |
| -------------- | ------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| path           | string | Complete path of the current Page containing Shell deployment path, Workspace base path and Microfrontend’s accessed path, e.g. '/shell/workspace/mfe/details/id-1'. |
| helpArticleId? | string | ID of help article associated with the Page.                                                                                                                         |
| pageName?      | string | Unique name of the Page.                                                                                                                                             |
| permission?    | string | Permission required to access Page content.                                                                                                                          |
| applicationId? | string | Deprecated.                                                                                                                                                          |

| |  For Angular based applications [@onecx/angular-integration-interface offers an Injectable AppStateService service](angular-integration-interface.html#app-state-service) exposing functions usefull when dealing with application state management. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

### [](#current-theme-topic)Current Theme Topic

Usage

Read information about the **currently applied Theme**. Writing new messages to this Topic will not change the current Theme applied to a page, which might cause inconsistency. If it is desired to change the current Theme, please consider using [Theme Service](angular-integration-interface.html#theme-service). For other technologies, make sure to apply the chosen Theme before publishing a new message to the Topic.

Shell actions

During Workspace construction, Shell is going to load and apply Theme assigned to the Workspace. That Theme’s information will also be published to the Topic.

Data

**Theme object** describing currently applied Theme with the following structure:

__Table 3\. Theme structure__
| Property name     | Type                                             | Description                                                                                                                                                                                                                                                                                                             |
| ----------------- | ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| description?      | string                                           | Description of the Theme.                                                                                                                                                                                                                                                                                               |
| faviconUrl?       | string                                           | ?                                                                                                                                                                                                                                                                                                                       |
| id?               | string                                           | Unique identifier of the Theme.                                                                                                                                                                                                                                                                                         |
| logoUrl?          | string                                           | URL to an external image to be used as Theme logo.                                                                                                                                                                                                                                                                      |
| name?             | string                                           | Name of the Theme                                                                                                                                                                                                                                                                                                       |
| properties?       | { \[key: string\]: { \[key: string\]: string } } | Object containing CSS variables used for currently applied theme. It contains an entry for each section in the Theme designer (Font, General, Topbar, Sidebar), where key is the section name and value is an object containing key value pairs representing a certain CSS variable value to be used for a given Theme. |
| assetsUpdateDate? | string                                           | Deprecated.                                                                                                                                                                                                                                                                                                             |
| assetsUrl?        | string                                           | Deprecated.                                                                                                                                                                                                                                                                                                             |
| cssFile?          | string                                           | Deprecated.                                                                                                                                                                                                                                                                                                             |
| previewImageUrl?  | string                                           | Deprecated.                                                                                                                                                                                                                                                                                                             |

| |  For Angular-based applications, the [@onecx/angular-integration-interface offers an Injectable ThemeService service](angular-integration-interface.html#theme-service) exposing functions useful when dealing with theme management. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#current-workspace-topic)Current Workspace Topic

Usage

Read information about the **currently accessed Workspace**. The only publisher for this Topic should be host Application (Shell).

Shell actions

During Workspace construction, Shell is going to publish its information to the Topic.

Data

**Workspace object** describing currently accessed Workspace with the following structure:

__Table 4\. Workspace structure__
| Property name              | Type                           | Description                                           |
| -------------------------- | ------------------------------ | ----------------------------------------------------- |
| baseUrl                    | string                         | Base URL of the Workspace, e.g. '/admin'.             |
| workspaceName              | string                         | Name of the Workspace used as reference.              |
| displayName?               | string                         | Name of the Workspace used for display.               |
| homePage?                  | string                         | Home page URL relative to Workspace, e.g. '/welcome'. |
| routes?                    | Array<[Route](#Route-object)\> | List of routes to Microfrontends for a Workspace.     |
| companyName?               | string                         | Deprecated.                                           |
| footerLabel?               | string                         | Deprecated.                                           |
| id?                        | string                         | Deprecated.                                           |
| logoUrl?                   | string                         | Deprecated.                                           |
| logoSmallImageUrl?         | string                         | Deprecated.                                           |
| portalRoles?               | string\[\]                     | Deprecated.                                           |
| themeId?                   | string                         | Deprecated.                                           |
| themeName?                 | string                         | Deprecated.                                           |
| portalName                 | string                         | Deprecated.                                           |
| description                | string                         | Deprecated.                                           |
| imageUrls                  | string\[\]                     | Deprecated.                                           |
| address                    | object                         | Deprecated.                                           |
| phoneNumber                | string                         | Deprecated.                                           |
| rssFeedUrl                 | string                         | Deprecated.                                           |
| subjectLinks               | object\[\]                     | Deprecated.                                           |
| microfrontendRegistrations | object\[\]                     | Deprecated.                                           |
| userUploaded               | boolean                        | Deprecated.                                           |

**Workspace object** contains a list of routes for registered Microfrontends. Each **Route** has the following structure:

__Table 5\. Route structure__
| Property name  | Type                              | Description                                                                                                                                                                                           |                                                   |
| -------------- | --------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------- |
| appId          | string                            | Unique identifier of the Microfrontend.                                                                                                                                                               |                                                   |
| baseUrl        | string                            | Microfrontend’s base path within the current workspace, i.e. '/workspace/mfe\_base\_path'.                                                                                                            |                                                   |
| displayName    | string                            | Name for Microfrontend to display.                                                                                                                                                                    |                                                   |
| elementName    | string                            | Name of the HTML element Microfrontend’s module should be displayed in, e.g. 'mfe-component'                                                                                                          |                                                   |
| endpoints      | Array<Endpoint>                   | Array of endpoints to be used by a Microfrontend to navigate to other MFEs safely. Each endpoint contains a name (string) and a path (string) that can be used when deciding on the URL of the pages. |                                                   |
| exposedModule  | string                            | Name of the exposed module to be loaded for a Microfrontend, e.g. './MfeModule'                                                                                                                       |                                                   |
| pathMatch      | 'full' \| 'prefix'                | Path matching strategy of a Route.                                                                                                                                                                    |                                                   |
| productName    | string                            | Name of the Application currently accessed Microfrontend is part of.                                                                                                                                  |                                                   |
| remoteEntryUrl | string                            | URL of the Microfrontend’s remote entry file, e.g. 'mfe/mfe\_base\_path/remoteEntry.js'.                                                                                                              |                                                   |
| remoteName     | string                            | Name of the remote set up in Microfrontend’s webpack (Used for WebComponents integration within platform).                                                                                            |                                                   |
| technology     | 'Angular' \| 'WebComponentScript' | 'WebComponentModule'                                                                                                                                                                                  | Technology used to expose Microfrontend’s module. |
| url            | string                            | Microfrontend’s remote URL to be used when accessing its content (remote entry file, assets, etc.), e.g. '/mfe/mfe\_name'.                                                                            |                                                   |

| |  For Angular based applications [@onecx/angular-integration-interface offers an Injectable AppStateService service](angular-integration-interface.html#app-state-service) exposing functions usefull when dealing with application state management. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

### [](#events-topic)Events Topic

Usage

Write and read information about the **custom events within the platform**. Useful whenever it is desired to exchange information between Apps and no Topic has been created for that purpose.

Shell actions

Shell is using EventsTopic to sync its router with navigation events happening in Microfrontend’s routers ([side effect of using webcomponent loading mechanism](#latest@docs:general:implementation-details/mfe-content-loading/webcomponents.adoc#angular-issues)). The following event is used to exchange all navigation events within the OneCX platform:

```typescript
type NavigatedEvent = {
    type: 'navigated';
    payload: NavigatedEventPayload;
};
type NavigatedEventPayload = {
    url: string | undefined;
    isFirst: boolean;
};
```

Data

**Object** containing a type (to distinguish messages) and payload:

```typescript
type TopicEvent Type = { type: string; payload?: unknown | undefined }
```

### [](#global-error-topic)Global Error Topic

Usage

Write and read information about the **global errors within the platform**.

Shell actions

Shell will display the errors published to this Topic in a designated place, regardless of the Microfrontend loaded.

Data

**String** containing information about the global error raised within the platform.

| |  For Angular based applications [@onecx/angular-integration-interface offers an Injectable AppStateService service](angular-integration-interface.html#app-state-service) exposing functions usefull when dealing with application state management. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

### [](#global-loading-topic)Global Loading Topic

Usage

Write and read information about the **global loading happening within the platform**.

Shell actions

Shell sets the global loading indicator for the remote content loading period.

Data

**Boolean** indicating whether global loading is happening or not.

| |  For Angular based applications [@onecx/angular-integration-interface offers an Injectable AppStateService service](angular-integration-interface.html#app-state-service) exposing functions usefull when dealing with application state management. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

### [](#is-authenticated-topic)Is Authenticated Topic

Usage

Wait for an **authentication indicator**, do certain actions. Whenever this topic is initialized, Microfrontend’s content can assume that the user accessing the page is authenticated.

Shell actions

Shell uses AuthService from the `@onecx/angular-auth` library for authentication. During Shell initialization (via APP\_INITIALIZER), AuthService is initialized. On successful initialization, the message is published to the Topic.

Data

**Empty**

| |  For Angular based applications [@onecx/angular-integration-interface offers an Injectable AppStateService service](angular-integration-interface.html#app-state-service) exposing functions usefull when dealing with application state management. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

### [](#message-topic)Message Topic

Usage

Write **messages to be displayed in an overlay on the top of the page**. Useful when it is desired to inform about a certain event happening via a message displayed for a short period of time. Publish a new message to display it.

Shell actions

Shell will listen to messages published via this Topic and will display the message in a designated place.

Data

**Message object** describing message to be displayed with the following structure:

| |  **Message object** structure is based on the [PrimeNG Toast API](https://primeng.org/toast), which is used internally to display messages. |
| --------------------------------------------------------------------------------------------------------------------------------------------- |

| |  For Angular-based applications, the [@onecx/angular-integration-interface offers an Injectable PortalMessageService service](angular-integration-interface.html#portal-message-service) exposing functions useful when dealing with displaying messages. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#permissions-topic)Permissions Topic

Usage

Read **user’s permissions related to current Microfrontend**. The only publisher for this Topic should be the host Application (Shell).

Shell actions

On Route activation publishes information about permissions related to the accessed MFE.

Data

**Array<string>**, each representing user’s permission.

| |  For Angular-based applications, the [@onecx/angular-integration-interface offers an Injectable UserService service](angular-integration-interface.html#user-service) exposing functions useful when dealing with user related data. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#permissions-rpc-topic)Permissions Rpc Topic

Usage

Read the **user’s permissions related to any Application**. Useful when it is desired to check if permission not related to the the current Microfrontend is met for current User (e.g., used for Remote Components). This topic should be used in a request-response fashion. Request messages should have the `permissions` property undefined and should be made by the Microfrontend containing Applications. Response messages will have the `permissions` property defined (`Array<string>`) and should be made by the Shell Application.

Shell actions

Shell is listening to new messages published in the Topic. Whenever a message with the `permissions` property set to `undefined` is read by the Shell, it fetches permissions for the current user related to the requested Application.

Data

**PermissionsRpc object** includes requested Application information and permissions with the following structure:

__Table 6\. PermissionsRpc structure__
| Property name | Type          | Description                                                                                                 |
| ------------- | ------------- | ----------------------------------------------------------------------------------------------------------- |
| appId         | string        | Unique identifier of the Microfrontend.                                                                     |
| productName   | string        | Name of the Application (Microfrontend is part of).                                                         |
| permissions?  | Array<string> | Permissions for the current user regarding provided Application Data. Data filled by the Shell Application. |

| |  For Angular-based applications, the @onecx/angular-remote-components offers an Injectable PermissionService service exposing functions useful when dealing with permission management for Remote Components. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#remote-components-topic)Remote Components Topic

Usage

Read **currently accessed Workspace Remote Components data**. The only publisher for this Topic should be the host Application (Shell).

Shell actions

During Workspace construction, Shell is going to publish information about available Slots and Components to the Topic in the context of the currently accessed Workspace.

Data

**RemoteComponentsInfo object** describing available Remote Components and Slots with the following structure:

__Table 7\. RemoteComponentsInfo structure__
| Property name | Type                                           | Description                                 |
| ------------- | ---------------------------------------------- | ------------------------------------------- |
| components    | [RemoteComponent](#RemoteComponent-object)\[\] | Registered Remote Components for Workspace. |
| slots         | [Slot](#Slot-object)\[\]                       | Registered Slots for Workspace.             |

**RemoteComponent object** describing Remote Component with the following structure:

__Table 8\. RemoteComponent structure__
| Property name  | Type                              | Description                                                                                                                                 |                                             |
| -------------- | --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| name           | string                            | Unique name of a Remote Component.                                                                                                          |                                             |
| baseUrl        | string                            | URL of the Remote Component’s Microfrontend to be used when accessing its content (remote entry file, assets, etc.), e.g. '/mfe/mfe\_name'. |                                             |
| remoteEntryUrl | string                            | URL of the Remote Component’s Microfrontend remote entry file, e.g. 'mfe/mfe\_base\_path/remoteEntry.js'.                                   |                                             |
| appId          | string                            | Unique identifier of the Remote Component’s Microfrontend.                                                                                  |                                             |
| productName    | string                            | Name of the Application currently accessed Remote Component’s Microfrontend is part of.                                                     |                                             |
| exposedModule  | string                            | Name of the exposed Remote Component to be loaded, e.g. './MfeRemoteComponent'.                                                             |                                             |
| remoteName     | string                            | Name of the remote set up in Remote Component’s Microfrontend webpack (Used for WebComponents integration within platform).                 |                                             |
| technology     | 'Angular' \| 'WebComponentScript' | 'WebComponentModule'                                                                                                                        | Technology used to expose Remote Component. |

**Slot** object describing Slot with the following structure:

__Table 9\. Slot structure__
| Property name | Type          | Description                                              |
| ------------- | ------------- | -------------------------------------------------------- |
| name          | string        | Name of the Slot.                                        |
| components    | Array<string> | List of Remote Component names registered for this Slot. |

| |  For Angular-basedAngular-based applications, it’s best to utilize the @onecx/angular-remote-components library offering an Injectable SlotService service and SlotComponent useful for working with Remote Components. Those offerings are based on the Remote Components Topic. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#user-profile-topic)User Profile Topic

Usage

Read **current User information**. The only publisher for this Topic should be the host Application (Shell).

Shell actions

During Workspace construction, Shell is going to load and publish information about the current User to the Topic.

Data

**UserProfile object** describing current User with the following structure:

__Table 10\. UserProfile structure__
| Property name       | Type                                                             | Description                                          |
| ------------------- | ---------------------------------------------------------------- | ---------------------------------------------------- |
| person              | [UserPerson](#UserPerson-object)                                 | User personal information.                           |
| userId              | string                                                           | User ID in OneCX platform.                           |
| accountSettings?    | [UserProfileAccountSettings](#UserProfileAccountSettings-object) | User’s account settings.                             |
| organization?       | string                                                           | Name of the User’s organization.                     |
| tenantId?           | string                                                           | Id of the User’s tenant.                             |
| avatar?             | AvatarInfo                                                       | Deprecated.                                          |
| id?                 | string                                                           | Deprecated. Use userId instead.                      |
| identityProvider?   | string                                                           | Deprecated.                                          |
| identityProviderId? | string                                                           | Deprecated.                                          |
| memberships?        | Array<Membership>                                                | Deprecated.                                          |
| tenantName?         | string                                                           | Deprecated. Use tenantId to determine user’s tenant. |

**UserPerson object** describing current User’s personal info with the following structure:

__Table 11\. UserPerson structure__
| Property name | Type                                           | Description          |
| ------------- | ---------------------------------------------- | -------------------- |
| firstName?    | string                                         | User’s first name.   |
| lastName?     | string                                         | User’s last name.    |
| displayName?  | string                                         | User’s display name. |
| email?        | string                                         | User’s email.        |
| address?      | [UserPersonAddress](#UserPersonAddress-object) | User’s address.      |
| phone?        | [UserPersonPhone](#UserPersonPhone-object)     | User’s phone.        |

**UserPersonAddress object** describing current User’s address info with the following structure:

__Table 12\. UserPersonAddress structure__
| Property name | Type   | Description           |
| ------------- | ------ | --------------------- |
| street?       | string | User’s street name.   |
| streetNo?     | string | User’s street number. |
| city?         | string | User’s city.          |
| postalCode?   | string | User’s postal code.   |
| country?      | string | User’s country.       |

**UserPersonPhone object** describing current User’s phone info with the following structure:

__Table 13\. UserPersonPhone structure__
| Property name | Type                   | Description          |
| ------------- | ---------------------- | -------------------- |
| type?         | 'MOBILE' \| 'LANDLINE' | User’s phone type.   |
| number?       | string                 | User’s phone number. |

**UserProfileAccountSettings object** describing current User’s account settings with the following structure:

__Table 14\. UserProfileAccountSettings structure__
| Property name           | Type                                                                                                         | Description                      |
| ----------------------- | ------------------------------------------------------------------------------------------------------------ | -------------------------------- |
| layoutAndThemeSettings? | [UserProfileAccountSettingsLayoutAndThemeSettings](#UserProfileAccountSettingsLayoutAndThemeSettings-object) | User’s layout and theme settings |
| localeAndTimeSettings?  | [UserProfileAccountSettingsLocaleAndTimeSettings](#UserProfileAccountSettingsLocaleAndTimeSettings-object)   | User’s locale and time settings. |
| notificationSettings?   | [UserProfileAccountSettingsNotificationSettings](#UserProfileAccountSettingsNotificationSettings-object)     | Deprecated.                      |
| privacySettings?        | [UserProfileAccountSettingsPrivacySettings](#UserProfileAccountSettingsPrivacySettings-object)               | Deprecated.                      |

**UserProfileAccountSettingsLayoutAndThemeSettings object** describing current User’s layout and theme settings with the following structure:

__Table 15\. UserProfileAccountSettingsLayoutAndThemeSettings structure__
| Property name | Type                     | Description |                            |            |                         |
| ------------- | ------------------------ | ----------- | -------------------------- | ---------- | ----------------------- |
| menuMode?     | 'HORIZONTAL' \| 'STATIC' | 'OVERLAY'   | 'SLIM'                     | 'SLIMPLUS' | Menu mode set for User. |
| colorScheme?  | 'AUTO' \| 'LIGHT'        | 'DARK'      | Color scheme set for User. |            |                         |

**UserProfileAccountSettingsLocaleAndTimeSettings object** describing current User’s locale and time settings with the following structure:

__Table 16\. UserProfileAccountSettingsLocaleAndTimeSettings structure__
| Property name | Type   | Description      |
| ------------- | ------ | ---------------- |
| locale?       | string | User’s locale.   |
| timezone?     | string | User’s timezone. |

| |  For Angular-based applications, the [@onecx/angular-integration-interface offers an Injectable UserService service](angular-integration-interface.html#user-service) exposing functions useful when dealing with user related data. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Migrate to OneCX version 6
====================
## [](#migration-checklist)Migration checklist

* General changes  
   * [Remove @onecx/keycloak-auth](#removed-packages)  
   * [Remove @onecx/portal-layout-styles](#removed-packages)  
   * [Remove @onecx/portal-integration-interface](#removed-packages)  
   * [Update required packages](#update-packages)  
   * [Update application styles](#styles-update)  
   * [Replace PortalCoreModule](#replace-portal-core-module)  
   * [Check deleted components](#deleted-components)  
   * [Adjust standalone mode usage](#standalone-mode)  
   * [Update FilterType usage](#filter-type)  
   * [Update ThemeService usage](#theme-service)  
   * [Update ConfigurationService usage](#configuration-service)  
   * [Replace BASE\_URL injection token](#base-url)  
   * [Remove singleton:true from angular packages in webpack](#angular-in-webpack)  
   * [Move translation related providers to bootstrap.ts for Remote Components](#translation-bootstrap)  
   * [Remove addInitializeModuleGuard()](#removed-add-initialize-guard)
* PrimeNg related changes  
   * [Add new plugin to webpack config](#primeng-new-plugin)  
   * [Provide theme configuration for Microfrontends and Remote Components](#theme-config)
* Angular material related changes  
   * [Add new plugin to webpack config](#material-new-plugin)

## [](#general-changes)General changes

### [](#removed-packages)Removed packages

In the version 6 of OneCX the following packages are no longer available:

* **@onecx/keycloak-auth**
* **@onecx/portal-layout-styles**
* **@onecx/portal-integration-interface**

#### [](#portal-layout-styles-removal)Portal Layout Styles Removal

Since version 6 of OneCX `@onecx/portal-layout-styles` library is no longer available. The library should not be used anymore and every application should make sure to [update application styles](#styles-update).

#### [](#portal-integration-angular)Portal Integration Angular Removal

Since version 6 of OneCX, the `@onecx/portal-integration-angular` library is no longer available. The list of features that are still supported in other libraries and alternative solutions can be found in the [removed from @onecx/portal-integration-interface](#removed-from-integration-angular) section. It is important to [replace PortalCoreModule](#replace-portal-core-module) if used in the application to preserve existing functionality.

### [](#update-packages)Update required packages

Please, alongside @angular and @onecx package upgrades, make sure to update the following packages to avoid potential issues:

| Package                    | Required version |
| -------------------------- | ---------------- |
| @ngx-translate/core        | ^16.0.0          |
| @ngx-translate/http-loader | ^8.0.0           |
| ngx-build-plus             | ^19.0.0          |

### [](#styles-update)Update application styles

Please, make sure to **remove @onecx/portal-layout-styles and @onecx/portal-integration-interface references from application styles**.

Since version 6 styles from @onecx/portal-layout-styles will no longer be available globally on a page. **Please, make sure that your application does not use any styles (css classes, animations, etc.) defined by portal-layout-styles**. In case it does, you will need to implement those in your application.

The only css styles available for each application since version 6:

* styles exposed via app\_url/styles.css file (where app\_url is a url to the deployed application)
* component styles defined in the application (styles defined for each component inside the application)
* PrimeNG component styles (only if the application uses primeNG)

#### [](#expose-styles-on-top-level)Expose styles.css on top level

In case if your application needs to share styles between components you should make sure to **expose styles.css file. Shell will assume that this file is called styles.css and is exposed on the top level of your deployed application**. In order to make sure this is done properly, we are recommending to update the project configuration with the following config:

project.json or angular.json

```none
...
"styles": [
  {
    "input": "./src/styles.scss",
    "bundleName": "styles",
    "inject": true
  }
]
...
```

The snippet above assumes that the exposed style sheet is in **src/styles.scss**. Setting the **inject** property to **true** might lead to hashing, meaning the exposed file would be called **styles.HASH.css**, where **HASH** is a generated hash value during the project building. If this applies to your application, make sure to adjust the exposal so the hash is not included.

### [](#replace-portal-core-module)Replace PortalCoreModule

If your application was using **PortalCoreModule** from **@onecx/portal-integration-angular**, you should replace all occurrences with **AngularAcceleratorModule** from **@onecx/angular-accelerator**. This will make sure that all components and directives are working.

### [](#deleted-components)Check deleted components

Some components will be removed. Please check if you are using following components:

#### [](#removed-from-angular-accelerator)Removed from @onecx/angular-accelerator

* createRemoteComponentTranslateLoader
* createRemoteComponentAndMfeTranslateLoader  
⇒ **Use createTranslateLoader with remoteComponentTranslationPathFactory from @onecx/angular-utils**
* createTranslateLoader  
⇒ **Use createTranslateLoader with translationPathFactory from @onecx/angular-utils**
* HasPermissionChecker
* AlwaysGrantPermissionChecker
* TranslationCacheService
* AsyncTranslateLoader
* CachingTranslateLoader
* TranslateCombinedLoader
* HAS\_PERMISSION\_CHECKER (injection token)  
⇒ **Import from @onecx/angular-utils**
* DataLoadingErrorComponent (ocx-data-loading-error)
* isValidDate  
⇒ **Removed from the library**

#### [](#removed-from-angular-integration-interface)Removed from @onecx/angular-integration-interface

* provideAppServiceMock  
⇒ **Use provideAppStateServiceMock**
* IAuthService
* AUTH\_SERVICE (injection token)  
⇒ **Removed from the library**

#### [](#removed-from-angular-remote-components)Removed from @onecx/angular-remote-components

* BASE\_URL (injection token)  
⇒ **Use REMOTE\_COMPONENT\_CONFIG from @onecx/angular-utils**

#### [](#removed-from-integration-angular)Removed from @onecx/portal-integration-angular

* PortalCoreModule  
⇒ **This module has to be [replaced by AngularAcceleratorModule](#replace-portal-core-module)**
* ColumnGroupSelectionComponent (ocx-column-group-selection)
* CustomGroupColumnSelectorComponent (ocx-custom-group-column-selector)
* DataLayoutSelectionComponent (ocx-data-layout-selection)
* DataListGridComponent (ocx-data-list-grid)
* DataListGridSortingComponent (ocx-data-list-grid-sorting)
* DataTableComponent (ocx-data-table)
* DataViewComponent (ocx-data-view)
* DiagramComponent (ocx-diagram)
* FilterViewComponent (ocx-filter-view)
* GroupByCountDiagramComponent (ocx-group-by-count-diagram)
* InteractiveDataViewComponent (ocx-interactive-data-view)
* LifecycleComponent (ocx-lifecycle)
* PageHeaderComponent (ocx-page-header)
* SearchHeaderComponent (ocx-search-header)
* DialogMessageContentComponent
* DialogInlineComponent (ocx-dialog-inline)
* DialogFooterComponent (ocx-dialog-footer)
* DialogContentComponent (ocx-dialog-content )
* GlobalErrorComponent (ocx-error)
* LoadingIndicatorComponent (ocx-loading-indicator)
* LoadingIndicatorDirective (ocxLoadingIndicator)
* BasicDirective (ocxBasic)
* RelativeDatePipe (relativeDate)
* AdvancedDirective (ocxAdvanced)
* OcxContentContainerDirective (ocxContentContainer)
* OcxContentDirective (ocxContent)
* IfBreakpointDirective (ocxIfBreakpoint)
* IfPermissionDirective (ocxIfPermission, ocxIfNotPermission)
* SrcDirective (ocxSrc)
* TooltipOnOverflowDirective (ocxTooltipOnOverflow)
* ExportDataService
* PortalDialogService
* ImageLogoUrlUtils
* DialogContentHarness
* DialogFooterHarness
* DialogInlineHarness
* DialogMessageContentHarness  
⇒ **These components are now in @onecx/angular-accelerator**
* PortalPageComponent (ocx-portal-page)

⇒ **These components are now in @onecx/angular-utils**

* PortalFooterComponent (portal-footer )
* PortalHeaderComponent (portal-header)
* PortalViewportComponent (portal-viewport)  
⇒ **These components are now in @onecx/shell-core**
* PortalMenuComponent (portal-menu)
* PortalMenuHorizontalComponent (portal-menu-horizontal)
* AppInlineProfileComponent (inline-profile)  
⇒ **They are now remote components in onecx-workspace-ui**
* AnnouncementBannerComponent (ocx-announcement-banner)
* AnnouncementsApiService  
⇒ **Now remote components in onecx-announcement-ui**
* HelpItemEditorComponent (ocx-help-item-editor)
* NoHelpItemComponent (ocx-no-help-item)
* HelpPageAPIService  
⇒ **Now remote components in onecx-help-ui**
* UserAvatarComponent (ocx-user-avatar)
* UserProfileAPIService  
⇒ **Now remote components in onecx-user-profile-ui**
* DataViewControlsComponent (ocx-data-view-controls)  
⇒ **Consider using the InteractiveDataViewComponent (ocx-interactive-data-view) from @onecx/angular-accelerator**
* PageContentComponent (ocx-page-content)  
⇒ **Consider using the OcxContentComponent (ocx-content) or OcxContentContainerComponent (ocx-content-container) from @onecx/angular-accelerator**
* SearchCriteriaComponent (ocx-search-criteria)
* CriteriaTemplateComponent (ocx-criteria-template)  
⇒ **Consider using the SearchHeaderComponent (ocx-search-header) from @onecx/angular-accelerator**
* standaloneInitializer  
⇒ **Use standalone mode instead [Documentation](../../angular/cookbook/migrations/enable-standalone/index.html)**
* ButtonDialogComponent(ocx-button-dialog)  
⇒ **This component should be replaced by ocx-dialog-inline in @onecx/angular-accelerator**
* MenuService  
⇒ **If someone wants to load menu item they should create an endpoint in the BFF of the own app and create their own function.**

Every other feature that is not mentioned was removed and is no longer supported.

#### [](#removed-from-ngrx-accelerator)Removed from @onecx/ngrx-accelerator

* filterForOnlyQueryParamsChanged  
⇒ **Use filterOutOnlyQueryParamsChanged**
* filterForQueryParamsChanged  
⇒ **Use filterOutQueryParamsHaveNotChanged**

#### [](#removed-from-shell-core)Removed from @onecx/shell-core

* PortalFooterComponent (ocx-shell-footer)  
⇒ **Now remote component in onecx-workspace-ui**

## [](#standalone-mode)Adjust Standalone Mode

In version 6 of OneCX **@onecx/standalone-shell** library has been renamed to **@onecx/angular-standalone-shell**. Please, make sure that all imports, package.json and webpack config are adjusted accordingly.

Additionally, since version 6, apart from **StandaloneShellModule** import it is required to add **provideStandaloneProviders** in the standalone module providers array. Please, make sure to adjust the standalone module.

updated-app-standalone.module.ts example

```none
import { StandaloneShellModule, provideStandaloneProviders } from '@onecx/angular-standalone-shell'
...
@NgModule({
    imports: [StandaloneShellModule]
    providers: [
        provideStandaloneProviders()
    ]
}) export class AppModule {}
```

### [](#filter-type)FilterType values changes

Please, make sure to update `FilterType` usage:

* `FilterType.EQUAL` → `FilterType.EQUALS`
* `FilterType.TRUTHY` → `FilterType.IS_NOT_EMPTY`

### [](#configuration-service)Check usage of ConfigurationService

ConfigurationService (@onecx/angular-integration-interface) is now asynchronous. Please check if usage needs to be adapted.

### [](#theme-service)ThemeService removed functionality

ThemeService in version 6 should **only be used to access the currentTheme** via `currentTheme$` property. The following have been removed:

* `baseUrlV1` property
* `getThemeRef` function
* `loadAndApplyTheme` function
* `apply` function

Please, make sure that those methods are no longer used.

### [](#base-url)BASE\_URL injection token

`BASE_URL` injection token should no longer be used, instead please use `REMOTE_COMPONENT_CONFIG`

### [](#angular-in-webpack)Adjust angular packages in webpack

Make sure that all angular packages **do not have `singleton: true` set in webpack.config.js**.

### [](#translation-bootstrap)Move translation providers to bootstrap.ts for Remote Components

For each Remote Component translation related providers are required to be defined in the bootstrap.ts instead of the component.ts file.

remote-component.bootstrap.ts

```none
import { bootstrapRemoteComponent } from '@onecx/angular-webcomponents'
import {
  REMOTE_COMPONENT_CONFIG,
  RemoteComponentConfig,
  provideTranslateServiceForRoot
} from '@onecx/angular-remote-components'
import { TranslateLoader } from '@ngx-translate/core'
import { ReplaySubject } from 'rxjs'
import { createTranslateLoader, remoteComponentTranslationPathFactory, provideTranslationPathFromMeta } from '@onecx/angular-utils'

bootstrapRemoteComponent(RemoteComponent, 'ocx-my-remote-component', environment.production, [
  ...
  { provide: REMOTE_COMPONENT_CONFIG, useValue: new ReplaySubject<RemoteComponentConfig>(1) },
  provideTranslateServiceForRoot({
    isolate: true,
    loader: {
      provide: TranslateLoader,
      useFactory: createTranslateLoader,
      deps: [HttpClient]
    }
  }),
  provideTranslationPathFromMeta(import.meta.url, 'assets/i18n/')
])
```

| |  If the error "Cannot construct translation path from local file path. Please check whether the webpack configuration for importMeta is correct: [https://webpack.js.org/configuration/module/#moduleparserjavascriptimportmeta"](https://webpack.js.org/configuration/module/#moduleparserjavascriptimportmeta)appears, it means either the provider is used in the application and import.meta.url incorrectly resolves to a local file:// path. or the application does not use provideTranslationPathFromMeta, but is likely using a newer Angular version than the shell or preloader. In this case, modules are loaded from the app’s context, which also leads to a local file:// prefix. To fix this, this line has to be added to module.exports in the webpack.config.js: webpack.config.ts module.exports = {  ...   module: { parser: { javascript: { importMeta: false } } }, } |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#removed-add-initialize-guard)Remove addInitializeModuleGuard()

With the removal of addInitializeModuleGuard(), the translations will be provided by the TranslationConnectionService. Please add the provideTranslationConnectionService() in the provider of your .module.ts.

If you already import AngularAcceleratorModule, then it is not necessary, because it is already added there.

## [](#primeng-related-changes)PrimeNG related changes

### [](#primeng-new-plugin)Add required plugin to webpack config (will be changed to OneCX plugin)

Since version 6 it’s required to add the following plugin to the webpack configuration of the application.

Webpack plugin snippet

```none
const { ModifySourcePlugin, ReplaceOperation } = require('modify-source-webpack-plugin')
...
const modifyPrimeNgPlugin = new ModifySourcePlugin({
  rules: [
    {
      test: (module) => {
        return module.resource && module.resource.includes('primeng')
      },
      operations: [
        new ReplaceOperation(
          'all',
          'document\\.createElement\\(([^)]+)\\)',
          'document.createElementFromPrimeNg({"this": this, "arguments": Array.from(arguments), element: $1})'
        ),
        new ReplaceOperation('all', 'Theme.setLoadedStyleName', '(function(_){})')
      ]
    }
  ]
})
module.exports = {
  ...webpackConfig,
  plugins: [...plugins, modifyPrimeNgPlugin]
}
```

### [](#theme-config)Provide ThemeConfig

Since version 6 of OneCX it is required to add an additional provider to the Microfrontends and Remote Components.

mfe.remote.module.ts

```none
import { provideThemeConfig } from '@onecx/angular-utils'
...
@NgModule({
    providers: [
        provideThemeConfig()
    ]
}) export class MyMfe {}
```

remote-component.bootstrap.ts

```none
import { provideThemeConfig } from '@onecx/angular-utils'

bootstrapRemoteComponent(RemoteComponent, 'my-remote-component', environment.production, [
  provideThemeConfig()
])
```

#### [](#theme-overrides)Provide theme overrides

The new theming system introduced in version 6 of OneCX is based on PrimeNG’s theming mechanism. However, in OneCX it is possible to style the content differently per Application. The mechanism that allows that is called theme overrides.

Each Mfe or Remote Component can specify their overrides that will guarantee that certain styles are applied differently than in other applications on the page. Here is an example of how to provide overrides.

```none
provideThemeConfig({
  overrides: {
    semantic: {
      extend: {
        onecx: {
          secondaryColor: 'red'
        },
      },
      focusRing: {
        width: '2px',
        style: 'solid',
        color: '{primary.color}',
        offset: '0px',
        shadow: 'none',
      },
    }
  }
})
```

In this example:

* the **secondary color** theme variable is changed
* the **default focus highlight** is changed

More about what and how to override can be found in [theming documentation](../../angular/cookbook/theming.html).

## [](#material-related-changes)Angular Material related changes

### [](#material-new-plugin)Add required plugin to webpack config (will be changed to OneCX plugin)

Since version 6 it’s required to add the following plugin to the webpack configuration of the application.

Webpack plugin snippet

```none
const { ModifySourcePlugin, ReplaceOperation } = require('modify-source-webpack-plugin')
...
const modifyMaterialPlugin = new ModifySourcePlugin({
  rules: [
    {
      test: (module) => {
        return (
          module.resource &&
          (module.resource.includes("@angular/material") ||
            module.resource.includes("@angular/cdk"))
        );
      },
      operations: [
        new ReplaceOperation(
          "all",
          "document\\.createElement\\(",
          'document.createElementFromMaterial({"this": this, "arguments": Array.from(arguments)},',
        ),
      ],
    }
  ]
})
module.exports = {
  ...webpackConfig,
  plugins: [...plugins, modifyMaterialPlugin]
}
```

## [](#further-considerations)Further considerations

### [](#angular-19-further-changes)Angular 19 changes

Make sure to adjust the Application to the Angular 19 requirements. Based on the implementation there could be changes required to be made to ensure compatibility.

### [](#primeng-19-further-changes)PrimeNG 19 changes

If the migrated Application uses PrimeNG components, please make sure to adjust the implementation according to the PrimeNG 19 requirements and API changes.

OneCX PortalDialogService
====================
## [](#overview)Overview

This document aims to showcase how to manage dialogs using OneCX libraries.

## [](#importing-portal-dialog-service)Importing PortalDialogService

To properly use PortalDialogService, please import it via the `providePortalDialogService` in your **remote module definition**.

Provide PortalDialogService via the providers array

```javascript
import {
  providePortalDialogService
} from '@onecx/portal-integration-angular';

...
providers: [
    providePortalDialogService(),
]
...
```

| |  Please, make sure that providePortalDialogService is used in in the **remote module’s providers array** or in **remote component’s providers array** (in case of standalone components usage). That way it will be accessible for all feature modules of the application. |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Inject PortalDialogService via constructor

```javascript
import {
  PortalDialogService
} from '@onecx/portal-integration-angular';

export class MyClass() {
    constructor() {
        private portalDialogService: PortalDialogService
    }
}
```

## [](#basic-usage)Basic Usage

To open the dialog use the `openDialog` method of the PortalDialogService. It returns an `Observable`, so make sure that the **call is subscribed to**.

| |  Please, make sure to unsubscribe in case of directly subscribing for an openDialog call. |
| ------------------------------------------------------------------------------------------- |

__Table 1\. openDialog method arguments__
| Property name                           | Type                                        | Description                                                                                       |                |               |                                                                                                                             |
| --------------------------------------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------- | -------------- | ------------- | --------------------------------------------------------------------------------------------------------------------------- |
| title                                   | TranslationKey \| null                      | Translation key for dialog title.                                                                 |                |               |                                                                                                                             |
| componentOrMessage                      | Type<any> \| Type<DialogResult<T>>          | Component<T>                                                                                      | TranslationKey | DialogMessage | Either a component or a translation key of a message with optional parameters and icon to be displayed next to the message. |
| primaryButtonTranslationKeyOrDetails    | TranslationKey \| ButtonDialogButtonDetails | Translation key with optional parameters and icon to be displayed next to the text of the button. |                |               |                                                                                                                             |
| secondaryButtonTranslationKeyOrDetails? | TranslationKey \| ButtonDialogButtonDetails | Translation key with optional parameters and icon to be displayed next to the text of the button. |                |               |                                                                                                                             |
| extras?                                 | PortalDialogConfig                          | Configuration object allowing for customization of the dialog behavior and visual aspects.        |                |               |                                                                                                                             |

Display dialog with message

```javascript
this.portalDialogService.openDialog('TITLE_KEY', 'MESSAGE_KEY', 'PRIMARY_BUTTON_KEY', 'SECONDARY_BUTTON_KEY').subscribe((stateOnClose) => {
  // operations when dialog has been closed
})
```

Display dialog with component

```javascript
@Component({template: `<div>MyComponentTemplate</div>`})
class MyComponent {}

this.portalDialogService.openDialog('TITLE_KEY', MyComponent, 'PRIMARY_BUTTON_KEY', 'SECONDARY_BUTTON_KEY').subscribe((stateOnClose) => {
  // operations when dialog has been closed
})
```

Display dialog with component with inputs

```javascript
⁣@Component({template: `<div>{{content | translate}}</div>`})
class MyComponent {
    @Input() content: string = ''
}

this.portalDialogService.openDialog('TITLE_KEY', { type: MyComponent, inputs: { content: 'CONTENT_KEY'}}, 'PRIMARY_BUTTON_KEY', 'SECONDARY_BUTTON_KEY').subscribe((stateOnClose) => {
  // operations when dialog has been closed
})
```

## [](#advanced-usage)Advanced Usage

### [](#control-dialog-result)Control Dialog Result

If its desired to extend the result of the dialog, implement the `DialogResult` interface on the component displayed inside the dialog.

DialogResult component example

```javascript
@Component({template: `<div>
<input (change)="onInputChange($event)">
</div>`})
export class MyComponent implements DialogResult<string> {
  dialogResult: string = ''
  onInputChange(event: any) {
    this.dialogResult = event.target.value
  }
}

portalDialogService.openDialog<string>('TITLE_KEY', { type: MyComponent }, 'PRIMARY_KEY', 'SECONDARY_KEY').subscribe((result: DialogState<string>) => {
// result.value === MyComponent.dialogResult (during button click)
// behavior when dialog closes
})
```

### [](#control-dialog-button-click-events)Control Dialog Button Click Events

If its desired to validate the dialog state prior to closing the dialog, implement the `DialogButtonClicked` interface on the component displayed inside the dialog.

The `ocxDialogButtonClicked` method is called every time a primary, secondary or custom button was clicked. The method should return a boolean value (boolean, Observable<boolean>, Promise<boolean>) that determines if the dialog should be closed.

The `DialogState` argument of `ocxDialogButtonClicked` method will contain information about the clicked button. Additionally, for components implementing `DialogResult` interface, it will also contain the dialog state captured on the button click event.

Validate

```javascript
@Component({template: `<div>
<input (change)="onInputChange($event)">
</div>`})
class MyComponent implements DialogButtonClicked, DialogResult<string> {
  dialogResult: string = ''
  onInputChange(event: any) {
    this.dialogResult = event.target.value
  }

  ocxDialogButtonClicked(state: DialogState<unknown>) {
    if (state.button === 'primary') {
      // behavior on primary button click returning boolean value
      // close dialog if call was successful
      return this.service.post(state.result).pipe(map(response) => {
        return response !== undefined
      })
    } else if (state.button === 'secondary') return false // don't close dialog on secondary button click

    return false
  }
}

portalDialogService.openDialog<string>('TITLE_KEY', { type: MyComponent }, 'PRIMARY_KEY', 'SECONDARY_KEY').subscribe(() => {
// behavior when dialog closes
})
```

### [](#control-dialog-button-enablement)Control Dialog Button Enablement

If its desired to enable the dialog buttons based on the component’s state, implement the `DialogPrimaryButtonDisabled`, `DialogSecondaryButtonDisabled` or `DialogCustomButtonsDisabled` interface on the component displayed inside the dialog.

When interface is implemented by the component, the **respective buttons are disabled by default**.

DialogPrimaryButtonDisabled component example

```javascript
@Component({template: `<div>content</div>`})
export class MyComponent implements DialogPrimaryButtonDisabled {
    // emit true/false to enable/disable primary button
    @Output() primaryButtonEnabled: EventEmitter<boolean> = new EventEmitter()
}

portalDialogService.openDialog('TITLE_KEY', { type: MyComponent }, 'PRIMARY_KEY', 'SECONDARY_KEY').subscribe(() => {
// behavior when dialog closes
})
```

DialogSecondaryButtonDisabled component example

```javascript
@Component({template: `<div>content</div>`})
export class MyComponent implements DialogSecondaryButtonDisabled {
    // emit true/false to enable/disable secondary button
    @Output() secondaryButtonEnabled: EventEmitter<boolean> = new EventEmitter()
}

portalDialogService.openDialog('TITLE_KEY', { type: MyComponent }, 'PRIMARY_KEY', 'SECONDARY_KEY').subscribe(() => {
// behavior when dialog closes
})
```

DialogCustomButtonsDisabled component example

```javascript
@Component({template: `<div>content</div>`})
export class MyComponent implements DialogCustomButtonsDisabled {
    // emit true/false to enable/disable secondary button
    // id - id of the custom button to be enabled/disabled
    @Output() customButtonEnabled: EventEmitter<{
        id: string;
        enabled: boolean;
    }>;
}

portalDialogService.openDialog('TITLE_KEY', { type: MyComponent }, 'PRIMARY_KEY', 'SECONDARY_KEY').subscribe(() => {
// behavior when dialog closes
})
```

### [](#customize-dialog)Customize Dialog

If it is desired to customize the dialog in other areas then the presented content, it is recommended to use the `openDialog` method call argument called `extras`. Most of the configuration properties are compatible with the [PrimeNg’s DynamicDialog config object](https://primeng.org/dynamicdialog#api.dynamicdialog-config), however there are some extended ones.

#### [](#close-button)Control The Dialog Close Button

To control the existence of the 'X' button (close button) for the dialog, use `showXButton` property.

| |  The 'X' button will be always visible if only one button is used for the dialog. |
| ----------------------------------------------------------------------------------- |

#### [](#custom-buttons)Add Custom Buttons to The Dialog

To use buttons other than default ones, use `customButtons` property. It is an array of buttons to be added to the dialog. It is possible to control the alignment of the buttons.

#### [](#buttons-autofocus)Control Buttons Autofocus

To control the autofocus of the dialog, use `autoFocusButton` and `autoFocusButtonCustomId` properties. When not provided, the autofocus will not be applied to any button.

#### [](#further-customizations)Further Customizations

For the explanations of further properties, please refer to the [PrimeNg’s DynamicDialog config object documentation](https://primeng.org/dynamicdialog#api.dynamicdialog-config).

OneCX PortalMessageService
====================
This service provides a convenient way to display translated toast messages in an Angular application. It is available via `@onecx/angular-integration-interface`

## [](#overview)Overview

This document will focus on how to:

* use `PortalMessageService` to display toast messages.
* customize toast messages.

## [](#usage)Usage

To use the `PortalMessageService`, inject it into your component or service:

```typescript
import { PortalMessageService } from '@onecx/angular-integration-interface'

constructor(private portalMessageService: PortalMessageService) {}
```

Then, call one of the following methods to display a toast message:

* `success(msg: Message)`
* `info(msg: Message)`
* `error(msg: Message)`
* `warning(msg: Message)`

Each method accepts a `Message` object that can include translation keys and parameters.

### [](#example)Example

```typescript
this.portalMessageService.success({
    summaryKey: 'SUCCESS.TITLE',
    detailKey: 'SUCCESS.DETAIL',
    summaryParameters: { name: 'User' },
    detailParameters: { action: 'saved' },
    life: 5000,
    sticky: false,
    closable: true
});
```

This will display a success toast with translated summary and detail messages.

## [](#customizing-messages)Customizing Messages

The `Message` type supports the following optional properties for customization:

| Property name     | Type    | Description                                             |
| ----------------- | ------- | ------------------------------------------------------- |
| summaryKey        | string  | Translation key for the summary (title) of the message. |
| summaryParameters | object  | Parameters to be used with the summary translation key. |
| detailKey         | string  | Translation key for the detail (body) of the message.   |
| detailParameters  | object  | Parameters to be used with the detail translation key.  |
| id                | any     | Optional identifier for the message.                    |
| key               | string  | Optional key for message tracking or grouping.          |
| life              | number  | Duration in milliseconds before the toast disappears.   |
| sticky            | boolean | If true, the toast will not disappear automatically.    |
| closable          | boolean | If true, the toast will include a close button.         |
| data              | any     | Additional data to associate with the message.          |
| icon              | string  | Custom icon to display with the toast.                  |
| contentStyleClass | string  | CSS class to apply to the content area of the toast.    |
| styleClass        | string  | CSS class to apply to the entire toast.                 |

OneCX WorkspaceService
====================
This service provides a convenient way to construct and validate application URLs based on the current workspace context. It is available via `@onecx/angular-integration-interface`.

## [](#overview)Overview

This document aims to:

* Explain how to use WorkspaceService to generate application and endpoint URLs.
* Describe how to check if a URL exists for a given application and endpoint.
* Provide examples and interface descriptions.

## [](#usage)Usage

To use the WorkspaceService, inject it into your component or service:

```typescript
import { WorkspaceService } from '@onecx/angular-integration-interface';

private workspaceService = inject(WorkspaceService)
```

Then, use one of the following methods:

* `getUrl(productName: string, appId: string, endpointName?: string, endpointParameters?: Record<string, unknown>): Observable<string>` \- Constructs a full URL for a given application and optional endpoint.
* `doesUrlExistFor(productName: string, appId: string, endpointName?: string): Observable<boolean>` \- Checks if a valid URL can be constructed for the given application and optional endpoint.

Here is a summary of all arguments:

* `productName` \- name of the application (registered in the workspace).
* `appId` \- id of the UI component (part of the application).
* `endpointName` \- name of the endpoint exposed by the UI component.
* `endpointParameters` \- parameters for the endpoint.

### [](#examples)Examples

#### [](#generate-url)Generate URL

basic-url

```typescript
this.workspaceService.getUrl('orders', 'orders-ui').subscribe((url) => {
      console.log('Generated URL:', url) // Generated URL: https://dev.one-cx.org/shell/admin/orders
    })
```

This example will return a URL string for the Orders UI (UI component) of Orders application where:

* `<https://dev.one-cx.org/shell>` is shell’s deployment path
* `admin` is current workspace
* `orders` is the orders UI path

url-with-endpoint

```typescript
this.workspaceService.getUrl('onecx-workspace', 'onecx-workspace-ui', 'workspace', { 'workspace-name': 'admin' }).subscribe((url) => {
      console.log('Generated URL for Workspace UI (admin workspace details endpoint):', url) // Generated URL: https://dev.one-cx.org/shell/admin/workspace/admin
    })
```

This example will return a URL string for the Workspace UI (UI component) of the Workspace application to a specific endpoint defined to access workspace details based on the `workspace-name` endpointParameter where:

* `<https://dev.one-cx.org/shell>` is shell’s deployment path
* `admin` is current workspace
* `workspace` is the workspace UI path.
* `admin` (2nd occurrence) is the workspace details page for `admin` workspace.

#### [](#check-if-url-exists)Check If URL Exists

```typescript
this.workspaceService.doesUrlExistFor('orders', 'orders-ui', 'order').subscribe((exists) => {
      if (exists) {
        console.log('URL exists!')
      } else {
        console.log('URL does not exist.')
      }
    })
```

This example checks if a valid URL for Orders UI (UI component) of the Orders application to an order details endpoint can be constructed. If true, then Orders application is registered in the workspace and it has UI component with id `orders-ui` with configured endpoint called `order`.

DataTableColumn
====================
## [](#data-table-column-properties-overview)DataTableColumn properties overview

__Table 1\. DataTableColumn interface__
| Property name        | Type       | Description                                                                                                                                                                                                                                                                                                           |
| -------------------- | ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| columnType           | ColumnType | Defines the type of the column.                                                                                                                                                                                                                                                                                       |
| id                   | string     | The id of the column.                                                                                                                                                                                                                                                                                                 |
| nameKey              | string     | Translation key for the column header name.                                                                                                                                                                                                                                                                           |
| sortable?            | boolean    | Indicates if the column is sortable.                                                                                                                                                                                                                                                                                  |
| filterable?          | boolean    | Indicates if the column is filterable.                                                                                                                                                                                                                                                                                |
| filterType?          | FilterType | Defines which type of filter is used.                                                                                                                                                                                                                                                                                 |
| predefinedGroupKeys? | string\[\] | Defines the group set in which the following column is available. Additionally, the predefinedGroups can be selected from a dropdown menu at the top of the search results table. If you want your search column to belong only to the default column group, then only add FEATURE\_SEARCH.PREDEFINED\_GROUP.DEFAULT. |
| dateFormat?          | string     | Allows customization of the date format. Uses Angular DatePipe format.                                                                                                                                                                                                                                                |

ColumnType enum

```javascript
    export const enum ColumnType {
        STRING = 'STRING',
        NUMBER = 'NUMBER',
        DATE = 'DATE',
        RELATIVE_DATE = 'RELATIVE_DATE',
        TRANSLATION_KEY = 'TRANSLATION_KEY',
    }
```

FilterType enum

```javascript
  export declare enum FilterType {
      EQUAL = "EQUAL",
      TRUTHY = "TRUTHY"
  }
```

| Type   | Description                                                              |
| ------ | ------------------------------------------------------------------------ |
| EQUAL  | Will create a set of unique values for filtering.                        |
| TRUTHY | Will always have two filter options which result in empty and not empty. |

OneCX InteractiveDataView
====================
## [](#overview)Overview

This document aims to showcase how to manage InteractiveDataView Component.

## [](#related-interfaces)Related Interfaces

* [DataTableColumn](data-table-column.html)

Running OneCX locally
====================
This guide provides a quick overview of the steps required to run a local OneCX environment. It includes instructions on starting the environment, accessing OneCX in a browser, and stopping the environment when finished.

## [](#set-up-the-local-environment)Set up the local environment

Follow the instructions at [Setup](setup.html) to configure the base on your local machine.

The following steps assume that **onecx-local-env** has already been configured and installed according to the installation instructions.

## [](#starting-the-local-environment)Starting the local environment

After setting up a local OneCX environment can be started by running a single command from the root directory of **onecx-local-env**.

```bash
./start-onecx.sh
```

This command starts the minimal set of required Docker services and imports the necessary data for them to function. This process may take several minutes, especially on the first run, as Docker images may need to be pulled.

![script start onecx.sh](_images/scripts/script_start-onecx.sh.png) 

Figure 1\. Successful starting

| |  The **start-onecx.sh** script accepts optional flags to customize its behavior. A list of available flags can be found in the [start-onecx.sh](scripts/start.html) documentation or by running ./start-onecx.sh -h. |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#accessing-onecx-in-a-browser)Accessing OneCX in a browser

After starting the local environment, OneCX can be accessed in a web browser by navigating to <http://local-proxy/onecx-shell/admin>.

The default login credentials for the admin user are:

* Username: `onecx`
* Password: `onecx`

![screenshot successful start onecx](_images/screenshot_successful-start-onecx.png) 

Figure 2\. OneCX UI after login

| |  If the environment was started with only essential services, not all UI functions are available. This is not a bug, but by design. To start all services, start with ./start-onecx.sh -p all. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

## [](#stopping-the-local-environment)Stopping the local environment

When finished using the local OneCX environment, it can be stopped by running the following command from the root directory of **onecx-local-env**:

```bash
./stop-onecx.sh
```

| |  The stop-onecx.sh script accepts optional flags to customize its behavior. A list of available flags can be found in the [stop-onecx.sh](scripts/stop.html) documentation or by running ./stop-onecx.sh -h |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

OneCX Local Environment - Overview
====================
**onecx-local-env** is the local development environment for OneCX. It is based on Docker/Docker Compose, and enables developers to quickly run local instances of the OneCX Shell, selected OneCX products and their dependencies for development and testing purposes.

**onecx-local-env** can either be used as a standalone tool, or integrated into custom development environments via Git submodules. Custom development environments can interact with **onecx-local-env** via provided lifecycle-scripts and extend its functionality by wrapping the provided Docker Compose and script files with custom implementations.

## [](#start-here)Start here

1. [Setup](setup.html): Details on how to set up and install
2. [Getting Started](getting-started.html): The quickest way to get started

## [](#use-scripts-for-management)Use Scripts for Management

Since OneCX runs in a Docker Compose environment, most settings can be managed directly through Docker and Docker Compose. However, for a more convenient approach and taking into account specific OneCX features, various shell scripts are available. Each script has the **\-h** flag to explain how to use.

__Table 1\. Available Scripts__
| [start-onecx.sh](scripts/start.html)           | Start the local environment including import of inital neccessary data |
| ---------------------------------------------- | ---------------------------------------------------------------------- |
| [stop-onecx.sh](scripts/stop.html)             | Stop the local environment                                             |
| [import-onecx.sh](scripts/import.html)         | Import data                                                            |
| [toggle-mfes.sh](scripts/toggle-mfes.html)     | Integrate local running microfrontends directly into OneCX             |
| [check-images.sh](scripts/check-images.html)   | List local images with state and version                               |
| [update-images.sh](scripts/update-images.html) | Update local images                                                    |

## [](#utilities)Utilities

In addition to the OneCX Core products, further services will be launched.

__Table 2\. Available Utilities__
| [Keycloak](utilities.html#keycloak) | The IAM service used by OneCX                                                                                   |
| ----------------------------------- | --------------------------------------------------------------------------------------------------------------- |
| Postgres                            | Storing the data. Each OneCX backend service has its own separate database. Access can be gained using pgAdmin. |
| [pgAdmin](utilities.html#pgadmin)   | Manage the Postgres databases.                                                                                  |
| [Traefik](utilities.html#traefik)   | Proxy service for routing requests between services within the Docker network and from/to outside.              |

Set up OneCX Local Environment
====================
This guide provides instructions for setting up and installing **onecx-local-env**, the local development environment for OneCX. It covers prerequisites, installation steps and initial configuration required to get **onecx-local-env** up and running on your local machine. Once setup is done the environment can be started, see [Getting Started](getting-started.html).

## [](#prerequisites)Prerequisites

### [](#supported-operating-systems)Supported Operating Systems

**onecx-local-env** fully supports Linux, MacOS and Windows 10/11 via WSL2.

#### [](#linux-macos)Linux & MacOS

Linux and MacOS are natively supported operating systems for **onecx-local-env** and do not require any operating-system-specific adjustments. Users of these operating systems can safely proceed to the next section of this guide.

#### [](#windows)Windows

To run **onecx-local-env** on Windows, Windows Subsystem for Linux version 2 (WSL2) must be installed and configured on the system.

To verify if WSL2 is currently installed, users can open PowerShell or Command Prompt and run the following command:

```powershell
wsl -l -v
```

This command lists all installed WSL distributions along with their version numbers. To run **onecx-local-env**, at least one distribution must be installed and its version must be 2.

In case of errors, no output, or no WSL2 distributions listed, WSL2 is either not installed or not properly configured. Official guidance on installing and configuring WSL2 can be found here: <https://learn.microsoft.com/en-us/windows/wsl/install>

| |  Checkpoint At this point, users should have verified that their operating system is supported and, if using Windows, that WSL2 is properly installed and configured. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  If you are using Windows and WSL, you should install and use your entire development environment in WSL. This includes cloning Git repositories and installing tools like Docker, Git, and jq. Development environments like Visual Studio Code also need to be connected to WSL, and their extensions/plugins installed in WSL. Avoid any access to your files from Windows, i.e., via mount paths like /mnt/c/…​ |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#docker-docker-compose)Docker & Docker Compose

**onecx-local-env** requires both Docker and Docker Compose to be installed directly on the operating system for Linux and MacOS users, or inside WSL2 for Windows users.

The functionality of **onecx-local-env** has been tested with the following versions:

* Docker version **28.1.1**
* Docker Compose version **v2.35.1**

To ensure that all used features work correctly, it is recommended to use Docker Compose version **v2.20.0** or higher. If any other versions are used, some features may not work as expected. In case of issues that aren’t clearly related to the local environment itself, a version upgrade of Docker and/or Docker Compose should be considered as a troubleshooting step.

| |  Checkpoint By now, a supported version of Docker and Docker Compose should be installed on the user’s system. To verify: Run docker --version to check the installed Docker version. Run docker compose version to check the installed Docker Compose version. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#git)Git

To clone the **onecx-local-env** repository and proceed with the installation instructions, Git must be installed on the local machine or inside WSL2 for Windows users.

### [](#node-js)node.js

To working on local microfrontends and import OneCX data, **node.js** must be installed inside WSL2.

### [](#jq)jq

To import OneCX data, **jq** must be installed inside WSL2.

## [](#installation-steps)Installation Steps

### [](#cloning-the-repository)Cloning the repository

Before starting the installation, the **onecx-local-env** repository needs to be cloned into a folder on the local machine/inside WSL2\. This can be done using the following command:

```bash
git clone https://github.com/onecx/onecx-local-env.git
```

### [](#ensuring-script-executability)Ensuring script executability

After cloning the repository, it is important to ensure that all provided shell scripts are executable. This includes the main lifecycle scripts located in the root directory, as well as any scripts located in the `onecx-data` and `versions/*` directories.

To verify that the scripts are executable, the command `ls -l` can be run in the respective directories. Executable scripts will have an **x** in their permission string, for example: - e.g. `-rwxr-xr-x import-onecx.sh`

If any of the scripts are not executable, the following command can be used to add execute permissions:

```bash
chmod +x <file name>
```

| |  Checkpoint At this point, the **onecx-local-env** repository should be cloned and all necessary scripts should have execute permissions. To verify: Run ls -l in the root, onecx-data, and versions/\* directories. Confirm all **.sh** scripts have execute permissions (indicated by an **x** in the permission string). If any scripts are missing execute permissions, run chmod +x <file name>. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#modifying-the-hosts-file)Modifying the hosts file

In order to expose multiple services on the same local port, OneCX Local Environment uses the Traefik reverse proxy. Traefik will be available via the host’s port 80, and route requests to the appropriate services based on the requested hostname.

To ensure that all relevant hostnames are correctly routed to the local machine and resolved by the Traefik proxy, the system **hosts** file needs to be modified to include entries for all OneCX services.

#### [](#hosts-file-locations)Hosts file locations

* Windows: `c:\Windows\System32\drivers\etc\hosts`
* Linux: `/etc/hosts`
* macOS: `/etc/hosts`

#### [](#editing-the-hosts-file)Editing the hosts file

After identifying the relevant file location, the **hosts** file can be edited using any text editor of choice. It is important to note that editing the **hosts** file will require administrator privileges on most systems. It’s therefore important to edit the file with elevated permissions (e.g. by running `sudo nano /etc/hosts` on Linux/MacOS or opening Notepad as Administrator on Windows).

The following entries need to be added to the end of the **hosts** file:

Click here to view hosts entries 

# OneCX - base
127.0.0.1 traefik
127.0.0.1 postgresdb
127.0.0.1 pgadmin
127.0.0.1 keycloak-app
127.0.0.1 keycloak-app2

# OneCX - local services
127.0.0.1 local-proxy
127.0.0.1 sonar

# OneCX - products
127.0.0.1 onecx-announcement-svc
127.0.0.1 onecx-announcement-bff
127.0.0.1 onecx-announcement-ui
127.0.0.1 onecx-bookmark-svc
127.0.0.1 onecx-bookmark-bff
127.0.0.1 onecx-document-svc
127.0.0.1 onecx-document-bff
127.0.0.1 onecx-help-svc
127.0.0.1 onecx-help-bff
127.0.0.1 onecx-iam-bff
127.0.0.1 onecx-iam-svc
127.0.0.1 onecx-parameter-svc
127.0.0.1 onecx-parameter-bff
127.0.0.1 onecx-permission-svc
127.0.0.1 onecx-permission-bff
127.0.0.1 onecx-product-store-svc
127.0.0.1 onecx-product-store-bff
127.0.0.1 onecx-search-config-svc
127.0.0.1 onecx-search-config-bff
127.0.0.1 onecx-shell-bff
127.0.0.1 onecx-tenant-svc
127.0.0.1 onecx-tenant-bff
127.0.0.1 onecx-theme-svc
127.0.0.1 onecx-theme-bff
127.0.0.1 onecx-welcome-svc
127.0.0.1 onecx-welcome-bff
127.0.0.1 onecx-workspace-svc
127.0.0.1 onecx-workspace-bff
127.0.0.1 onecx-user-profile-avatar-svc
127.0.0.1 onecx-user-profile-svc
127.0.0.1 onecx-user-profile-bff

Windows users should ensure that the entries are automatically synced to WSL2 by following these steps:

* Restart WSL2 after modifying the Windows **hosts** file.
* Open the WSL2 terminal and run `cat /etc/hosts` to verify that the entries were added.

If the entries are not present in the WSL2 **hosts** file, they need to be added manually by following the instructions for Linux/MacOS above.

| |  Checkpoint At this point, all necessary entries should be added to the system **hosts** file. To verify: Confirm the listed OneCX hostnames are added to your system **hosts** file. If using Windows with WSL2, restart WSL2 and check /etc/hosts inside WSL2 to ensure entries were synced from Windows. If entries are missing in WSL2, add them manually by following the **Linux** instructions above. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#next-step)Next Step

After completing the steps outlined in this guide, **onecx-local-env** is now set up and ready to run a local OneCX environment. Instructions on how to start, access, and stop the local environment can be found in the [Getting Started](getting-started.html) guide.

Troubleshooting Common Errors
====================
This page provides information for how to troubleshoot common problems and errors.

## [](#starting-with-status-code-000-on-imports)Starting with Status Code "000" on Imports

The issue occurs when the script [import-onecx.sh](scripts/import.html) is executed (importing OneCX data)

![status code 000 import onecx.sh](_images/issues/status-code-000-import-onecx.sh.png) 

Figure 1\. Status code 000 on initial imports

Solution

* Check if the hosts files is up-to-date. See [Setup hosts](setup.html#hosts) instructions.

## [](#failed-services-on-start-up)Failed Services on Start up

The problem occurs when some services cannot be started successfully even after several attempts and timeouts.

![incomplete onecx start](_images/issues/incomplete-onecx-start.png) 

Figure 2\. Message: Failed Services on Start up

Solution 

```bash
* Start again
```

## [](#bad-gateway-in-browser)Bad gateway in Browser

The problem occurs sometimes after succesful starting the service

![bad gateway on mfe start](_images/issues/bad-gateway-on-mfe-start.png) 

Figure 3\. Message: Bad gateway in Browser

Solution 

```bash
* Start again
* Refresh browser
```

## [](#error-response-from-daemon-failed-to-set-up-container-networking)Error response from daemon: Failed to set up container networking

The problem occurs when during start up there are collisions between Docker networks.

![docker deamon failed to setup container networking](_images/issues/docker-deamon_failed-to-setup-container-networking.png) 

Figure 4\. Message: Failed to set up networking

Solution 

* Remove all Docker networks with  
```bash  
docker network prune  
```
* Start again

## [](#cannot-successful-pull-the-latest-version-onecx-local-env)Cannot successful pull the latest version onecx-local-env

The issue occurs if the repository is updated with `git pull` (get latest version of onecx-local-env)

![untracked files on pull.sh](_images/issues/untracked-files-on-pull.sh.png) 

Figure 5\. Message: Untracked local files on pulling

![traefik active created by root.sh](_images/issues/traefik-active_created-by-root.sh.png) 

Figure 6\. The directory init\_data/traefik/active was created by root

Solution 

* Remove the active directory of Traefik manually by execution of  
   * `sudo rm -rf init_data/traefik/active`
* Reset the local repo (all other changes will be lost)  
   * `git reset --hard origin/main`

undefined
====================
### [](#keycloak)Keycloak

The IAM service used by OneCX can accessed via <http://keycloak-app/admin/master/console/#/onecx>.[Keycloak](https://www.keycloak.org/) is an open-source software for Identity and Access Management (IAM) that provides features like single sign-on (SSO), user authentication, and authorization for modern applications and services.

The default login credentials are:

* Username: **admin**
* Password: **admin**

![screenshot successful keycloak onecx](_images/screenshot_successful-keycloak-onecx.png) 

Figure 1\. Keycloak running on localhost

There is an OneCX realm which contains all configurations needed by OneCX like users, roles, clients etc.

### [](#pgadmin)pgAdmin

The pgAdmin service used by OneCX to manage the Postgres databases can accessed via <http://pgadmin/>

[pgAdmin](https://www.pgadmin.org/) is a popular, open-source administration and development platform for [PostgreSQL](https://www.postgresql.org/) databases.

The default login credentials are:

* Username: **admin**
* Password: **admin**

![screenshot successful pgadmin](_images/screenshot_successful-pgadmin.png) 

Figure 2\. pgAdmin running on localhost

| |  This service is optional, as it is not strictly necessary for OneCX to function. For a better user experience, use a native client directly on your computer. |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#traefik)Traefik

The reverse proxy service Traefik can accessed via <http://traefik:8082/dashboard/>Traefik is required for routing within Docker Compose networks as well as to and from networks outside this network.

No login required

![screenshot successful traefik](_images/screenshot_successful-traefik.png) 

Figure 3\. Traefik running on localhost

Advanced - Default Databases
====================
Postgres server is automatically created with the necessary databases. If any database needs to be added please modify the file `init-data/db/init-db.sql`

Keycloak db is populated with the following configuration(located in `init-data/keycloak/realm-onecx.json`):

* **Realm** \- onecx
* **Clients** \- all necessary UI clients for MFE and backends are in the
* **User** \- onecx
* **Password** \- onecx
* **Roles assigned to the user** \- \[onecx-admin\]

OneCX Data and Imports Overview
====================
Why we have OneCX data and why we have to import them?

This is an overview of the file and folder structure related to data imports in the OneCX Local Environment. It also explains the purpose of each file and folder, and provides guidelines for adding new files.

## [](#folder-structure)Folder Structure

The `imports` directory contains all the data and scripts required for importing default data into the OneCX Local Environment. Below is the folder structure:

* `assignments/`  
   * Contains scripts and JSON files for importing role-to-permission assignments.
* `parameters/`  
   * Contains scripts and JSON files for importing application parameters.
* `permissions/`  
   * Contains scripts and JSON files for importing permissions.
* `product-store/`  
   * Contains scripts and subfolders for importing product-related data:  
         * `microfrontends/`  
                  * Contains JSON files defining microfrontend configurations.  
         * `microservices/`  
                  * Contains JSON files defining microservice configurations.  
         * `products/`  
                  * Contains JSON files defining product configurations.  
         * `slots/`  
                  * Contains JSON files defining slot configurations.
* `tenant/`  
   * Contains scripts and JSON files for importing tenant data.
* `theme/`  
   * Contains scripts and JSON files for importing themes.
* `workspace/`  
   * Contains scripts and JSON files for importing workspace data.

## [](#convention-and-file-list)Convention and file list

### [](#assignments)Assignments

* `import-assignments.sh`: Bash script to import role-to-permission assignments.  
   * Uses: Permission Service.
* `onecx.json`: JSON file defining assignments for various roles and permissions.

### [](#parameters)Parameters

* `import-parameters.sh`: Bash script to import application parameters.  
   * Uses: Parameter Service.
* `<product_name>_<app_id>.json`: Define parameters for specific applications.  
   * Example: `onecx-parameter_onecx-parameter-bff.json`.

### [](#permissions)Permissions

* `import-permissions.sh`: Bash script to import permissions.  
   * Uses: Permission Service.
* `<product_name>_<app_id>.json`: Define permissions for specific applications.  
   * Example: `onecx-help_onecx-help-ui.json`.

### [](#product-store)Product Store

#### [](#microfrontends)Microfrontends

* `import-microfrontends.sh`: Bash script to import microfrontends.  
   * Uses: Product Store Service.
* `<product_name>_<app_id>_<microfrontend_name>.json`: Define microfrontend configurations.  
   * Example: `onecx-help_onecx-help-ui_help-item-editor.json`.

#### [](#microservices)Microservices

* `import-microservices.sh`: Bash script to import microservices.  
   * Uses: Product Store Service.
* `<product_name>_<app_id>.json`: Define microservice.  
   * Example: `onecx-help_onecx-help-bff.json`.

#### [](#products)Products

* `import-products.sh`: Bash script to import products.  
   * Uses: Product Store Service.
* `<product_name>.json`: Define product configurations.  
   * Example: `onecx-help.json`.

#### [](#slots)Slots

* `import-slots.sh`: Bash script to import slots.  
   * Uses: Product Store Service.
* `<product_name>_<app_id>_<slot_name>.json`: Define slot configurations.  
   * Example: `onecx-help_onecx-help-ui_onecx-help-search-header-left.json`.

### [](#tenant)Tenant

* `import-tenants.sh`: Bash script to import tenant data.  
   * Uses: Tenant Service.
* `tenant-import.json`: JSON file defining tenant configurations.

### [](#theme)Theme

* `import-themes.sh`: Bash script to import themes.  
   * Uses: Theme Service.
* `<tenant_id>_<theme_name>.json`: Define theme configurations.  
   * Example: `onecx_OneCX.json`.

### [](#workspace)Workspace

* `import-workspaces.sh`: Bash script to import workspace data.  
   * Uses: Workspace Service.
* `<tenant_id>_<workspace_name>.json`: Define workspace configurations.  
   * Example: `onecx_admin.json`.

## [](#adding-new-files)Adding New Files

To add new files to the `imports` directory, follow these guidelines:

1. **Naming Conventions** \- use consistent naming patterns based on the type of data being imported. The patterns are listed in the [Convention and file list](#convention-and-file-list) section.
2. **File Structure** \- JSON files should adhere to the existing structure that is compliant with the respective service’s API.
3. **Script Updates** \- If adding a new type of data, add new import script that includes new files and uses the appropriate service. Make sure to define the structure of the JSON files.
4. **Testing** \- Test the import process by running the relevant script and verifying the data in the environment.

By adhering to these conventions, you can ensure consistency and maintainability in the OneCX Local Environment.

Networking in OneCX Local Environment
====================
This document explains how networking is configured and managed in the OneCX local development environment.

## [](#overview)Overview

The OneCX local environment uses a sophisticated networking setup that combines:

* **Traefik** as the central reverse proxy and API gateway
* **Docker Compose networks** for service-to-service communication
* **Host file configuration** for domain name resolution
* **Service discovery** through Docker labels
* **Environment-based configuration** for flexible deployment

## [](#architecture-components)Architecture Components

### [](#traefik-reverse-proxy)Traefik Reverse Proxy

Traefik serves as the central entry point for all HTTP traffic in the OneCX environment. It acts as:

* **Reverse Proxy**: Routes incoming requests to appropriate backend services
* **Load Balancer**: Distributes traffic across service instances
* **Service Discovery**: Automatically detects new services through Docker labels
* **API Gateway**: Provides a single entry point for all microservices

#### [](#traefik-configuration)Traefik Configuration

The Traefik configuration is split across multiple files:

* `init-data/traefik/traefik-conf.yml`: Main Traefik configuration
* `init-data/traefik/traefik-services.yml`: Static service definitions
* Docker labels in `docker-compose.v<version>.yaml`: Dynamic service registration

#### [](#key-traefik-settings)Key Traefik Settings

traefik-conf.yml

```yaml
entryPoints:
  web:
    address: ":80"  # HTTP entry point

providers:
  docker:
    endpoint: unix:///var/run/docker.sock  # Docker socket for service discovery
  file:
    filename: /etc/traefik/services.yml    # Static service definitions
```

### [](#service-discovery-and-routing)Service Discovery and Routing

#### [](#traefik-labels)Traefik Labels

Services register themselves with Traefik using Docker labels:

General Traefik Label Patterns

```yaml
labels:
  # Define the service port (required for all services)
  - "traefik.http.services.<service-name>.loadbalancer.server.port=<port>"

  # Backend services (BFF/SVC) and Infrastructure services - simple host-based routing
  - "traefik.http.routers.<service-name>.rule=Host(`<service-name>`)"

  # Frontend applications - path-based routing through local-proxy
  - "traefik.http.routers.<ui-service>.rule=Host(`local-proxy`)&&PathPrefix(`/<app-path>/`)"
```

#### [](#routing-rules)Routing Rules

Different routing patterns are used for different service types:

* Backend Services (BFF/SVC) and Infrastructure Services:

```none
Host(`service-name`)
```

* Frontend Applications (UI):

```none
Host(`local-proxy`)&&PathPrefix(`/app-path/`)
```

### [](#host-file-configuration)Host File Configuration

For proper domain resolution in development, the following entries should be added to your local hosts file (`/etc/hosts` on Linux/macOS, `C:\Windows\System32\drivers\etc\hosts` on Windows):

```none
# OneCX Local Environment
127.0.0.1 local-proxy
127.0.0.1 keycloak-app
127.0.0.1 postgresdb
127.0.0.1 pgadmin
127.0.0.1 onecx-shell-bff
127.0.0.1 onecx-theme-svc
127.0.0.1 onecx-theme-bff
127.0.0.1 onecx-workspace-svc
127.0.0.1 onecx-workspace-bff
127.0.0.1 onecx-permission-svc
127.0.0.1 onecx-permission-bff
127.0.0.1 onecx-product-store-svc
127.0.0.1 onecx-product-store-bff
127.0.0.1 onecx-user-profile-svc
127.0.0.1 onecx-user-profile-bff
# Add other OneCX services as needed
```

### [](#port-mapping-strategy)Port Mapping Strategy

#### [](#external-ports-host-container)External Ports (Host → Container)

Key external ports exposed to the host:

| Service           | Host Port | Purpose                        |
| ----------------- | --------- | ------------------------------ |
| Traefik HTTP      | 80        | Main HTTP entry point          |
| Traefik Dashboard | 8082      | Web UI for Traefik management  |
| Keycloak          | 8080      | Identity and access management |
| PostgreSQL        | 5432      | Database direct access         |

#### [](#internal-ports-container-container)Internal Ports (Container → Container)

Services communicate internally using standard ports:

* **Web Services**: Port 8080 (Quarkus default)
* **PostgreSQL**: Port 5432
* **Frontend Applications**: Port 8080 (Nginx)

### [](#docker-compose-networks)Docker Compose Networks

#### [](#default-network)Default Network

All services are connected to the `default` (docker-compose.v2.yaml) or `example` (docker-compose.v1.yaml) Docker Compose network, which enables:

* **Service-to-Service Communication**: Services can communicate using container names as hostnames
* **Automatic DNS Resolution**: Docker provides built-in DNS for container name resolution
* **Network Isolation**: Traffic is isolated from the host network and other Docker networks

#### [](#network-communication-patterns)Network Communication Patterns

Services communicate using these patterns:

| Communication Type  | Example                    | URL Pattern                                    |
| ------------------- | -------------------------- | ---------------------------------------------- |
| Frontend to BFF     | Shell UI → Shell BFF       | <http://onecx-shell-bff:8080>                  |
| BFF to Service      | Shell BFF → Theme Service  | <http://onecx-theme-svc:8080>                  |
| Service to Database | Theme Service → PostgreSQL | jdbc:postgresql://postgresdb:5432/onecx\_theme |
| Service to Keycloak | Any Service → Keycloak     | <http://keycloak-app:8080>                     |

### [](#environment-configuration)Environment Configuration

#### [](#common-environment-variables)Common Environment Variables

Key networking-related shared environment variables in `common.env`:

common.env

```env
KC_REALM=onecx
QUARKUS_OIDC_AUTH_SERVER_URL=http://keycloak-app:8080/realms/${KC_REALM}
```

#### [](#service-specific-configuration)Service-Specific Configuration

* BFF Environment (`bff.env`):  
   * Currently empty - BFF services inherit their networking configuration from `common.env`.
* Service Environment (`svc.env`):

```env
TKIT_DATAIMPORT_ENABLED=true
ONECX_TENANT_CACHE_ENABLED=false
```

| |  Database connection URLs and authentication endpoints are typically configured directly in the docker-compose.v2.yaml file within each service’s environment section, using internal Docker network hostnames like postgresdb:5432 and keycloak-app:8080. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

## [](#access-patterns)Access Patterns

### [](#external-access-browser-services)External Access (Browser → Services)

#### [](#onecx-shell-main-entry-point)OneCX Shell (Main Entry Point)

* **Shell Admin Interface**: `<http://local-proxy/onecx-shell/admin>`  
   * Default credentials: username `onecx`, password `onecx`  
   * All OneCX applications are accessed through the Shell workspace navigation

#### [](#application-access-through-shell)Application Access Through Shell

Applications are accessed via the Shell workspace navigation. For example:

* **Workspace Management**: `<http://local-proxy/onecx-shell/admin/workspace>`
* The workspace UI is served from: `<http://local-proxy/mfe/workspace/>`
* Where the path can be found in the path prefix:  
   * `` "traefik.http.routers.<ui-service>.rule=Host(\`local-proxy\ ``)&&PathPrefix(\`/mfe/**workspace**/\\\`)"\`

#### [](#infrastructure-services)Infrastructure Services

* **Keycloak**: `<http://keycloak-app:8080>` or `<http://localhost:8080>`
* **PgAdmin**: `<http://pgadmin>`
* **Traefik Dashboard**: `<http://localhost:8082>`

### [](#internal-communication)Internal Communication

Services communicate internally using container names:

* BFF calls services: `<http://service-name:8080>`
* Services call databases: `jdbc:postgresql://postgresdb:5432/db_name`
* All services authenticate via: `<http://keycloak-app:8080>`

## [](#development-workflow)Development Workflow

### [](#local-development-integration)Local Development Integration

The networking setup supports local development through:

**Host Integration**:

```yaml
extra_hosts:
  - "host.docker.internal:host-gateway"
```

**Static Service Definitions** (`traefik-services.yml`):

```yaml
http:
  services:
    local_bff:
      loadBalancer:
        servers:
          - url: "http://host.docker.internal:8585/"
    local_mfe:
      loadBalancer:
        servers:
          - url: "http://host.docker.internal:4200/"
```

| |  With this configuration, the local MFE/UI must run on port 4200 and the respective BFF must run on port 8585\. Refer to this [different ports note section](#latest@documentation:getting-started/enable%5Fhot%5Freload.adoc#note-different-ports) for more details on changing to different ports. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

## [](#security-considerations)Security Considerations

### [](#network-isolation)Network Isolation

* Services are isolated within the Docker network
* Only necessary ports are exposed to the host
* Database is not directly accessible from outside (except via mapped port 5432)

### [](#authentication-flow)Authentication Flow

1. Browser → Traefik (local-proxy) → Frontend Application
2. Frontend → Traefik → BFF Service
3. BFF → Keycloak (authentication)
4. BFF → Backend Services (with token)

Extending the default Environment
====================
OneCX functions as a collection of microservices and microfrontends. The OneCX Shell orchestrates the microfrontends for a unified user interface. This concept allows for the easy integration of other services that are launched outside the OneCX network.

There are several ways to expand the OneCX local environment

## [](#integrate-a-local-running-microfrontend)Integrate a local running Microfrontend

If a microfrontend has been started separately, integration can be easily accomplished through routing and path rewriting by [Traefik](../utilities.html#traefik).

Follow the instructions [Integrate a local Microfrontend](local-mfe.html) to use your microfrontend directly in OneCX.

| |  This is the recommended procedure for integrating a locally running microfrontend. Please use this method. |
| ------------------------------------------------------------------------------------------------------------- |

## [](#adding-a-custom-docker-compose-file)Adding a custom docker-compose file

To integrate Docker images into OneCX, you need a separate docker.compose file to manage the integration.

Follow the instructions in [Integrate Docker Images](local-images.html) to integrate your images into OneCX.

| |  This is the recommended approach for integrating additional microservices. For integrating locally running microfrontends, use the method described above. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Extending the default environment
====================
| |  Disclaimer This page was created for an older version of OneCX Local Environment and may not reflect the current state of the project. It will be updated in the near future. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

If you need to extend this environment with your own containers or import additional data, please utilize preferred version folder and its `docker-compose` and `imports` files and follow the guidelines from the respective version-specific documentation.

Please under no circumstances use the root `docker-compose.yaml` file or the root `imports` folder for your own extensions, as these files can change between versions and may break your setup.

## [](#adding-and-running-new-microfrontend-mfe)Adding and running new microfrontend (MFE)

In order to run the MFE all corresponding BFFs and all corresponding backend services (MS) need to run also.

### [](#locally-build-docker-image-of-the-mfe)Locally build docker image of the MFE

After a local docker image of the MFE is created, add it to the docker-compose and start it as any other service.

### [](#locally-start-in-dev-mode-using-npm-start)Locally start in dev mode using `npm start`

In order to use traefik and locally started MFE you need to adapt the npm start script located in package.json by adding `--host 0.0.0.0 --disable-host-check`

If it runs on the standard port _4200_ you don’t need to do anything special as this is already configured for the local\_mfe service under `./init-data/traefik/traefik-services.yml`Only update the traefik config in `docker-compose.yaml`

_EXAMPLE_ for onecx-tenant-ui (its already part of the docker-compose in the part of onecx-tenant-bff)

```yaml
      - "traefik.http.routers.local_mfe.entrypoints=web"
      - "traefik.http.routers.local_mfe.rule=Host(`local-proxy`)&&PathPrefix(`/mfe/tenant/`)"
      - "traefik.http.routers.local_mfe.service=local_mfe@file"
```

In addition, the local proxy configuration of the MFE needs to be updated like this:

```javascript
const PROXY_CONFIG = {
  '/mfe/tenant': {
    target: 'http://localhost:4200/',
    secure: false,
    pathRewrite: {
      '^.*/mfe/tenant': '',
    },
    changeOrigin: true,
    logLevel: 'debug',
    bypass: bypassFn,
  }
```

Integrate Docker Images
====================
If you need to extend this environment with your own containers or import additional data, please utilize preferred version folder and its `docker-compose` and `imports` files and follow the guidelines from the respective version-specific documentation.

Please under no circumstances use the root `docker-compose.yaml` file or the root `imports` folder for your own extensions, as these files can change between versions and may break your setup.

## [](#adding-and-running-new-microfrontend-mfe)Adding and running new microfrontend (MFE)

In order to run the MFE all corresponding BFFs and all corresponding backend services (MS) need to run also.

### [](#locally-build-docker-image-of-the-mfe)Locally build docker image of the MFE

After a local docker image of the MFE is created, add it to the docker-compose and start it as any other service.

### [](#locally-start-in-dev-mode-using-npm-start)Locally start in dev mode using `npm start`

In order to use traefik and locally started MFE you need to adapt the npm start script located in package.json by adding `--host 0.0.0.0 --disable-host-check`

If it runs on the standard port _4200_ you don’t need to do anything special as this is already configured for the local\_mfe service under `./init-data/traefik/traefik-services.yml`Only update the traefik config in `docker-compose.yaml`

_EXAMPLE_ for onecx-tenant-ui (its already part of the docker-compose in the part of onecx-tenant-bff)

```yaml
      - "traefik.http.routers.local_mfe.entrypoints=web"
      - "traefik.http.routers.local_mfe.rule=Host(`local-proxy`)&&PathPrefix(`/mfe/tenant/`)"
      - "traefik.http.routers.local_mfe.service=local_mfe@file"
```

In addition, the local proxy configuration of the MFE needs to be updated like this:

```javascript
const PROXY_CONFIG = {
  '/mfe/tenant': {
    target: 'http://localhost:4200/',
    secure: false,
    pathRewrite: {
      '^.*/mfe/tenant': '',
    },
    changeOrigin: true,
    logLevel: 'debug',
    bypass: bypassFn,
  }
```

Integrate a local Microfrontend
====================
This approach enables hot-reloading of your local micro-frontend: changes you make there are automatically visible in OneCX after the rebuild. The best way for fast frontend development.

## [](#start-the-local-microfrontend)Start the local Microfrontend

Use one of the following command to start the Microfrontend. It depends on type of the Angular application.

Start Angular "ng" Microfrontend on port 6021

```bash
npm run start -- --port 6021 --host 0.0.0.0 --disable-host-check --public-host=http://localhost:6021
```

Start Angular "nx" Microfrontend on port 6021

```bash
npm run start -- --port=6021 --host 0.0.0.0 --disableHostCheck --publicHost=http://localhost:6021
```

CheckPoint

Please check the microfrontend is up and running by accessing the **public host URL** (see start command) in Browser. The **remoteEntry.js** should be loaded.

![screenshot successful start local mfe](../_images/screenshot_successful-start-local-mfe.png) 

Figure 1\. Local running Microfrontend

## [](#integrate-the-local-microfrontend-into-onecx)Integrate the local Microfrontend into OneCX

The integration can be easily accomplished through routing and path rewriting by [Traefik](../utilities.html#traefik). This is necessary because the Docker Compose project’s network for OneCX is isolated from the outside world. And the meaning of "localhost" within the OneCX network (Docker uses "host.docker.internal" internally) differs from "localhost" outside of it. Therefore, requests from the Docker environment must be routed to the outside world and mapped to the localhost address.

This step is done with the script **toggle-mfes.sh**. It creates a configuration file with routing and path rewrite instructions that are read by Traefik. See also the documentation for [toggle-mfes.sh](../scripts/toggle-mfes.html).

Command for integrating the local app running on <http://localhost:6021>

```bash
  ./toggle-mfes.sh -a my-app:6021
```

![screenshot successful activate local mfe](../_images/screenshot_successful-activate-local-mfe.png) 

Figure 2\. Successful Integration

Traefik Configuration located in `init_data/traefik/active`

```yaml
####################################################
# Integrate a local running Microfrontend into OneCX
####################################################
# Microfrontend: "my-app""
http:
  routers:
    local_my-app:
      # path prefix as used for MFE registration in product store
      rule: "Host(`local-proxy`) && PathPrefix(`/mfe/my-app/`)"
      service: local_my-app
      middlewares:
        - strip_my-app

  # Remove the used mfe path so that it maps directly to localhost:port
  middlewares:
    strip_my-app:
      stripPrefix:
        prefixes:
          - "/mfe/my-app"

  services:
    local_my-app:
      loadBalancer:
        servers:
        - url: "http://host.docker.internal:6021/"   # Angular project started outside Docker with this port
```

| |  If the microfrontend requires its own backend functionality, then these backend services must also be started and presumably integrated into OneCX. The **./toggle-mfes.sh** script does not check this. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Common Issues
====================
This page lists common issues and respective solutions when using OneCX Local Environment.

## [](#keycloak-reported-as-unhealthy)Keycloak reported as unhealthy

If the `keycloak-app` service is reported as unhealthy, please try to re-run the docker compose command to start the service again. In some cases, Keycloak might take a bit longer to start up, and re-running the command can help resolve the issue. This issue is more common in [OneCX Local Environment v1](../versions/v1/v1.html) due to differences in the performed health checks.

## [](#docker-compose-doesnt-wait-for-all-health-checks-to-pass)Docker Compose doesn’t wait for all health checks to pass

In some cases, specifically when services don’t have explicit dependencies defined via the `depends_on` directive, Docker Compose might not wait for all health checks to pass before finalizing the startup process. If you want to force Docker Compose to wait for all health checks to pass, you can use the `--wait` flag when starting the services. Example:

```bash
  docker compose up -d --wait
```

## [](#services-are-not-reachable-or-import-of-initial-data-fails)Services are not reachable or import of initial data fails

Some `onecx-local-env` services might take longer than others to start up and become fully operational. This can cause issues if you or a script you are running tries to access a service before it is ready. To prevent any issues it is recommended to wait for at least 30 seconds **after** all services are reported as healthy before accessing any service or running any import scripts. The [import script for OneCX Local Environment v2](https://github.com/onecx/onecx-local-env/blob/main/versions/v2/import-onecx.v2.sh) has a built-in wait time of 30 seconds after all services are healthy to account for this. If you are using [OneCX Local Environment v1](../versions/v1/v1.html), please ensure to manually wait for at least 30 seconds after all services are healthy before running the import script.

If the [import script for OneCX Local Environment v2](https://github.com/onecx/onecx-local-env/blob/main/versions/v2/import-onecx.v2.sh) or other access to services still fails, please try to increase the wait time to 60 seconds and restart the affected services if all else fails.

Frequently Asked Questions
====================
…​coming soon

Check local Docker images
====================
The **check-images.sh** script is used to list local Docker images with version information. It can be run from the root directory of the **onecx-local-env** repository.

Here is the command to list all Docker images (without any filter).

```bash
./check-images.sh
```

![script check images.sh](../_images/scripts/script_check-images.sh.png) 

Figure 1\. List of local Docker images

| |  The local Docker images can easily be updated using the script [update-images.sh](update-images.html). |
| --------------------------------------------------------------------------------------------------------- |

## [](#available-flags)Available Flags

The script accepts several optional flags to customize its behavior. The available flags are:

\-f

Image filter, see <https://docs.docker.com/reference/cli/docker/image/ls/#filter>

\-h

Displays help information about the script and its available flags. If used then all other options are ignored.

\-n <text>

Name filter, find images which have <text> into image name

## [](#examples)Examples

List images with onecx in name

```bash
./check-images.sh   -n onecx
```

![script check images.sh filter onecx](../_images/scripts/script_check-images.sh_filter-onecx.png) 

Figure 2\. List of local OneCX Docker images

List images marked as dangling

Candidates for deletion

```bash
./check-images.sh   -f "dangling=true"
```

## [](#understanding-the-listing)Understanding the Listing

OneCX Version Labelling

When building OneCX images, the version is set in the label **samo.project.version**. The value of this label is displayed in the listing as **VERSION**.

Outdated Images

Over time, local Docker images become outdated. Especially after updates, images with the tag "<none>" may be listed.

![script check images.sh none images](../_images/scripts/script_check-images.sh_none-images.png) 

Figure 3\. List of outdated Docker images

Such images can be removed. The script [update-images.sh](update-images.html) can be used or native with `docker image rm <image-id>`

Import OneCX Data
====================
To operate a local OneCX, some services require initial data, e.g., the theme, the admin workspace, permissions, etc.

The **import-onecx.sh** script is used to import data needed by the OneCX services. It can be run from the root directory of the **onecx-local-env** repository. Here the command for importing the data for the essential services:

```bash
./import-onecx.sh
```

![script import onecx.sh](../_images/scripts/script_import-onecx.sh.png) 

Figure 1\. Successful import

## [](#available-flags)Available Flags

The script accepts several optional flags to customize its behavior. Some flags can be combined. The flags are:

\-d

Specify a set of data to be imported (all, base) or a specific data type like workspace, theme etc.

* base (Default).
* all
* one of \[ bookmark, assignment, parameter, permission, mfe, ms, product, slot, tenant theme, welcome, workspace\]

\-e

The edition of OneCX. This must match the edition that was used to start the environment. Supported editions are:

* v2 (Default).
* v1

\-h

Displays help information about the script and its available flags. If used then all other options are ignored.

\-s

Secure authentication enabled, default not enabled (value is inherited from [start-onecx.sh](start.html))

| |  Once Docker services have been started with the security option enabled, all subsequent actions require an authenticated user. For example, an import operation must then be started with the **\-s** option to succeed. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

\-t

Define the tenant for tenant-specific imports (e.g. workspace, theme). In consequence of using a tenant different than default **the security option is set** and an appropriate user is used to execute the import. The user is authorized, the tokens are getted and then the import is executed with the tokens as request header. Therefore the security option is enabled.

* default (default)
* t1
* t2

\-v

Verbose: display details during import of objects

\-x

Skip checking running Docker services

| |  When used, Docker does not check whether services require authentication. Please use the same security settings as when starting with [start-onecx.sh](start.html). |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#examples)Examples

Import ALL data, tenant "default"

Import all available OneCX data as:

* Non-tenant specific data
* Tenant data for **default** tenant Before the import, a check is performed to ensure that all required services are already running. Any missing services are started.  
```bash  
./import-onecx.sh -d all  
```

Import specific data, skip check

Only workspace data is imported. If the data are tenant-specific data then the default tenant is used (use flag **\-t** for a different tenant) Running services are not checked beforehand. If a required service is not running, the import will fail.

```bash
./import-onecx.sh -d workspace -x
```

Import base data, tenant `t1`

Import essential OneCX data as:

* Non-tenant specific data
* Tenant data for **t1** tenant  
To import tenant-specific data, services with secure authentication enabled must be running. Without the **\-x** flag, Docker restarts the services with the security option enabled. A corresponding user exists for each tenant. The import is performed using this authorized user.  
```bash  
./import-onecx.sh -t t1  
```  
![script import onecx.sh tenant](../_images/scripts/script_import-onecx.sh_tenant.png)  
Figure 2\. Successful import of **t1** data via authenticated user **onecx\_t1\_admin**

| |  If you want only import tenant-specific data but do not working afterwards with secure authentication then execute the [start-onecx.sh](start.html) script **without** **\-s** option again. This reset the security option on running services. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Start the Environment
====================
The **start-onecx.sh** script is used to start the OneCX Local Environment. By default, it will start a minimal set of services and import initial mock data on startup. Data imports will not overwrite any custom data that may already exist in the environment and can be skipped using the appropriate flag. The script can be run from the root directory of the **onecx-local-env** repository:

```bash
./start-onecx.sh
```

![script start onecx.sh](../_images/scripts/script_start-onecx.sh.png) 

Figure 1\. Successful starting

| |  The script can be executed at any time. Docker checks the configuration of the services and restarts them if there are changes. Without changes, running services are not affected, and only missing services are started. Existing data that was imported or added by the user remains unchanged. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#available-flags)Available Flags

The script accepts several optional flags to customize its behavior. Some flags can be combined. The flags are:

\-e

The edition of OneCX to start. Supported editions are:

* `v2`: Starts the current version of OneCX Local Environment (Default).
* `v1`: Starts the legacy version of OneCX Local Environment (Not recommended for new setups).

\-h

Displays help information about the script and its available flags.

\-p <profile-name>

The profile to use when starting the environment. The supported profiles are:

* `base`: Starts a minimal version of OneCX Local Environment with only essential services. (Default)
* `all`: Starts all available services defined in the Docker Compose file.

\-s

Enables secure mode, which enforces authentication/authorization and taken into account the tenant ID of the user. (Default: disabled)

| |  When used, the services are started in such a way that they always require authentication AND taken into account the tenant ID, i.e., during import and login on UI! Consequently, the login takes place in the correct tenant. |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

\-x

Skips the import of initial data after starting the services. (Default: import data according to the used profile)

## [](#examples)Examples

Start essential Services

The Docker services **essential** for OneCX are started. The necessary Docker volumes are created and required data are imported. Technically, these services are labelled with the **base** profile in the docker-compose file used.

There is no security context defined. All logins are using the default tenant!

```bash
./start-onecx.sh
```

Start ALL Services

**All** Docker services for OneCX are started. The necessary Docker volumes are created and required data are imported. Technically, the relevant services are marked with the **all** profile in the docker-compose file used.

```bash
./start-onecx.sh -p all
```

Start essential Services with Security enabled

The Docker services **essential** for OneCX are started with enabled secure authentication and also the tenant id is taken into account. This is the main precondition for tenant-compliant logins.

The necessary Docker volumes are created but no data are imported.

```bash
./start-onecx.sh -s -x
```

## [](#additional-started-services)Additional Started Services

In addition to the original OneCX products, some open-source tools are also used and launched.

### [](#keycloak)Keycloak

The IAM service used by OneCX can accessed via <http://keycloak-app/admin/master/console/#/onecx>.[Keycloak](https://www.keycloak.org/) is an open-source software for Identity and Access Management (IAM) that provides features like single sign-on (SSO), user authentication, and authorization for modern applications and services.

The default login credentials are:

* Username: **admin**
* Password: **admin**

![screenshot successful keycloak onecx](../_images/screenshot_successful-keycloak-onecx.png) 

Figure 2\. Keycloak running on localhost

There is an OneCX realm which contains all configurations needed by OneCX like users, roles, clients etc.

### [](#pgadmin)pgAdmin

The pgAdmin service used by OneCX to manage the Postgres databases can accessed via <http://pgadmin/>

[pgAdmin](https://www.pgadmin.org/) is a popular, open-source administration and development platform for [PostgreSQL](https://www.postgresql.org/) databases.

The default login credentials are:

* Username: **admin**
* Password: **admin**

![screenshot successful pgadmin](../_images/screenshot_successful-pgadmin.png) 

Figure 3\. pgAdmin running on localhost

| |  This service is optional, as it is not strictly necessary for OneCX to function. For a better user experience, use a native client directly on your computer. |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### [](#traefik)Traefik

The reverse proxy service Traefik can accessed via <http://traefik:8082/dashboard/>Traefik is required for routing within Docker Compose networks as well as to and from networks outside this network.

No login required

![screenshot successful traefik](../_images/screenshot_successful-traefik.png) 

Figure 4\. Traefik running on localhost

Stop the Environment
====================
The **stop-onecx.sh** script is used to stop the OneCX Local Environment. It can be run from the root directory of the **onecx-local-env** repository. Here the command for stopping the essential services without removing data:

```bash
./stop-onecx.sh
```

## [](#available-flags)Available Flags

The script accepts several optional flags to customize its behavior. Some flags can be combined. The flags are:

\-c

Cleans up all volumes associated with the OneCX Local Environment when stopping the services. This will remove all data stored in the volumes, so use this flag with caution. (Default: disabled)

\-e

The edition of OneCX to stop. This must match the edition that was used to start the environment. Supported editions are:

* `v2` (Default).
* `v1`

\-h

Displays help information about the script and its available flags. If used then all other options are ignored.

\-p <profile-name>

The profile to use when stopping the environment. This must match the profile that was used to start the environment. The supported profiles are:

* `base` (Default)
* `all`

## [](#examples)Examples

Stop base and Cleanup

The Docker services **essential** for OneCX will be terminated, including the deletion of all data. Technically, this involves deleting the Docker volumes used by OneCX.

```bash
./stop-onecx.sh -c
```

Stop ALL and Cleanup

**All** Docker services for OneCX will be terminated, including the deletion of all data. Technically, this involves deleting the Docker volumes used by OneCX.

```bash
./stop-onecx.sh -p all -c
```

Integrate Microfrontends into OneCX
====================
The script **toggle-mfes.sh** integrates (activates) a locally running microfrontend into the OneCX environment, allowing it to interact with other microfrontends. This process is also reversible.

How it works

The script creates a small configuration file in Traefik, tailored to the local microfrontend. Traefik then forwards requests from the Docker network to the external local microfrontend. The script can be run from the root directory of the **onecx-local-env** repository.

The Traefik configuration files are stored in `init-data/traefik/active/`. Traefik immediately detects any changes there.

Here is the command to list the currently integrated microfrontends.:

```bash
./toggle-mfes.sh  -l
```

![script toggle mfes.sh list](../_images/scripts/script_toggle-mfes.sh_list.png) 

Figure 1\. List of integrated Microfrontends

## [](#precondition)Precondition

Before a microfrontend can be successfully integrated into OneCX, it must be started.

Start Angular **ng** Microfrontend on port 6021

```bash
npm run start -- --port 6021 --host 0.0.0.0 --disable-host-check --public-host=http://localhost:6021
```

Start Angular **nx** Microfrontend on port 6021

```bash
npm run start -- --port=6021 --host 0.0.0.0 --disableHostCheck --publicHost=http://localhost:6021
```

| |  Checkpoint Please check the microfrontend is up and running by accessing the **public host URL** in Browser. http://localhost:6021/remoteEntry.js The **remoteEntry.js** should be loaded - the content is displayed. The **./toggle-mfes.sh** script does not check this. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

## [](#available-flags)Available Flags

The script accepts several optional flags to customize its behavior. **All options may only be used separately!**

The flags are:

\-a

Enable one or more local microfrontends. In addition to the microfrontend name, you can optionally specify a port and path. The default port is **4200**.

If the microfrontend is one of OneCX Core products and no port is specified then predefined ports are used.

\-c

Cleanup, remove all existing configurations

\-d

Deactivate one or more local Microfrontends

\-h

Display this help and exit

\-l

List of currently integrated local microfrontends

## [](#examples)Examples

Integrate my App with specific path

The local microfrontend `my-app` runs on `<http://localhost:4200>` (standard Angular).

`/my-app-path` is the path under which the microfrontend is accessible within OneCX.

```bash
./toggle-mfes.sh  -a my-app::/my-app-path
```

![script toggle mfes.sh activate my app](../_images/scripts/script_toggle-mfes.sh_activate-my-app.png) 

Figure 2\. Successful integrated "my-app"

Integrate several Apps

Integrate **workspace** on standard port **5025** AND **user-profile** on port **5027**. Since no path is specified, the default path is used: **/mfe/<name-of-microfrontend>**

```bash
./toggle-mfes.sh  -a workspace user-profile:5027
```

![script toggle mfes.sh activate](../_images/scripts/script_toggle-mfes.sh_activate.png) 

Figure 3\. Successful integrated Microfrontends

Integrate OneCX Shell

The integration of the shell requires a special path mapping. Hereby the path is not completely stripped. Define the strip path to be used at the end.

```bash
./toggle-mfes.sh  -a shell::/onecx-shell/:/
```

![script toggle mfes.sh activate shell](../_images/scripts/script_toggle-mfes.sh_activate-shell.png) 

Figure 4\. Successful integrated OneCX Shell

Because OneCX Shell is a microfrontend with a special role in OneCX it have to be started with a specific command:

```bash
npm run start:local-env
```

Deintegrate my App

The **\-d** option allows you to undo an integration. The same rule applies to the port: if the port is not **4200**, it must be specified.

```bash
./toggle-mfes.sh  -d my-app:12345
```

![script toggle mfes.sh deactivate](../_images/scripts/script_toggle-mfes.sh_deactivate.png) 

Figure 5\. Successful deintegration

Deintegrate ALL Apps

The Traefik configurations are being cleaned up: All specific configuration files for the Microfrontend integration are being deleted.

```bash
./toggle-mfes.sh  -c
```

![script toggle mfes.sh cleanup](../_images/scripts/script_toggle-mfes.sh_cleanup.png) 

Figure 6\. Reset all Microfrontend configurations in Traefik

Update local Docker images
====================
To run a local OneCX instance, Docker images with the latest version are downloaded. Over time, these images become outdated, meaning that even if a newer version is available, the old version is still being used locally. Check versions with script [check-images.sh](check-images.html).

The **update-images.sh** script is used to renew local Docker images. It can be run from the root directory of the **onecx-local-env** repository.

Here is the command to display the available flags:

```bash
./update-images.sh
```

| |  To get an overview of the Docker images and their versions on your local machine, run the Docker command **docker image ls**. If images with the tag **<none>** are displayed, you can run the script with the parameter **\-c** to clean them up. |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

| |  After successful updating images it is recommendet to cleanup outdated docker resources with command docker system prune |
| --------------------------------------------------------------------------------------------------------------------------- |

## [](#available-flags)Available Flags

The script accepts several optional flags to customize its behavior. The available flags are:

\-c

Cleaned up orphaned images (e.g. if they have **<none>** in their name)

This option can be used in combination with **\-n** or separately. If used without a name filter, all orphaned images will be removed. No additional confirmation is required.

\-h

Displays help information about the script and its available flags. If used then all other options are ignored.

\-n <text>

Name filter, update images which have <text> into image name

## [](#examples)Examples

Update all Images with `ui` in name

The Docker which have **ui** in image name are pulled from remote registry.

```bash
./update-images.sh  -n ui
```

Cleanup only

Started without any name filter will remove all orphaned images. No additional confirmation is required.

![script check images.sh none images](../_images/scripts/script_check-images.sh_none-images.png) 

Figure 1\. Excerpt from the list of orphaned images

```bash
./update-images.sh  -c
```

The deletion is only possible if the image is not in use. If so then stop the appropriate container first and try again.

![script check images.sh rm image failed](../_images/scripts/script_check-images.sh_rm-image-failed.png) 

Figure 2\. Image deletion failed

Versions - v1
====================
| |  Disclaimer This page was created for an older version of OneCX Local Environment and may not reflect the current state of the project. It will be updated in the near future. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

> This document only contains information specific to v1 of the OneCX Local Environment. Please make sure to also read the [**top-level getting started guide**](#documentation:local-env:general/getting-started.adoc) for general information and instructions that apply to all versions.

v1 was the initial version of the local development environment for OneCX. While it still works and will be maintained for some time to avoid breaking existing workflows, some significant quality-of-life improvements were implemented in [OneCX Local Environment v2](#documentation:local-env:general/versions/v2/v2.adoc). We therefore encourage new users to start with [OneCX Local Environment v2](#documentation:local-env:general/versions/v2/v2.adoc).

To migrate from v1 to v2, please refer to the [Migrate to v2](#documentation:local-env:general/versions/v2/migrate.adoc) guide.

## [](#overview)Overview

v1 contains services for Traefik, Postgres, Keycloak and all currently existing OneCX products (SVC, BFF, UI). Some of these services are started by default, while others can only be started via specific profiles. For more details on the available services, profiles, environment variables, networks and volumes, please refer to the [Components](#components) section of this document.

## [](#running-onecx-local-environment-v1)Running OneCX Local Environment v1

To start a minimal local development environment (Traefik, Postgres and Keycloak) together with OneCX Shell, OneCX Workspace and their dependencies, run one of the following commands:

* From the repository root:  
```bash  
  docker compose -f versions/v1/docker-compose.v1.yaml up -d  
```
* From the `versions/v1` directory:  
```bash  
  docker compose up -d  
```

To additionally start the OneCX Parameter product, use the `--profile parameter` flag:

* From the repository root:  
```bash  
  docker compose -f versions/v1/docker-compose.v1.yaml --profile parameter up -d  
```
* From the `versions/v1` directory:  
```bash  
  docker compose --profile parameter up -d  
```

To start all services defined in the compose file, use the `--profile all` flag:

* From the repository root:  
```bash  
  docker compose -f versions/v1/docker-compose.v1.yaml --profile all up -d  
```
* From the `versions/v1` directory:  
```bash  
  docker compose --profile all up -d  
```

## [](#stopping-onecx-local-environment-v1)Stopping OneCX Local Environment v1

To stop the started services, run one of the following commands:

* From the repository root:  
```bash  
  docker compose -f versions/v1/docker-compose.v1.yaml down  
```
* Stop specific profile from the repository root:  
```bash  
  docker compose -f versions/v1/docker-compose.v1.yaml --profile <profile-name> down  
```
* From the `versions/v1` directory:  
```bash  
  docker compose down  
```
* Stop specific profile from the `versions/v1` directory:  
```bash  
  docker compose --profile <profile-name> down  
```

## [](#importing-initial-data)Importing initial data

When starting OneCX Local Environment v1 for the first time, some initial data has to be imported to set up the environment correctly. To import the initial data, please follow these steps:

1. Start the environment using the `all` profile (see [\[running-onecx-local-env-v1\]](#running-onecx-local-env-v1)).
2. Wait for all services to be healthy.
3. Wait for at least 30 seconds to ensure that all services are fully initialized and operational.
4. Run the import script:  
   * From the repository root:  
   ```bash  
     ./versions/v1/import-onecx.v1.sh  
   ```
5. Ensure that status messages for each step are green and indicate success.  
   * If any step of the import fails, please verify that all services required for the import (Traefik, Postgres, Keycloak and all OneCX SVCs) are running and healthy.  
   * If they are, please check the logs of the service that failed the import for potential issues. To do so run `docker ps` to get the container ID and `docker logs <container-id>` to view the logs.  
   * If they are not, please start the missing services and wait until they are healthy before re-running the import script.
6. After the script has completed successfully, all initial data has been imported and the environment is ready to use.

## [](#components)Components

### [](#services)Services

* `traefik`
* `postgresdb`
* `pgadmin`
* `keycloak-app`
* OneCX Product Services:  
   * Shell: `onecx-shell-ui`, `onecx-shell-bff`  
   * Theme: `onecx-theme-svc`, `onecx-theme-bff`, `onecx-theme-ui`  
   * Workspace: `onecx-workspace-svc`, `onecx-workspace-bff`, `onecx-workspace-ui`  
   * Permission: `onecx-permission-svc`, `onecx-permission-bff`, `onecx-permission-ui`  
   * Product Store: `onecx-product-store-svc`, `onecx-product-store-bff`, `onecx-product-store-ui`  
   * User Profile: `onecx-user-profile-svc`, `onecx-user-profile-bff`, `onecx-user-profile-ui`  
   * IAM: `onecx-iam-kc-svc`, `onecx-iam-bff`, `onecx-iam-ui`  
   * Tenant: `onecx-tenant-svc`, `onecx-tenant-bff`, `onecx-tenant-ui`  
   * Welcome: `onecx-welcome-svc`, `onecx-welcome-bff`, `onecx-welcome-ui`  
   * Help: `onecx-help-svc`, `onecx-help-bff`, `onecx-help-ui`  
   * Parameter: `onecx-parameter-svc`, `onecx-parameter-bff`, `onecx-parameter-ui`

### [](#profiles)Profiles

OneCX Local Environment v1 contains a few profiles that can be used to start additional services on top of the default set of services:

* `parameter` — starts the OneCX Parameter product services
* `all` — starts all services defined in the compose file

For details on how to use profiles, please refer to the [\[running-onecx-local-env-v1\]](#running-onecx-local-env-v1) section of this document.

### [](#environment-variables)Environment variables

All services are based on images defined in the `.env` file in the `versions/v1` directory. Services might also reference additional environment variables from the `.env`, `common.env`, `svc.env` and `bff.env` files in the `versions/v1` directory.

The `.env` file is always loaded automatically, while other env files are referenced by some services via the `env_file` directive.

Some services also define additional environment variables directly in the compose file.

### [](#networks)Networks

* `example` — primary network used by OneCX Local Environment v1\. All services connect via this network.

### [](#volumes)Volumes

OneCX Local Environment v1 mounts one global volume:

* `postgres` — volume used by `postgresdb` to persist its data across container restarts.

Additionally, some services (`traefik`, `postgresdb`, `pgadmin` and `keycloak-app`) mount local directories for initialization data.

## [](#troubleshooting)Troubleshooting

If you encounter any issues while using OneCX Local Environment v1, please refer to the [Troubleshooting - Common Issues](#documentation:local-env:faq/common-issues.adoc) page for potential solutions and workarounds.

Migrate to v2 Edition
====================
| |  Disclaimer This page was created for an older version of OneCX Local Environment and may not reflect the current state of the project. It will be updated in the near future. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

This guide highlights the key differences between OneCX Local Environment [v1](#../v1/v1.adoc) and [v2](v2.html), and explains how you can adapt your setup to ensure that it seamlessly works with [v2](v2.html).

## [](#%5Fnetwork%5Frename)Network Rename

In [v1](#../v1/v1.adoc), the network that all services connected to was named `example`. In [v2](v2.html), this network is now named `default`.

If you have any custom services that need to attach to the same network as OneCX, make sure they connect to `default` from now on.

## [](#%5Fservice%5Fstartup%5Fbehavior)Service Startup Behavior

In [v1](#../v1/v1.adoc):

* Some core services started automatically when running: `docker compose up -d`
* Additional services could be started using the two existing profiles: `all` and `parameters`.
* This approach gave developers very little control over which apps were started, making it hard to, for example, run only a small subset of apps and one OneCX product.

In [v2](v2.html):

* The system is **fully profile-based**.
* **Nothing** starts by default when you run: `docker compose up -d`
* You must explicitly specify at least one profile, for example:

```bash
docker compose --profile base up -d
```

* Profiles allow fine-grained control over which services run.
* For details on available profiles, see [the v2 documentation](v2.html).

## [](#%5Fdata%5Fimport%5Fscript%5Fimprovements)Data Import Script Improvements

In [v1](#../v1/v1.adoc):

* The data import script had the sole purpose of sending data to services to trigger the import.
* This caused issues if containers were not running, unhealthy, or still starting up.

In [v2](v2.html):

* The import script now:  
   * Starts all required services.  
   * Waits for them to become healthy and operational.  
   * Imports the data.  
   * Spins down the started services afterward.

This improves reliability for most developers. However, if you use the script inside another script that needs containers to remain running after import, you can disable container management by running the script using:

```bash
SKIP_CONTAINER_MANAGEMENT=true ./import-onecx.sh
```

This ensures the script does not start or stop any containers, allowing you to manage them manually. **Please be aware that in this mode, it’s your responsibility to ensure that all required containers (Traefik, Postgres, Keycloak and all OneCX SVCs) are running and healthy before executing the script.**

## [](#%5Fmoved%5Fenv%5Ffiles)Moved ENV Files

Before the creation of [v2](#documentation:local-env:general/versions/v2/v2.adoc), all environment variable files were located in the root directory of the project. To allow for better organization and scoped environment variables per version, all environment variable files are now located in the directory of the version they belong to (e.g., `./versions/v2/` for v2). As of right now, `./versions/v1/` and `./versions/v2/` contain identical `.env`, `bff.env` and `svc.env` files, but this may change in the future (e.g. if different image tags have to be used for different versions). If you or any of your scripts reference these files, please update the paths accordingly.

| |  Checkpoint After reading all sections of this document you should be able to make all necessary adjustments to migrate from v1 to v2 of the OneCX Local Environment. To recap, the main necessary adjustments are: Change any custom services that connect to the example network to connect to the default network instead. Change any scripts or commands that start services to use profiles instead of relying on default behavior. Adjust import scripts if you need to manage container states manually. Update paths to any .env, bff.env or svc.env files to point to the new locations in the respective version directory. |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

v2 Edition
====================
| |  Disclaimer This page was created for an older version of OneCX Local Environment and may not reflect the current state of the project. It will be updated in the near future. |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

> This document only contains information specific to v2 of the OneCX Local Environment. Please make sure to also read the [Getting started guide](../../getting-started.html) for general information and instructions that apply to all versions.

v2 is the current latest version of the local development environment for OneCX.

If you are currently using [OneCX Local Environment v1](#../v1/v1.adoc) and want to migrate to v2, please refer to the [Migrate to v2](migrate.html) guide for detailed migration instructions.

## [](#overview)Overview

v2 contains services for Traefik, Postgres, Keycloak and all currently existing OneCX products (SVC, BFF, UI). To ensure memory-efficiency and allow developers to only start the services they need, all services are grouped into profiles that can be started individually. **No services are started by default and at least one profile must be specified when starting the environment.** For more details on the available services, profiles, environment variables, networks and volumes, please refer to the [Components](#components) section of this document.

## [](#running-onecx-local-environment-v2)Running OneCX Local Environment v2

> Since the [root compose file of onecx-local-env](https://github.com/onecx/onecx-local-env/blob/main/docker-compose.yaml) always points to the current latest version of the OneCX Local Environment, developers can run commands against v2 without needing to specify the versioned compose file explicitly.

To start a minimal local development environment (Traefik, Postgres and Keycloak) together with the most commonly used OneCX products (Shell, Workspace, Theme, Permission, Product Store, User Profile and Welcome) and their dependencies, developers can use the `base` profile. This profile is recommended for most users and should be viewed as the default. To start the environment with the `base` profile, run the following command:

* From the repository root:  
```bash  
  docker compose --profile base up -d  
```

To give developers more flexibility and full control over which services/products to start, several additional profiles are available. Please refer to the [Profiles](#profiles) section of this document for a list of all available profiles.

## [](#stopping-onecx-local-environment-v2)Stopping OneCX Local Environment v2

To stop a started profile, run the following command, replacing `<profile-name>` with the name of the profile to stop (e.g. `base`):

* From the repository root:  
```bash  
  docker compose --profile <profile-name> down  
```

## [](#importing-initial-data)Importing initial data

> Since the [root import script of onecx-local-env](https://github.com/onecx/onecx-local-env/blob/main/import-onecx.sh) always points to the current latest version of the OneCX Local Environment, developers can execute the root import script to import initial data into their v2 environment without needing to specify the versioned import script explicitly.

When starting OneCX Local Environment v2 for the first time, some initial data has to be imported to set up the environment correctly. To import the initial data, please follow these steps:

1. Run the automated import script:  
   * From the repository root:  
   ```bash  
     ./import-onecx.sh  
   ```
2. Wait for the script to finish and ensure that status messages for each step are green and indicate success.  
   * If you encounter any issues while running the import script, please first try to increase the timeout defined in line 27 of the `versions/v2/import-onecx.v2.sh` script (default: `30` seconds) and re-run the script.  
   * If the issue persists, do the following:  
   * Manually start the `data-import` profile to start only the services required for the import of initial data (Traefik, Postgres, Keycloak and all OneCX product SVCs):  
   ```bash  
         docker compose --profile data-import up -d  
   ```  
   * Wait for all services to be healthy.  
   * Wait for at least 30 seconds to ensure that all services are fully initialized and operational  
   * Run the import script while skipping container management:  
   ```bash  
         SKIP_CONTAINER_MANAGEMENT=true ./versions/v2/import-onecx.v2.sh  
   ```  
   * If any step of the import fails, please verify that all services required for the import (Traefik, Postgres, Keycloak and all OneCX SVCs) are running and healthy.  
   * If they are, please check the logs of the service that failed the import for potential issues. To do so run `docker ps` to get the container ID and `docker logs <container-id>` to view the logs.  
   * If they are not, please start the missing services and wait until they are healthy before re-running the import script.  
   * Stop the `data-import` profile after the import has completed successfully:  
   ```bash  
         docker compose --profile data-import down  
   ```
3. After the script has completed successfully, all initial data has been imported and the environment is ready to use.

If you want to integrate the import script into your own scripts and want to only perform the actual import operations instead of also starting and stopping all necessary services, you can set the `SKIP_CONTAINER_MANAGEMENT` environment variable to `1` or `true` before executing the script:

* From the repository root:  
```bash  
    SKIP_CONTAINER_MANAGEMENT=true ./import-onecx.sh  
```

## [](#components)Components

### [](#services)Services

* `traefik`
* `postgresdb`
* `pgadmin`
* `keycloak-app`
* OneCX Product Services:  
   * Shell: `onecx-shell-ui`, `onecx-shell-bff`  
   * Theme: `onecx-theme-svc`, `onecx-theme-bff`, `onecx-theme-ui`  
   * Workspace: `onecx-workspace-svc`, `onecx-workspace-bff`, `onecx-workspace-ui`  
   * Permission: `onecx-permission-svc`, `onecx-permission-bff`, `onecx-permission-ui`  
   * Product Store: `onecx-product-store-svc`, `onecx-product-store-bff`, `onecx-product-store-ui`  
   * User Profile: `onecx-user-profile-svc`, `onecx-user-profile-bff`, `onecx-user-profile-ui`  
   * IAM: `onecx-iam-kc-svc`, `onecx-iam-bff`, `onecx-iam-ui`  
   * Tenant: `onecx-tenant-svc`, `onecx-tenant-bff`, `onecx-tenant-ui`  
   * Welcome: `onecx-welcome-svc`, `onecx-welcome-bff`, `onecx-welcome-ui`  
   * Help: `onecx-help-svc`, `onecx-help-bff`, `onecx-help-ui`  
   * Parameter: `onecx-parameter-svc`, `onecx-parameter-bff`, `onecx-parameter-ui`

### [](#profiles)Profiles

To give developers more flexibility and ensure the highest possible memory-efficiency, OneCX Local Environment v2 exposes all services via a variety of profiles that can be started individually. At least one profile must be specified when starting the environment. The following profiles are available:

* `minimal`
* starts only a minimal local development environment (Traefik, Postgres and Keycloak) together with OneCX Shell and its dependencies
* useful as a basis if developers only want to test one or very few applications/products inside the Shell
* keeps memory usage as low as possible
* `data-import`
* not recommended for regular use
* is used internally by `import-onecx.v2.sh` to start only the services required for the import of initial data (Traefik, Postgres, Keycloak and all OneCX product SVCs)
* `base`
* the recommended default profile for most users
* starts a minimal local development environment (Traefik, Postgres and Keycloak) together with the most commonly used OneCX products (Shell, Workspace, Theme, Permission, Product Store, User Profile and Welcome) and their dependencies
* `pgadmin`
* starts PGAdmin alongside Traefik and Postgres (if not already started via another profile)
* useful if developers want to use PGAdmin to inspect or manage the Postgres database
* `all`
* starts all available services
* might be useful in certain testing scenarios, but is generally not recommended due to high memory usage
* `<PRODUCT-NAME>`
* starts all services for a specific OneCX product (SVC, BFF, UI)
* must be combined with at least the `minimal` profile to also start the required dependencies (Traefik, Postgres, Keycloak and Shell)
* e.g. to start only the Workspace product alongside its dependencies, run:  
```bash  
      docker compose --profile minimal --profile workspace up -d  
```
* `<PRODUCT-NAME>-ui`
* starts only the UI stack of a specific OneCX product (UI, BFF)
* only works if all dependencies (e.g. `minimal` profile and related product SVC) are already started
* useful if developers need to constantly run a certain product SVC (e.g. Workspace) and want to occasionally start and stop the related UI stack
* e.g. to start only the Workspace UI alongside an already running Workspace SVC, run:  
```bash  
      docker compose --profile workspace-ui up -d  
```

For details on how to run profiles, please refer to the [\[running-onecx-local-env-v2\]](#running-onecx-local-env-v2) section of this document.

### [](#environment-variables)Environment variables

All services are based on images defined in the `.env` file in the `versions/v2` directory. Services might also reference additional environment variables from the `.env`, `common.env`, `svc.env` and `bff.env` files in the `versions/v2` directory.

The `.env` file is always loaded automatically, while other env files are referenced by some services via the `env_file` directive.

Some services also define additional environment variables directly in the compose file.

### [](#networks)Networks

* `default` — primary network used by OneCX Local Environment v2\. All services connect via this network.

### [](#volumes)Volumes

OneCX Local Environment v2 mounts one global volume:

* `postgres` — volume used by `postgresdb` to persist its data across container restarts.

Additionally, some services (`traefik`, `postgresdb`, `pgadmin` and `keycloak-app`) mount local directories for initialization data.

## [](#troubleshooting)Troubleshooting

If you encounter any issues while using OneCX Local Environment v2, please refer to the [Troubleshooting - Common Issues](#documentation:local-env:faq/common-issues.adoc) page for potential solutions and workarounds.

OneCX Announcement Management
====================
![overview](_images/overview.png) 

Figure 1\. Announcement UI

## [](#%5Foverview)Overview

The Announcement Management feature is designed to facilitate the dissemination of important information across a platform. It supports various types of announcements, such as system maintenance notifications, general information, and achievements. This feature ensures that users are always informed about critical updates and events. Key Features includes:

**Platform-Wide Announcements**:

* System Maintenance: Allows administrators to post announcements about system maintenance, ensuring users are aware of any scheduled downtimes or updates.
* General Information: Provides a channel for sharing other important information, such as policy changes or new feature releases.
* Achievements: Highlights significant achievements or milestones, fostering a sense of community and engagement.

**Workspace-Specific Announcements**:

* Targeted Messaging: Enables the placement of announcements for specific workspaces, ensuring that relevant information reaches the appropriate audience.
* Flexible Distribution: Supports sending announcements to all workspaces simultaneously, making it easy to communicate platform-wide updates.

**Application-Specific Announcements**:

* Dedicated Announcements: Allows for the creation of announcements specific to individual applications, ensuring users of those apps receive pertinent information.

**Important Announcements**:

* High Visibility: Important announcements, such as system maintenance notifications, are displayed prominently in a micro frontend and visualized by the shell on any page of the portal. This ensures that critical information is always visible to users.

**Administrative Controls**:

* Easy Management: Provides administrators with tools to create, edit, and manage announcements efficiently.
* Scheduling: Allows for the scheduling of announcements to be posted at specific times, ensuring timely communication.

## [](#%5Fbenefits)Benefits

* Enhanced Communication: Ensures that important information is effectively communicated to all users, reducing confusion and improving awareness.
* Targeted Messaging: Allows for targeted announcements, ensuring that users receive information relevant to their specific workspaces or applications.
* High Visibility: Important announcements are prominently displayed, ensuring that critical updates are not missed.
* Administrative Efficiency: Streamlines the process of managing announcements, saving time and resources for administrators.

## [](#%5Fui%5Fexamples)UI Examples

![announcement configuration](_images/announcement_configuration.png) 

Figure 2\. Announcement configuration

## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Announcement Management Software, please follow our contribution guidelines (tbd).

## [](#%5Fissue%5Ftracking)Issue Tracking

All OneCX Announcement Management issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Fstructure%5Foverview)Structure Overview

OneCX Announcement Management Software is a comprehensive solution for managing Announcement items in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of OneCX Announcement Management Software are as follows:

1. Announcement Management User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the Announcement management system. Users can perform actions such as searching and editing of Announcement items.
2. Announcement Management Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Announcement Management Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of Announcement items. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Announcement Management Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Announcement Management UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-announcement/current/onecx-announcement-ui/index.html)
* [OneCX Announcement Management BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-announcement/current/onecx-announcement-bff/index.html)
* [OneCX Announcement Management SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-announcement/current/onecx-announcement-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Fannouncement%5Fsvc)onecx-announcement-svc

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-announcement?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-announcement}
%prod.quarkus.datasource.password=${DB_PWD:onecx-announcement}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 2.3.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |
| quarkus-smallrye-context-propagation   | 3.27.1                                                                                             |                                                                                                                                                  |         |
| \===ion                                | 3.20.2.1                                                                                           |                                                                                                                                                  |         |
| \===                                   | 0.34.0                                                                                             |                                                                                                                                                  |         |
| quarkus-smallrye-context-propagation   | 3.15.3                                                                                             |                                                                                                                                                  |         |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |         |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-announcement-svc/pkgs/container/onecx-announcement-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-announcement-svc/pkgs/container/charts%2Fonecx-announcement-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-announcement-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Announcement Backend Service
        name: OneCX Announcement SVC
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-announcement?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-announcement}
%prod.quarkus.datasource.password=${DB_PWD:onecx-announcement}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 2.3.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |
| quarkus-smallrye-context-propagation   | 3.27.1                                                                                             |                                                                                                                                                  |         |
| \===ion                                | 3.20.2.1                                                                                           |                                                                                                                                                  |         |
| \===                                   | 0.34.0                                                                                             |                                                                                                                                                  |         |
| quarkus-smallrye-context-propagation   | 3.15.3                                                                                             |                                                                                                                                                  |         |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |         |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-announcement-svc/pkgs/container/onecx-announcement-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-announcement-svc/pkgs/container/charts%2Fonecx-announcement-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-announcement-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Announcement Backend Service
        name: OneCX Announcement SVC
```

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 2.3.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |
| quarkus-smallrye-context-propagation   | 3.27.1                                                                                             |                                                                                                                                                  |         |
| \===ion                                | 3.20.2.1                                                                                           |                                                                                                                                                  |         |
| \===                                   | 0.34.0                                                                                             |                                                                                                                                                  |         |
| quarkus-smallrye-context-propagation   | 3.15.3                                                                                             |                                                                                                                                                  |         |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |         |

undefined
====================


undefined
====================


undefined
====================
## [](#%5Fonecx%5Fannouncement%5Fbff)onecx-announcement-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_announcement_svc.url=http://onecx-announcement-svc:8080
%prod.quarkus.rest-client.onecx_workspace_svc_v1.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_product_store.url=http://onecx-product-store-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc_yaml.config-key=onecx_announcement_svc
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc_yaml.base-package=gen.org.tkit.onecx.announcement.client
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.config-key=onecx_workspace_svc_v1
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.base-package=gen.org.tkit.onecx.workspace.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.config-key=onecx_product_store
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.base-package=gen.org.tkit.onecx.product.store
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_announcement_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_workspace_svc_v1.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |

| [Link](https://quarkus.io/guides/container-image)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.3

| tkit-quarkus-oidc-health

| | | 2.40.0

| \=== Container [Docker registry](https://github.com/onecx/onecx-announcement-bff/pkgs/container/onecx-announcement-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-announcement-bff/pkgs/container/charts%2Fonecx-announcement-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-announcement-bff" operator: # Permission permission: enabled: true spec: permissions: announcement: read: permission on all GET requests and POST search including assigned meta data write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests product: read: permission to read available products/applications workspace: read: permission to read available workspaces keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-an:all, ocx-ws:read, ocx-pm:read, ocx-ps:read \] microservice: spec: description: OneCX Announcement Backend For Frontend name: OneCX Announcement BFF ---- |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_announcement_svc.url=http://onecx-announcement-svc:8080
%prod.quarkus.rest-client.onecx_workspace_svc_v1.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_product_store.url=http://onecx-product-store-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc_yaml.config-key=onecx_announcement_svc
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc_yaml.base-package=gen.org.tkit.onecx.announcement.client
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_announcement_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.config-key=onecx_workspace_svc_v1
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.base-package=gen.org.tkit.onecx.workspace.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.config-key=onecx_product_store
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.base-package=gen.org.tkit.onecx.product.store
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_announcement_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_workspace_svc_v1.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |

| [Link](https://quarkus.io/guides/container-image)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.3

| tkit-quarkus-oidc-health

| | | 2.40.0

| \=== Container [Docker registry](https://github.com/onecx/onecx-announcement-bff/pkgs/container/onecx-announcement-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-announcement-bff/pkgs/container/charts%2Fonecx-announcement-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-announcement-bff" operator: # Permission permission: enabled: true spec: permissions: announcement: read: permission on all GET requests and POST search including assigned meta data write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests product: read: permission to read available products/applications workspace: read: permission to read available workspaces keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-an:all, ocx-ws:read, ocx-pm:read, ocx-ps:read \] microservice: spec: description: OneCX Announcement Backend For Frontend name: OneCX Announcement BFF ---- |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |

| [Link](https://quarkus.io/guides/container-image)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.3

| tkit-quarkus-oidc-health

| | | 2.40.0

undefined
====================
## [](#%5Fonecx%5Fannouncement%5Fui)onecx-announcement-ui

## [](#%5Fonecx%5Fannouncement%5Fui%5F2)OneCX Announcement UI

### [](#%5Fwhat%5Fis%5Fannouncement%5Fmanagement)What is Announcement Management

OneCX Announcement Management refers to the systematic process of capturing, organizing, storing, and retrieving Announcement items.

### [](#%5Foverview)Overview

OneCX Announcement is a comprehensive solution for managing Announcement items for OneCX products in a user-friendly and efficient manner Announcements contain important news for an organization or user group. They can be shown on the landing page and on a banner at the top of any page. Their visibility may be adjusted, so that individual items can be seen only in relevant workspaces or products.

In this document we are only referring to the OneCX Announcement User Interface (UI) of OneCX Announcement Management.

The user interface (UI) for this Announcement Management component is designed to provide an intuitive and user-friendly experience for managing Announcement items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Announcement User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-announcement-ui.git
git clone https://github.com/onecx/announcement-dev.git
```

The repository `onecx-announcement` contains the source code of the OneCX Announcement product. The repository `onecx-announcement-ui` contains the source code of the OneCX Announcement user interface as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-announcement-ui
127.0.0.1       onecx-announcement-bff
127.0.0.1       onecx-announcement-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite Linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Announcement Management using a simple configuration file.

```bash
mkdir onecx-announcement
cd onecx-announcement
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fannouncement%5Fui)OneCX Announcement UI

### [](#%5Fwhat%5Fis%5Fannouncement%5Fmanagement)What is Announcement Management

OneCX Announcement Management refers to the systematic process of capturing, organizing, storing, and retrieving Announcement items.

### [](#%5Foverview)Overview

OneCX Announcement is a comprehensive solution for managing Announcement items for OneCX products in a user-friendly and efficient manner Announcements contain important news for an organization or user group. They can be shown on the landing page and on a banner at the top of any page. Their visibility may be adjusted, so that individual items can be seen only in relevant workspaces or products.

In this document we are only referring to the OneCX Announcement User Interface (UI) of OneCX Announcement Management.

The user interface (UI) for this Announcement Management component is designed to provide an intuitive and user-friendly experience for managing Announcement items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Announcement User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-announcement-ui.git
git clone https://github.com/onecx/announcement-dev.git
```

The repository `onecx-announcement` contains the source code of the OneCX Announcement product. The repository `onecx-announcement-ui` contains the source code of the OneCX Announcement user interface as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-announcement-ui
127.0.0.1       onecx-announcement-bff
127.0.0.1       onecx-announcement-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite Linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Announcement Management using a simple configuration file.

```bash
mkdir onecx-announcement
cd onecx-announcement
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

OneCX Bookmark Management
====================
## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Bookmark Management Software, please follow our contribution guidelines (tbd).

## [](#%5Fwhat%5Fis%5Fbookmark%5Fmanagement)What is Bookmark Management

Bookmark management refers to storing and retrieving bookmarks.

## [](#%5Fkey%5Ffeatures)Key Features

* Bookmark Storage and Retrieval: Store and retrieve Bookmarks usable in context of OneCX applications.

## [](#%5Fissue%5Ftracking)Issue tracking

All OneCX Bookmark Management issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Foverview)Overview

OneCX Bookmark Management Software is a comprehensive solution for managing Bookmarks in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of OneCX Bookmark Management Software are as follows:

1. Bookmark Management User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the Bookmark management system. Users can perform actions such as searching and editing of Bookmarks.
2. Bookmark Management Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Bookmark Management Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of Bookmarks. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Bookmark Management Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Bookmark Management UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-bookmark/current/ui/index.html)
* [OneCX Bookmark Management BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-bookmark/current/bff/index.html)
* [OneCX Bookmark Management SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-bookmark/current/svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Fbookmark%5Fsvc)onecx-bookmark-svc

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                            | Type    | Default                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | -------------------------- |
| [onecx.bookmark.default.enabled](#onecx-bookmark-svc%5Fonecx-bookmark-default-enabled) Enable or disable default bookmark Environment variable: ONECX\_BOOKMARK\_DEFAULT\_ENABLED | boolean | false                      |
| [onecx.bookmark.default.url](#onecx-bookmark-svc%5Fonecx-bookmark-default-url) Default bookmark URL Environment variable: ONECX\_BOOKMARK\_DEFAULT\_URL                           | string  | <https://github.com/onecx> |
| [onecx.bookmark.product-item-id](#onecx-bookmark-svc%5Fonecx-bookmark-product-item-id) Default bookmark URL Environment variable: ONECX\_BOOKMARK\_PRODUCT\_ITEM\_ID              | string  | PRODUCT\_BASE\_DOC\_URL    |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
tkit.dataimport.enabled=false
tkit.dataimport.configurations.template.file=import/template.json
tkit.dataimport.configurations.template.metadata.tenants=default
tkit.dataimport.configurations.template.class-path=true
tkit.dataimport.configurations.template.enabled=false
tkit.dataimport.configurations.template.stop-at-error=true
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-bookmark?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-bookmark}
%prod.quarkus.datasource.password=${DB_PWD:onecx-bookmark}
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
onecx.validator.values.mapping.bookmark-image-size=bookmark-image-size
onecx.parameters.product-name=onecx-bookmark
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 3.6.0    |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| onecx-parameters                       | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-parameters.html)     | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-parameters.adoc)                        | 1.7.0    |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-smallrye-context-propagation   | 3.20.2.1                                                                                           |                                                                                                                                                  |          |
| onecx-validator                        | 1.7.0                                                                                              |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-bookmark-svc/pkgs/container/onecx-bookmark-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-bookmark-svc/pkgs/container/charts%2Fonecx-bookmark-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-bookmark-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read, ocx-pa-ap:read, ocx-pa-me:write ]
    microservice:
      spec:
        description: OneCX Bookmark Backend Service
        name: OneCX Bookmark SVC
    parameter:
      enabled: true
      spec:
        parameters:
          default:
            bookmark-image-size:
              displayName: Bookmark Image Size Parameter
              description:
              value:
                min: 1
                max: 110000
                message: Image Size Constraint Violation
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
tkit.dataimport.enabled=false
tkit.dataimport.configurations.template.file=import/template.json
tkit.dataimport.configurations.template.metadata.tenants=default
tkit.dataimport.configurations.template.class-path=true
tkit.dataimport.configurations.template.enabled=false
tkit.dataimport.configurations.template.stop-at-error=true
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-bookmark?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-bookmark}
%prod.quarkus.datasource.password=${DB_PWD:onecx-bookmark}
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
onecx.validator.values.mapping.bookmark-image-size=bookmark-image-size
onecx.parameters.product-name=onecx-bookmark
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 3.6.0    |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| onecx-parameters                       | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-parameters.html)     | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-parameters.adoc)                        | 1.7.0    |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-smallrye-context-propagation   | 3.20.2.1                                                                                           |                                                                                                                                                  |          |
| onecx-validator                        | 1.7.0                                                                                              |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-bookmark-svc/pkgs/container/onecx-bookmark-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-bookmark-svc/pkgs/container/charts%2Fonecx-bookmark-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-bookmark-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read, ocx-pa-ap:read, ocx-pa-me:write ]
    microservice:
      spec:
        description: OneCX Bookmark Backend Service
        name: OneCX Bookmark SVC
    parameter:
      enabled: true
      spec:
        parameters:
          default:
            bookmark-image-size:
              displayName: Bookmark Image Size Parameter
              description:
              value:
                min: 1
                max: 110000
                message: Image Size Constraint Violation
```

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 3.6.0    |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| onecx-parameters                       | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-parameters.html)     | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-parameters.adoc)                        | 1.7.0    |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-smallrye-context-propagation   | 3.20.2.1                                                                                           |                                                                                                                                                  |          |
| onecx-validator                        | 1.7.0                                                                                              |                                                                                                                                                  |          |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                            | Type    | Default                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | -------------------------- |
| [onecx.bookmark.default.enabled](#onecx-bookmark-svc%5Fonecx-bookmark-default-enabled) Enable or disable default bookmark Environment variable: ONECX\_BOOKMARK\_DEFAULT\_ENABLED | boolean | false                      |
| [onecx.bookmark.default.url](#onecx-bookmark-svc%5Fonecx-bookmark-default-url) Default bookmark URL Environment variable: ONECX\_BOOKMARK\_DEFAULT\_URL                           | string  | <https://github.com/onecx> |
| [onecx.bookmark.product-item-id](#onecx-bookmark-svc%5Fonecx-bookmark-product-item-id) Default bookmark URL Environment variable: ONECX\_BOOKMARK\_PRODUCT\_ITEM\_ID              | string  | PRODUCT\_BASE\_DOC\_URL    |

undefined
====================
## [](#%5Fonecx%5Fbookmark%5Fbff)onecx-bookmark-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_bookmark_svc.url=http://onecx-bookmark-svc:8080
%prod.quarkus.rest-client.onecx_product_store.url=http://onecx-product-store-svc:8080
%prod.quarkus.rest-client.onecx_bookmark_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.config-key=onecx_bookmark_svc
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.base-package=gen.org.tkit.onecx.bookmark.client
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.onecx_bookmark_svc_yaml.auth.oauth2.token-propagation=false
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.config-key=onecx_bookmark_svc
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.base-package=gen.org.tkit.onecx.bookmark.exim.v1.client
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.onecx_bookmark_svc_exim_v1_yaml.auth.oauth2.token-propagation=false
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.config-key=onecx_bookmark_svc
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.base-package=gen.org.tkit.onecx.bookmark.image.client
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.enable-security-generation=false
quarkus.openapi-generator.onecx_bookmark_image_yaml.auth.oauth2.token-propagation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.config-key=onecx_product_store_svc
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.onecx_product_store_svc_v1_yaml.auth.oauth2.token-propagation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                                                            | Configuration                                                                                                                                    | Version             |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1            |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                                                      | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1            |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                                                              | 3.20.2.1                                                                                                                                         |                     |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1            |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                                                             | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts          |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                                                            | 3.20.2.1                                                                                                                                         |                     |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1            |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1            |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)                                                     | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)                                            | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0               |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)                                             | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0               |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0               |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)                                               | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0               |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html)                                       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0               |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)                                          | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0               |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0               |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)                                                 | 1.7.0                                                                                                                                            |                     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1            |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1            |
| quarkus-oidc-client                    | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| \===mage\[Link\]                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc) | 3.15.3                                                                                                                                           | quarkus-oidc-client |
| 3.15.3                                 | tkit-quarkus-oidc-health                                                                                                                 |                                                                                                                                                  |                     |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-bookmark-bff/pkgs/container/onecx-bookmark-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-bookmark-bff/pkgs/container/charts%2Fonecx-bookmark-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-bookmark-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          bookmark:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
          scope:
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-bm:all, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Bookmark Backend For Frontend
        name: OneCX Bookmark BFF
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_bookmark_svc.url=http://onecx-bookmark-svc:8080
%prod.quarkus.rest-client.onecx_product_store.url=http://onecx-product-store-svc:8080
%prod.quarkus.rest-client.onecx_bookmark_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.config-key=onecx_bookmark_svc
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.base-package=gen.org.tkit.onecx.bookmark.client
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.onecx_bookmark_svc_yaml.auth.oauth2.token-propagation=false
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.config-key=onecx_bookmark_svc
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.base-package=gen.org.tkit.onecx.bookmark.exim.v1.client
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_svc_exim_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.onecx_bookmark_svc_exim_v1_yaml.auth.oauth2.token-propagation=false
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.config-key=onecx_bookmark_svc
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.base-package=gen.org.tkit.onecx.bookmark.image.client
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_bookmark_image_yaml.enable-security-generation=false
quarkus.openapi-generator.onecx_bookmark_image_yaml.auth.oauth2.token-propagation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.config-key=onecx_product_store_svc
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.onecx_product_store_svc_v1_yaml.auth.oauth2.token-propagation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                                                            | Configuration                                                                                                                                    | Version             |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1            |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                                                      | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1            |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                                                              | 3.20.2.1                                                                                                                                         |                     |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1            |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                                                             | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts          |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                                                            | 3.20.2.1                                                                                                                                         |                     |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1            |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1            |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)                                                     | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)                                            | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0               |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)                                             | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0               |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0               |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)                                               | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0               |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html)                                       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0               |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)                                          | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0               |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0               |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)                                                 | 1.7.0                                                                                                                                            |                     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1            |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1            |
| quarkus-oidc-client                    | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| \===mage\[Link\]                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc) | 3.15.3                                                                                                                                           | quarkus-oidc-client |
| 3.15.3                                 | tkit-quarkus-oidc-health                                                                                                                 |                                                                                                                                                  |                     |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-bookmark-bff/pkgs/container/onecx-bookmark-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-bookmark-bff/pkgs/container/charts%2Fonecx-bookmark-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-bookmark-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          bookmark:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
          scope:
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-bm:all, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Bookmark Backend For Frontend
        name: OneCX Bookmark BFF
```

undefined
====================
| Extensions                             | Documentation                                                                                                                            | Configuration                                                                                                                                    | Version             |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1            |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                                                      | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1            |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                                                              | 3.20.2.1                                                                                                                                         |                     |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1            |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                                                             | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts          |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                                                            | 3.20.2.1                                                                                                                                         |                     |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1            |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1            |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)                                                     | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)                                            | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0               |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)                                             | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0               |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0               |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)                                               | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0               |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html)                                       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0               |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)                                          | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0               |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0               |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)                                                 | 1.7.0                                                                                                                                            |                     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1            |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1            |
| quarkus-oidc-client                    | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| \===mage\[Link\]                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc) | 3.15.3                                                                                                                                           | quarkus-oidc-client |
| 3.15.3                                 | tkit-quarkus-oidc-health                                                                                                                 |                                                                                                                                                  |                     |

undefined
====================
## [](#%5Fonecx%5Fbookmark%5Fui)onecx-bookmark-ui

## [](#%5Fonecx%5Fbookmark%5Fui%5F2)OneCX Bookmark UI

### [](#%5Fwhat%5Fis%5Fbookmark%5Fmanagement)What is Bookmark Management

OneCX Bookmark Management refers to the systematic process of capturing, organizing, storing, and retrieving bookmark items.

### [](#%5Foverview)Overview

OneCX Bookmark is a comprehensive solution for managing bookmark items for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX Bookmark User Interface (UI) of OneCX Bookmark Management.

The user interface (UI) for this bookmark management component is designed to provide an intuitive and user-friendly experience for managing bookmark items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Bookmark User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-bookmark-ui.git
```

The repository `onecx-bookmark` contains the source code of the OneCX Bookmark product. The repository `onecx-bookmark-ui` contains the source code of the OneCX Bookmark user interface as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-bookmark-ui
127.0.0.1       onecx-bookmark-bff
127.0.0.1       onecx-bookmark-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Bookmark Management using a simple configuration file.

```bash
mkdir onecx-bookmark
cd onecx-bookmark
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fbookmark%5Fui)OneCX Bookmark UI

### [](#%5Fwhat%5Fis%5Fbookmark%5Fmanagement)What is Bookmark Management

OneCX Bookmark Management refers to the systematic process of capturing, organizing, storing, and retrieving bookmark items.

### [](#%5Foverview)Overview

OneCX Bookmark is a comprehensive solution for managing bookmark items for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX Bookmark User Interface (UI) of OneCX Bookmark Management.

The user interface (UI) for this bookmark management component is designed to provide an intuitive and user-friendly experience for managing bookmark items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Bookmark User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-bookmark-ui.git
```

The repository `onecx-bookmark` contains the source code of the OneCX Bookmark product. The repository `onecx-bookmark-ui` contains the source code of the OneCX Bookmark user interface as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-bookmark-ui
127.0.0.1       onecx-bookmark-bff
127.0.0.1       onecx-bookmark-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Bookmark Management using a simple configuration file.

```bash
mkdir onecx-bookmark
cd onecx-bookmark
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

OneCX Data Orchestrator
====================
## [](#%5Flicense)License

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

undefined
====================
## [](#%5Fonecx%5Fdata%5Forchestrator%5Foperator)onecx-data-orchestrator-operator

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                               | Type               | Default                                |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | -------------------------------------- |
| [onecx.data-orchestrator.digest](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-digest) Digest algorithms. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_DIGEST                                                                                                                      | string             | MD5                                    |
| [onecx.data-orchestrator.token.user-name](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-token-user-name) Username for rest call. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TOKEN\_USER\_NAME                                                                                    | string             | data-orchestrator-operator             |
| [onecx.data-orchestrator.token.header-param](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-token-header-param) Token header parameter. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TOKEN\_HEADER\_PARAM                                                                           | string             | apm-principal-token                    |
| [onecx.data-orchestrator.token.claim-organization-param](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-token-claim-organization-param) Token claim organization parameter. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TOKEN\_CLAIM\_ORGANIZATION\_PARAM                          | string             | orgId                                  |
| [onecx.data-orchestrator.token.claim-organization-param-array](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-token-claim-organization-param-array) Token claim organization parameter array. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TOKEN\_CLAIM\_ORGANIZATION\_PARAM\_ARRAY | boolean            | false                                  |
| [onecx.data-orchestrator.client.shared](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-client-shared) Set to true to share the HTTP client between REST clients. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_CLIENT\_SHARED                                                        | boolean            | true                                   |
| [onecx.data-orchestrator.client.connection-pool-size](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-client-connection-pool-size) The size of the rest client connection pool. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_CLIENT\_CONNECTION\_POOL\_SIZE                          | int                | 30                                     |
| [onecx.data-orchestrator.client.key."keys"](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-client-key-keys) Clients key configuration Environment variable: ONECX\_DATA\_ORCHESTRATOR\_CLIENT\_KEY\_\_KEYS\_                                                                            | Map<String,String> |                                        |
| [onecx.data-orchestrator.leader-election.lease-name](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-leader-election-lease-name) Lease name Environment variable: ONECX\_DATA\_ORCHESTRATOR\_LEADER\_ELECTION\_LEASE\_NAME                                                               | string             | onecx-data-orchestrator-operator-lease |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
onecx.data-orchestrator.client.key.workspace=http://onecx-workspace-svc:8080/exim/v1/workspace/operator
onecx.data-orchestrator.client.key.theme=http://onecx-theme-svc:8080/exim/v1/themes/operator
onecx.data-orchestrator.client.key.tenant=http://onecx-tenant-svc:8080/exim/v1/tenants/operator
onecx.data-orchestrator.client.key.permission=http://onecx-permission-svc:8080/exim/v1/assignments/operator
onecx.data-orchestrator.client.key.help=http://onecx-help-svc:8080/exim/v1/help/operator
quarkus.operator-sdk.controllers.data.retry.max-attempts=10
quarkus.operator-sdk.controllers.data.retry.interval.initial=5000
quarkus.operator-sdk.controllers.data.retry.interval.multiplier=3
quarkus.operator-sdk.controllers.data.retry.interval.max=300000
quarkus.operator-sdk.controllers.data.namespaces=JOSDK_WATCH_CURRENT
quarkus.operator-sdk.crd.validate=false
quarkus.operator-sdk.helm.enabled=true
quarkus.kubernetes-client.devservices.override-kubeconfig=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.3.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.3.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.3.0      |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.20.1     |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.1                                                                                                                                           |            |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.3.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.3.0                                                                                                                                            |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.1     |
| quarkus-operator-sdk-bundle-generator  | 7.1.2                                                                                          |                                                                                                                                                  |            |
| quarkus-operator-sdk                   | 7.1.2                                                                                          |                                                                                                                                                  |            |
| onecx-operator                         | 1.3.0                                                                                          |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.10.0-lts                                                                                     |                                                                                                                                                  |            |
| quarkus-oidc-client                    | 3.20.1                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.20.1                                                                                         |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-data-orchestrator-operator/pkgs/container/onecx-data-orchestrator-operator)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-data-orchestrator-operator/pkgs/container/charts%2Fonecx-data-orchestrator-operator)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: operator
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-data-orchestrator-operator"
  envCustom:
    - name: KUBERNETES_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  serviceAccount:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ws:write, ocx-pm:write, ocx-pm-assignment:write, ocx-tn:write, ocx-th:write, ocx-hp:write ]
    microservice:
      spec:
        description: OneCX Data Orchestrator Operator
        name: OneCX Data Orchestrator Operator
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
onecx.data-orchestrator.client.key.workspace=http://onecx-workspace-svc:8080/exim/v1/workspace/operator
onecx.data-orchestrator.client.key.theme=http://onecx-theme-svc:8080/exim/v1/themes/operator
onecx.data-orchestrator.client.key.tenant=http://onecx-tenant-svc:8080/exim/v1/tenants/operator
onecx.data-orchestrator.client.key.permission=http://onecx-permission-svc:8080/exim/v1/assignments/operator
onecx.data-orchestrator.client.key.help=http://onecx-help-svc:8080/exim/v1/help/operator
quarkus.operator-sdk.controllers.data.retry.max-attempts=10
quarkus.operator-sdk.controllers.data.retry.interval.initial=5000
quarkus.operator-sdk.controllers.data.retry.interval.multiplier=3
quarkus.operator-sdk.controllers.data.retry.interval.max=300000
quarkus.operator-sdk.controllers.data.namespaces=JOSDK_WATCH_CURRENT
quarkus.operator-sdk.crd.validate=false
quarkus.operator-sdk.helm.enabled=true
quarkus.kubernetes-client.devservices.override-kubeconfig=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.3.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.3.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.3.0      |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.20.1     |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.1                                                                                                                                           |            |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.3.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.3.0                                                                                                                                            |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.1     |
| quarkus-operator-sdk-bundle-generator  | 7.1.2                                                                                          |                                                                                                                                                  |            |
| quarkus-operator-sdk                   | 7.1.2                                                                                          |                                                                                                                                                  |            |
| onecx-operator                         | 1.3.0                                                                                          |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.10.0-lts                                                                                     |                                                                                                                                                  |            |
| quarkus-oidc-client                    | 3.20.1                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.20.1                                                                                         |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-data-orchestrator-operator/pkgs/container/onecx-data-orchestrator-operator)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-data-orchestrator-operator/pkgs/container/charts%2Fonecx-data-orchestrator-operator)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: operator
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-data-orchestrator-operator"
  envCustom:
    - name: KUBERNETES_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  serviceAccount:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ws:write, ocx-pm:write, ocx-pm-assignment:write, ocx-tn:write, ocx-th:write, ocx-hp:write ]
    microservice:
      spec:
        description: OneCX Data Orchestrator Operator
        name: OneCX Data Orchestrator Operator
```

undefined
====================
| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.3.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.3.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.3.0      |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.20.1     |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.1                                                                                                                                           |            |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.3.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.3.0                                                                                                                                            |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.1     |
| quarkus-operator-sdk-bundle-generator  | 7.1.2                                                                                          |                                                                                                                                                  |            |
| quarkus-operator-sdk                   | 7.1.2                                                                                          |                                                                                                                                                  |            |
| onecx-operator                         | 1.3.0                                                                                          |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.10.0-lts                                                                                     |                                                                                                                                                  |            |
| quarkus-oidc-client                    | 3.20.1                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.20.1                                                                                         |                                                                                                                                                  |            |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                                               | Type               | Default                                |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | -------------------------------------- |
| [onecx.data-orchestrator.digest](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-digest) Digest algorithms. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_DIGEST                                                                                                                      | string             | MD5                                    |
| [onecx.data-orchestrator.token.user-name](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-token-user-name) Username for rest call. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TOKEN\_USER\_NAME                                                                                    | string             | data-orchestrator-operator             |
| [onecx.data-orchestrator.token.header-param](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-token-header-param) Token header parameter. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TOKEN\_HEADER\_PARAM                                                                           | string             | apm-principal-token                    |
| [onecx.data-orchestrator.token.claim-organization-param](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-token-claim-organization-param) Token claim organization parameter. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TOKEN\_CLAIM\_ORGANIZATION\_PARAM                          | string             | orgId                                  |
| [onecx.data-orchestrator.token.claim-organization-param-array](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-token-claim-organization-param-array) Token claim organization parameter array. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TOKEN\_CLAIM\_ORGANIZATION\_PARAM\_ARRAY | boolean            | false                                  |
| [onecx.data-orchestrator.client.shared](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-client-shared) Set to true to share the HTTP client between REST clients. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_CLIENT\_SHARED                                                        | boolean            | true                                   |
| [onecx.data-orchestrator.client.connection-pool-size](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-client-connection-pool-size) The size of the rest client connection pool. Environment variable: ONECX\_DATA\_ORCHESTRATOR\_CLIENT\_CONNECTION\_POOL\_SIZE                          | int                | 30                                     |
| [onecx.data-orchestrator.client.key."keys"](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-client-key-keys) Clients key configuration Environment variable: ONECX\_DATA\_ORCHESTRATOR\_CLIENT\_KEY\_\_KEYS\_                                                                            | Map<String,String> |                                        |
| [onecx.data-orchestrator.leader-election.lease-name](#onecx-data-orchestrator-operator%5Fonecx-data-orchestrator-leader-election-lease-name) Lease name Environment variable: ONECX\_DATA\_ORCHESTRATOR\_LEADER\_ELECTION\_LEASE\_NAME                                                               | string             | onecx-data-orchestrator-operator-lease |

undefined
====================
## [](#%5Fonecx%5Fdata%5Forchestrator%5Fbff)onecx-data-orchestrator-bff

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                       | Type    | Default  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| [onecx.data.orchestrator.types."types".enabled](#onecx-data-orchestrator-bff%5Fonecx-data-orchestrator-types-types-enabled) Enable or disable a specific resource Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TYPES\_\_TYPES\_\_ENABLED | boolean | true     |
| [onecx.data.orchestrator.types."types".value](#onecx-data-orchestrator-bff%5Fonecx-data-orchestrator-types-types-value) Kind value from custom resource definition Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TYPES\_\_TYPES\_\_VALUE  | string  | required |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
onecx.permissions.product-name=onecx-data-orchestrator
quarkus.kubernetes-client.trust-certs=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
onecx.data.orchestrator.types.data.enabled=true
onecx.data.orchestrator.types.data.value=Data
onecx.data.orchestrator.types.database.enabled=true
onecx.data.orchestrator.types.database.value=Database
onecx.data.orchestrator.types.keycloak-client.enabled=true
onecx.data.orchestrator.types.keycloak-client.value=KeycloakClient
onecx.data.orchestrator.types.microfrontend.enabled=true
onecx.data.orchestrator.types.microfrontend.value=Microfrontend
onecx.data.orchestrator.types.microservice.enabled=true
onecx.data.orchestrator.types.microservice.value=Microservice
onecx.data.orchestrator.types.parameter.enabled=true
onecx.data.orchestrator.types.parameter.value=Parameter
onecx.data.orchestrator.types.permission.enabled=true
onecx.data.orchestrator.types.permission.value=Permission
onecx.data.orchestrator.types.product.enabled=true
onecx.data.orchestrator.types.product.value=Product
onecx.data.orchestrator.types.slot.enabled=true
onecx.data.orchestrator.types.slot.value=Slot
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-kubernetes-client              | 3.27.1                                                                                             |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |
| \===r                                  | 3.20.2.1                                                                                           |                                                                                                                                                  |            |

| | | 2.40.0

|===om/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.3

| quarkus-kubernetes-client

| | | 3.15.3

|===ttps://quarkus.io/guides/container-image\[Link\] | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.1

| quarkus-kubernetes-client

| | | 3.15.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/onecx-data-orchestrator-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/charts%2Fonecx-data-orchestrator-bff) Default values .src/main/helm/values.yamls.yaml \[source,yaml\] ---- app: serviceAccount: enabled: true name: bff template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-data-orchestrator-bff" envCustom: - name: QUARKUS\_KUBERNETES\_CLIENT\_NAMESPACE valueFrom: fieldRef: fieldPath: metadata.namespace operator: # Permission permission: enabled: true spec: permissions: crd: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated touch: permission on PUT request, where a resource is touched keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-pm:read \] microservice: spec: description: OneCX Data Orchestrator Backend for Frontend name: OneCX Data Orchestrator BFF ---- c.client.reactive.filter.OidcClientRequestReactiveFilter %prod.quarkus.rest-client.onecx\_announcement\_v1.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter %prod.quarkus.oidc-client.client-id=${quarkus.application.name} ---- ==== \=== Extensions :docker-registry: <https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/onecx-data-orchestrator-bff>:helm-registry: <https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/charts%2Fonecx-data-orchestrator-bff>:properties-file: src/main/resources/application.properties :helm-file: src/main/helm/values.yamls.yaml \[.extension.table.searchable, cols="50,.15,.15,.^20"\] |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

h| Extensions h| Documentation h| Configuration h| Version

| quarkus-rest

| [Link](https://quarkus.io/guides/rest)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)| 3.15.1

| quarkus-smallrye-openapi

| [Link](https://quarkus.io/guides/openapi-swaggerui)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)| 3.15.1

| quarkus-rest-jackson

| [Link](https://quarkus.io/guides/rest-json)| | 3.15.1

| quarkus-smallrye-health

| [Link](https://quarkus.io/guides/smallrye-health)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)| 3.15.1

| quarkus-opentelemetry

| [Link](https://quarkus.io/guides/opentelemetry)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)| 3.15.1

| quarkus-micrometer-registry-prometheus

| [Link](https://quarkus.io/guides/telemetry-micrometer)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc)| 3.15.1

| quarkus-openapi-generator

| [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)| [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.4.7/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc)| 2.4.7

| quarkus-rest-client-reactive-jackson

| [Link](https://quarkus.io/guides/rest-client)| | 3.15.1

| tkit-quarkus-log-cdi

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)| 2.33.0

| tkit-quarkus-log-rs

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)| 2.33.0

| tkit-quarkus-log-json

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)| 2.33.0

| tkit-quarkus-rest

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)| 2.33.0

| tkit-quarkus-rest-context

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)| 2.33.0

| tkit-quarkus-jpa

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)| 2.33.0

| quarkus-hibernate-validator

| [Link](https://quarkus.io/guides/validation)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)| 3.15.1

| onecx-permissions

| [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)| [Link](https://github.com/onecx/onecx-quarkus/blob/0.31.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)| 0.31.0

| quarkus-oidc

| [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)| 3.15.1

| quarkus-oidc-client-reactive-filter

| [Link](https://quarkus.io/guides/security-openid-connect-client-reference)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc-client-reactive-filter.adoc)| 3.15.1

| tkit-quarkus-security

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)| 2.33.0

| onecx-core

| [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)| | 0.31.0

| quarkus-arc

| [Link](https://quarkus.io/guides/cdi-reference)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)| 3.15.1

| quarkus-container-image-docker

| [Link](https://quarkus.io/guides/container-image)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/onecx-data-orchestrator-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/charts%2Fonecx-data-orchestrator-bff) Default values .src/main/helm/values.yamls.yaml \[source,yaml\] ---- app: name: bff image: repository: "onecx/onecx-welcome-bff" operator: # Permission permission: enabled: true spec: permissions: image: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests announcement: read: permission on all GET requests and POST search keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-wc:all, ocx-pm:read, ocx-an:read \] ---- |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
onecx.permissions.product-name=onecx-data-orchestrator
quarkus.kubernetes-client.trust-certs=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
onecx.data.orchestrator.types.data.enabled=true
onecx.data.orchestrator.types.data.value=Data
onecx.data.orchestrator.types.database.enabled=true
onecx.data.orchestrator.types.database.value=Database
onecx.data.orchestrator.types.keycloak-client.enabled=true
onecx.data.orchestrator.types.keycloak-client.value=KeycloakClient
onecx.data.orchestrator.types.microfrontend.enabled=true
onecx.data.orchestrator.types.microfrontend.value=Microfrontend
onecx.data.orchestrator.types.microservice.enabled=true
onecx.data.orchestrator.types.microservice.value=Microservice
onecx.data.orchestrator.types.parameter.enabled=true
onecx.data.orchestrator.types.parameter.value=Parameter
onecx.data.orchestrator.types.permission.enabled=true
onecx.data.orchestrator.types.permission.value=Permission
onecx.data.orchestrator.types.product.enabled=true
onecx.data.orchestrator.types.product.value=Product
onecx.data.orchestrator.types.slot.enabled=true
onecx.data.orchestrator.types.slot.value=Slot
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-kubernetes-client              | 3.27.1                                                                                             |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |
| \===r                                  | 3.20.2.1                                                                                           |                                                                                                                                                  |            |

| | | 2.40.0

|===om/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.3

| quarkus-kubernetes-client

| | | 3.15.3

|===ttps://quarkus.io/guides/container-image\[Link\] | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.1

| quarkus-kubernetes-client

| | | 3.15.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/onecx-data-orchestrator-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/charts%2Fonecx-data-orchestrator-bff) Default values .src/main/helm/values.yamls.yaml \[source,yaml\] ---- app: serviceAccount: enabled: true name: bff template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-data-orchestrator-bff" envCustom: - name: QUARKUS\_KUBERNETES\_CLIENT\_NAMESPACE valueFrom: fieldRef: fieldPath: metadata.namespace operator: # Permission permission: enabled: true spec: permissions: crd: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated touch: permission on PUT request, where a resource is touched keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-pm:read \] microservice: spec: description: OneCX Data Orchestrator Backend for Frontend name: OneCX Data Orchestrator BFF ---- c.client.reactive.filter.OidcClientRequestReactiveFilter %prod.quarkus.rest-client.onecx\_announcement\_v1.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter %prod.quarkus.oidc-client.client-id=${quarkus.application.name} ---- ==== \=== Extensions :docker-registry: <https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/onecx-data-orchestrator-bff>:helm-registry: <https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/charts%2Fonecx-data-orchestrator-bff>:properties-file: src/main/resources/application.properties :helm-file: src/main/helm/values.yamls.yaml \[.extension.table.searchable, cols="50,.15,.15,.^20"\] |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

h| Extensions h| Documentation h| Configuration h| Version

| quarkus-rest

| [Link](https://quarkus.io/guides/rest)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)| 3.15.1

| quarkus-smallrye-openapi

| [Link](https://quarkus.io/guides/openapi-swaggerui)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)| 3.15.1

| quarkus-rest-jackson

| [Link](https://quarkus.io/guides/rest-json)| | 3.15.1

| quarkus-smallrye-health

| [Link](https://quarkus.io/guides/smallrye-health)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)| 3.15.1

| quarkus-opentelemetry

| [Link](https://quarkus.io/guides/opentelemetry)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)| 3.15.1

| quarkus-micrometer-registry-prometheus

| [Link](https://quarkus.io/guides/telemetry-micrometer)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc)| 3.15.1

| quarkus-openapi-generator

| [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)| [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.4.7/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc)| 2.4.7

| quarkus-rest-client-reactive-jackson

| [Link](https://quarkus.io/guides/rest-client)| | 3.15.1

| tkit-quarkus-log-cdi

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)| 2.33.0

| tkit-quarkus-log-rs

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)| 2.33.0

| tkit-quarkus-log-json

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)| 2.33.0

| tkit-quarkus-rest

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)| 2.33.0

| tkit-quarkus-rest-context

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)| 2.33.0

| tkit-quarkus-jpa

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)| 2.33.0

| quarkus-hibernate-validator

| [Link](https://quarkus.io/guides/validation)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)| 3.15.1

| onecx-permissions

| [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)| [Link](https://github.com/onecx/onecx-quarkus/blob/0.31.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)| 0.31.0

| quarkus-oidc

| [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)| 3.15.1

| quarkus-oidc-client-reactive-filter

| [Link](https://quarkus.io/guides/security-openid-connect-client-reference)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc-client-reactive-filter.adoc)| 3.15.1

| tkit-quarkus-security

| [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)| [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)| 2.33.0

| onecx-core

| [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)| | 0.31.0

| quarkus-arc

| [Link](https://quarkus.io/guides/cdi-reference)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)| 3.15.1

| quarkus-container-image-docker

| [Link](https://quarkus.io/guides/container-image)| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/onecx-data-orchestrator-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-data-orchestrator-bff/pkgs/container/charts%2Fonecx-data-orchestrator-bff) Default values .src/main/helm/values.yamls.yaml \[source,yaml\] ---- app: name: bff image: repository: "onecx/onecx-welcome-bff" operator: # Permission permission: enabled: true spec: permissions: image: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests announcement: read: permission on all GET requests and POST search keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-wc:all, ocx-pm:read, ocx-an:read \] ---- |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-kubernetes-client              | 3.27.1                                                                                             |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |
| \===r                                  | 3.20.2.1                                                                                           |                                                                                                                                                  |            |

| | | 2.40.0

|===om/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.3

| quarkus-kubernetes-client

| | | 3.15.3

|===ttps://quarkus.io/guides/container-image\[Link\] | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.1

| quarkus-kubernetes-client

| | | 3.15.1

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                       | Type    | Default  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| [onecx.data.orchestrator.types."types".enabled](#onecx-data-orchestrator-bff%5Fonecx-data-orchestrator-types-types-enabled) Enable or disable a specific resource Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TYPES\_\_TYPES\_\_ENABLED | boolean | true     |
| [onecx.data.orchestrator.types."types".value](#onecx-data-orchestrator-bff%5Fonecx-data-orchestrator-types-types-value) Kind value from custom resource definition Environment variable: ONECX\_DATA\_ORCHESTRATOR\_TYPES\_\_TYPES\_\_VALUE  | string  | required |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.15.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.15.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.15.1                                                                                                                                           |         |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.15.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.15.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.15.1  |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.4.7/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc)      | 2.4.7   |
| quarkus-rest-client-reactive-jackson   | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.15.1                                                                                                                                           |         |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                   | 2.33.0  |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                    | 2.33.0  |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                  | 2.33.0  |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                      | 2.33.0  |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)              | 2.33.0  |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                       | 2.33.0  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.15.1  |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/0.31.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                      | 0.31.0  |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.15.1  |
| quarkus-oidc-client-reactive-filter    | [Link](https://quarkus.io/guides/security-openid-connect-client-reference)                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc-client-reactive-filter.adoc)    | 3.15.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.33.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                  | 2.33.0  |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 0.31.0                                                                                                                                           |         |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.15.1  |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.15.1  |

undefined
====================
## [](#%5Fonecx%5Fdata%5Forchestrator%5Fui)onecx-data-orchestrator-ui

## [](#%5Fonecx%5Fannouncement%5Fui)OneCX Announcement UI

### [](#%5Fwhat%5Fis%5Fannouncement%5Fmanagement)What is Announcement Management

OneCX Announcement Management refers to the systematic process of capturing, organizing, storing, and retrieving Announcement items.

### [](#%5Foverview)Overview

OneCX Announcement is a comprehensive solution for managing Announcement items for OneCX products in a user-friendly and efficient manner Announcements contain important news for an organization or user group. They can be shown on the landing page and on a banner at the top of any page. Their visibility may be adjusted, so that individual items can be seen only in relevant workspaces or products.

In this document we are only referring to the OneCX Announcement User Interface (UI) of OneCX Announcement Management.

The user interface (UI) for this Announcement Management component is designed to provide an intuitive and user-friendly experience for managing Announcement items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Announcement User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-announcement-ui.git
git clone https://github.com/onecx/announcement-dev.git
```

The repository `onecx-announcement` contains the source code of the OneCX Announcement product. The repository `onecx-announcement-ui` contains the source code of the OneCX Announcement user interface as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-announcement-ui
127.0.0.1       onecx-announcement-bff
127.0.0.1       onecx-announcement-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite Linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Announcement Management using a simple configuration file.

```bash
mkdir onecx-announcement
cd onecx-announcement
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fannouncement%5Fui)OneCX Announcement UI

### [](#%5Fwhat%5Fis%5Fannouncement%5Fmanagement)What is Announcement Management

OneCX Announcement Management refers to the systematic process of capturing, organizing, storing, and retrieving Announcement items.

### [](#%5Foverview)Overview

OneCX Announcement is a comprehensive solution for managing Announcement items for OneCX products in a user-friendly and efficient manner Announcements contain important news for an organization or user group. They can be shown on the landing page and on a banner at the top of any page. Their visibility may be adjusted, so that individual items can be seen only in relevant workspaces or products.

In this document we are only referring to the OneCX Announcement User Interface (UI) of OneCX Announcement Management.

The user interface (UI) for this Announcement Management component is designed to provide an intuitive and user-friendly experience for managing Announcement items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Announcement User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-announcement-ui.git
git clone https://github.com/onecx/announcement-dev.git
```

The repository `onecx-announcement` contains the source code of the OneCX Announcement product. The repository `onecx-announcement-ui` contains the source code of the OneCX Announcement user interface as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-announcement-ui
127.0.0.1       onecx-announcement-bff
127.0.0.1       onecx-announcement-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite Linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Announcement Management using a simple configuration file.

```bash
mkdir onecx-announcement
cd onecx-announcement
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

OneCX Help Management
====================
![overview](_images/overview.png) 

Figure 1\. Help UI

## [](#%5Foverview)Overview

The Portal Help Management feature is designed to provide users with easy access to help resources and support within the portal. It ensures that users can quickly find the information they need to resolve issues, understand features, and maximize their use of the portal.

**Contextual Help**:

* In-Page Assistance: Offers contextual help directly within the portal pages, providing users with relevant information and guidance based on their current activity.

**Administrative Controls**:

* Help Content Management: Provides administrators with tools to create, edit, and manage help content, ensuring that information is accurate and up-to-date.
* Instant Updates: Allows administrators to instantly update help content, ensuring users always have access to the latest information.

## [](#%5Fbenefits)Benefits

* Improved User Experience: Ensures that users can easily find the help they need, reducing frustration and enhancing their overall experience with the portal.
* Increased Efficiency: Provides quick and effective support, helping users resolve issues faster and get back to their tasks.
* Enhanced Support Quality: Allows administrators to maintain high-quality help resources, ensuring that users receive accurate and helpful information

## [](#%5Fui%5Fexamples)UI Examples

![help configuration](_images/help_configuration.png) 

Figure 2\. Help configuration

## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Help Management Software, please follow our contribution guidelines (tbd).

## [](#%5Fissue%5Ftracking)Issue Tracking

All OneCX Help issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Fstructure%5Foverview)Structure Overview

OneCX Help Software is a comprehensive solution for managing Help items in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of the OneCX Help Software are as follows:

1. Help User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the Help system. Users can perform actions such as searching and editing of Help items.
2. Help Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Help Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of Help items. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Help Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Help UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-help/current/onecx-help-ui/index.html)
* [OneCX Help BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-help/current/onecx-help-bff/index.html)
* [OneCX Help SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-help/current/onecx-help-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Fhelp%5Fsvc)onecx-help-svc

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                        | Type    | Default                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------------------------ |
| [onecx.help.default.enabled](#onecx-help-svc%5Fonecx-help-default-enabled) Enable or disable default help Environment variable: ONECX\_HELP\_DEFAULT\_ENABLED | boolean | false                    |
| [onecx.help.default.url](#onecx-help-svc%5Fonecx-help-default-url) Default help URL Environment variable: ONECX\_HELP\_DEFAULT\_URL                           | string  | https://github.com/onecx |
| [onecx.help.product-item-id](#onecx-help-svc%5Fonecx-help-product-item-id) Default help URL Environment variable: ONECX\_HELP\_PRODUCT\_ITEM\_ID              | string  | PRODUCT\_BASE\_DOC\_URL  |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
tkit.dataimport.enabled=false
tkit.dataimport.configurations.template.file=import/template.json
tkit.dataimport.configurations.template.metadata.tenants=default
tkit.dataimport.configurations.template.class-path=true
tkit.dataimport.configurations.template.enabled=false
tkit.dataimport.configurations.template.stop-at-error=true
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-help?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-help}
%prod.quarkus.datasource.password=${DB_PWD:onecx-help}
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 2.3.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 4.4.0   |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |
| quarkus-smallrye-context-propagation   | 3.27.1                                                                                             |                                                                                                                                                  |         |
| \===ion                                | 3.20.2.1                                                                                           |                                                                                                                                                  |         |
| \===tion                               | 3.15.3                                                                                             |                                                                                                                                                  |         |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |         |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-help-svc/pkgs/container/onecx-help-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-help-svc/pkgs/container/charts%2Fonecx-help-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  image:
    repository: "onecx/onecx-help-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Help Backend Service
        name: OneCX Help SVC
```

spec:
     description: OneCX Help Backend Service
     name: OneCX Help SVC

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
tkit.dataimport.enabled=false
tkit.dataimport.configurations.template.file=import/template.json
tkit.dataimport.configurations.template.metadata.tenants=default
tkit.dataimport.configurations.template.class-path=true
tkit.dataimport.configurations.template.enabled=false
tkit.dataimport.configurations.template.stop-at-error=true
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-help?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-help}
%prod.quarkus.datasource.password=${DB_PWD:onecx-help}
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 2.3.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 4.4.0   |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |
| quarkus-smallrye-context-propagation   | 3.27.1                                                                                             |                                                                                                                                                  |         |
| \===ion                                | 3.20.2.1                                                                                           |                                                                                                                                                  |         |
| \===tion                               | 3.15.3                                                                                             |                                                                                                                                                  |         |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |         |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-help-svc/pkgs/container/onecx-help-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-help-svc/pkgs/container/charts%2Fonecx-help-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  image:
    repository: "onecx/onecx-help-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Help Backend Service
        name: OneCX Help SVC
```

spec:
     description: OneCX Help Backend Service
     name: OneCX Help SVC

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 2.3.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 4.4.0   |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |
| quarkus-smallrye-context-propagation   | 3.27.1                                                                                             |                                                                                                                                                  |         |
| \===ion                                | 3.20.2.1                                                                                           |                                                                                                                                                  |         |
| \===tion                               | 3.15.3                                                                                             |                                                                                                                                                  |         |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |         |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                        | Type    | Default                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------------------------ |
| [onecx.help.default.enabled](#onecx-help-svc%5Fonecx-help-default-enabled) Enable or disable default help Environment variable: ONECX\_HELP\_DEFAULT\_ENABLED | boolean | false                    |
| [onecx.help.default.url](#onecx-help-svc%5Fonecx-help-default-url) Default help URL Environment variable: ONECX\_HELP\_DEFAULT\_URL                           | string  | https://github.com/onecx |
| [onecx.help.product-item-id](#onecx-help-svc%5Fonecx-help-product-item-id) Default help URL Environment variable: ONECX\_HELP\_PRODUCT\_ITEM\_ID              | string  | PRODUCT\_BASE\_DOC\_URL  |

undefined
====================
## [](#%5Fonecx%5Fhelp%5Fbff)onecx-help-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
%prod.quarkus.rest-client.onecx_help_svc.url=http://onecx-help-svc:8080
%prod.quarkus.rest-client.onecx_product_store.url=http://onecx-product-store-svc:8080
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_help_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.config-key=onecx_help_svc
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.base-package=gen.org.tkit.onecx.help.client
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.onecx_help_svc_yaml.auth.oauth2.token-propagation=false
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.config-key=onecx_help_svc
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.base-package=gen.org.tkit.onecx.help.exim.client
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.config-key=onecx_product_store
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.base-package=gen.org.tkit.onecx.product.store
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                                                            | Configuration                                                                                                                                    | Version             |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1            |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                                                      | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1            |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                                                              | 3.20.2.1                                                                                                                                         |                     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                                                             | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts          |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                                                            | 3.20.2.1                                                                                                                                         |                     |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)                                            | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0               |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)                                             | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0               |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0               |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)                                               | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0               |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html)                                       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0               |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1            |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1            |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)                                                     | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1            |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)                                          | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0               |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0               |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)                                                 | 1.7.0                                                                                                                                            |                     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1            |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1            |
| quarkus-oidc-client                    | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| \===mage\[Link\]                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc) | 3.12.2                                                                                                                                           | quarkus-oidc-client |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-help-bff/pkgs/container/onecx-help-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-help-bff/pkgs/container/charts%2Fonecx-help-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-help-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          help:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-hp:all, ocx-ps:read, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Help Backend For Frontend
        name: OneCX Help BFF
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
%prod.quarkus.rest-client.onecx_help_svc.url=http://onecx-help-svc:8080
%prod.quarkus.rest-client.onecx_product_store.url=http://onecx-product-store-svc:8080
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_help_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.config-key=onecx_help_svc
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.base-package=gen.org.tkit.onecx.help.client
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.onecx_help_svc_yaml.auth.oauth2.token-propagation=false
quarkus.openapi-generator.codegen.spec.onecx_help_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.config-key=onecx_help_svc
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.base-package=gen.org.tkit.onecx.help.exim.client
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_help_svc_exim_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.config-key=onecx_product_store
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.base-package=gen.org.tkit.onecx.product.store
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_v1_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                                                            | Configuration                                                                                                                                    | Version             |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1            |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                                                      | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1            |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                                                              | 3.20.2.1                                                                                                                                         |                     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                                                             | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts          |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                                                            | 3.20.2.1                                                                                                                                         |                     |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)                                            | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0               |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)                                             | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0               |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0               |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)                                               | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0               |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html)                                       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0               |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1            |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1            |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)                                                     | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1            |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)                                          | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0               |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0               |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)                                                 | 1.7.0                                                                                                                                            |                     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1            |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1            |
| quarkus-oidc-client                    | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| \===mage\[Link\]                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc) | 3.12.2                                                                                                                                           | quarkus-oidc-client |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-help-bff/pkgs/container/onecx-help-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-help-bff/pkgs/container/charts%2Fonecx-help-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-help-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          help:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-hp:all, ocx-ps:read, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Help Backend For Frontend
        name: OneCX Help BFF
```

undefined
====================
| Extensions                             | Documentation                                                                                                                            | Configuration                                                                                                                                    | Version             |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1            |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                                                      | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1            |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                                                              | 3.20.2.1                                                                                                                                         |                     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                                                             | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts          |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                                                            | 3.20.2.1                                                                                                                                         |                     |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)                                            | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0               |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)                                             | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0               |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0               |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)                                               | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0               |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html)                                       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0               |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1            |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1            |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)                                                     | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1            |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)                                          | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0               |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)                                           | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0               |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)                                                 | 1.7.0                                                                                                                                            |                     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                                                          | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1            |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1            |
| quarkus-oidc-client                    | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                                                                 |                                                                                                                                                  |                     |
| \===mage\[Link\]                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc) | 3.12.2                                                                                                                                           | quarkus-oidc-client |

undefined
====================
## [](#%5Fonecx%5Fhelp%5Fui)onecx-help-ui

## [](#%5Fonecx%5Fhelp%5Fui%5F2)OneCX Help UI

![OneCX Help UI](https://github.com/onecx-apps/onecx-help-ui/actions/workflows/build.yml/badge.svg)

### [](#%5Fwhat%5Fis%5Fhelp%5Fmanagement)What is Help Management?

OneCX Help Management refers to the systematic process of capturing, organizing, storing, and retrieving help items.

### [](#%5Foverview)Overview

OneCX Help is a comprehensive solution for managing Help items for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX Help User Interface (UI) of OneCX Help Management.

The UI for this Help management component is designed to provide an intuitive and user-friendly experience for managing Help items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Help UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-help-ui.git
git clone https://github.com/onecx/help-dev.git
```

The repository `onecx-help` contains the source code of the OneCX Help product. The repository `onecx-help-ui` contains the source code of the OneCX Help UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-help-ui
127.0.0.1       onecx-help-bff
127.0.0.1       onecx-help-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Help Management using a simple configuration file.

```bash
mkdir onecx-help
cd onecx-help
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fhelp%5Fui)OneCX Help UI

![OneCX Help UI](https://github.com/onecx-apps/onecx-help-ui/actions/workflows/build.yml/badge.svg)

### [](#%5Fwhat%5Fis%5Fhelp%5Fmanagement)What is Help Management?

OneCX Help Management refers to the systematic process of capturing, organizing, storing, and retrieving help items.

### [](#%5Foverview)Overview

OneCX Help is a comprehensive solution for managing Help items for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX Help User Interface (UI) of OneCX Help Management.

The UI for this Help management component is designed to provide an intuitive and user-friendly experience for managing Help items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Help UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-help-ui.git
git clone https://github.com/onecx/help-dev.git
```

The repository `onecx-help` contains the source code of the OneCX Help product. The repository `onecx-help-ui` contains the source code of the OneCX Help UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-help-ui
127.0.0.1       onecx-help-bff
127.0.0.1       onecx-help-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Help Management using a simple configuration file.

```bash
mkdir onecx-help
cd onecx-help
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

OneCX Identity Access Management
====================
## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Identity Access Management Software, please follow our contribution guidelines (tbd).

## [](#%5Fwhat%5Fis%5Fidentity%5Faccess%5Fmanagement)What is Identity Access Management?

Identity Access Management (IAM) refers to storing and retrieving user identity items usable in context of OneCX applications.

## [](#%5Fkey%5Ffeatures)Key Features

* User Identity item Storage and Retrieval: Store and retrieve user identity items usable in context of OneCX applications.

## [](#%5Fissue%5Ftracking)Issue tracking

All OneCX IAM issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Foverview)Overview

OneCX IAM Software is a comprehensive solution for managing user identity items in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of the OneCX IAM Software are as follows:

1. IAM User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the IAM system. Users can perform actions such as searching and editing of user identity items.
2. IAM Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. IAM Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of user identity items. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX IAM Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX IAM UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-iam/current/onecx-iam-ui/index.html)
* [OneCX IAM BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-iam/current/onecx-iam-bff/index.html)
* [OneCX IAM SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-iam/current/onecx-iam-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Fiam%5Fsvc)onecx-iam-svc

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                          | Type   | Default  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | -------- |
| [onecx.iam.keycloaks."keycloaks".display-name](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-display-name) Display name for keycloak Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_DISPLAY\_NAME | string | required |
| [onecx.iam.keycloaks."keycloaks".description](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-description) Description for keycloak Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_DESCRIPTION      | string |          |
| [onecx.iam.keycloaks."keycloaks".url](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-url) url of keycloak Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_URL                                       | string | required |
| [onecx.iam.keycloaks."keycloaks".issuerHost](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-issuerhost) Baseurl of keycloak Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_ISSUERHOST              | string | required |
| [onecx.iam.keycloaks."keycloaks".realm](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-realm) Keycloak realm Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_REALM                                  | string | required |
| [onecx.iam.keycloaks."keycloaks".client](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-client) Client for keylcloak admin api Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_CLIENT               | string | required |
| [onecx.iam.keycloaks."keycloaks".secret](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-secret) Client secret Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_SECRET                                | string | required |
| [onecx.iam.keycloaks."keycloaks".username](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-username) Username for keycloak admin api access Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_USERNAME | string | required |
| [onecx.iam.keycloaks."keycloaks".password](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-password) User password Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_PASSWORD                          | string | required |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.keycloak.admin-client.server-url=http://keycloak:8080
quarkus.keycloak.admin-client.realm=master
quarkus.keycloak.admin-client.username=admin
quarkus.keycloak.admin-client.password=admin
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.http.test-port=0
keycloak.cors=true
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-keycloak-admin-rest-client     | 3.20.2.1                                                                                           |                                                                                                                                                  |          |
| \===tive                               | 3.15.3                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |
| \===ontainer-image-docker.adoc\[Link\] | 3.15.3                                                                                             | onecx-security                                                                                                                                   |          |
| 0.34.0                                 | quarkus-keycloak-admin-client-reactive                                                             |                                                                                                                                                  |          |
| 3.15.3                                 | tkit-quarkus-oidc-health                                                                           |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-iam-svc/pkgs/container/onecx-iam-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-iam-svc/pkgs/container/charts%2Fonecx-iam-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  image:
    repository: "onecx/onecx-iam-svc"
  db:
    enabled: false
```

db:
  enabled: false

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.keycloak.admin-client.server-url=http://keycloak:8080
quarkus.keycloak.admin-client.realm=master
quarkus.keycloak.admin-client.username=admin
quarkus.keycloak.admin-client.password=admin
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.http.test-port=0
keycloak.cors=true
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-keycloak-admin-rest-client     | 3.20.2.1                                                                                           |                                                                                                                                                  |          |
| \===tive                               | 3.15.3                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |
| \===ontainer-image-docker.adoc\[Link\] | 3.15.3                                                                                             | onecx-security                                                                                                                                   |          |
| 0.34.0                                 | quarkus-keycloak-admin-client-reactive                                                             |                                                                                                                                                  |          |
| 3.15.3                                 | tkit-quarkus-oidc-health                                                                           |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-iam-svc/pkgs/container/onecx-iam-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-iam-svc/pkgs/container/charts%2Fonecx-iam-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  image:
    repository: "onecx/onecx-iam-svc"
  db:
    enabled: false
```

db:
  enabled: false

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-keycloak-admin-rest-client     | 3.20.2.1                                                                                           |                                                                                                                                                  |          |
| \===tive                               | 3.15.3                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |
| \===ontainer-image-docker.adoc\[Link\] | 3.15.3                                                                                             | onecx-security                                                                                                                                   |          |
| 0.34.0                                 | quarkus-keycloak-admin-client-reactive                                                             |                                                                                                                                                  |          |
| 3.15.3                                 | tkit-quarkus-oidc-health                                                                           |                                                                                                                                                  |          |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                          | Type   | Default  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | -------- |
| [onecx.iam.keycloaks."keycloaks".display-name](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-display-name) Display name for keycloak Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_DISPLAY\_NAME | string | required |
| [onecx.iam.keycloaks."keycloaks".description](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-description) Description for keycloak Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_DESCRIPTION      | string |          |
| [onecx.iam.keycloaks."keycloaks".url](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-url) url of keycloak Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_URL                                       | string | required |
| [onecx.iam.keycloaks."keycloaks".issuerHost](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-issuerhost) Baseurl of keycloak Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_ISSUERHOST              | string | required |
| [onecx.iam.keycloaks."keycloaks".realm](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-realm) Keycloak realm Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_REALM                                  | string | required |
| [onecx.iam.keycloaks."keycloaks".client](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-client) Client for keylcloak admin api Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_CLIENT               | string | required |
| [onecx.iam.keycloaks."keycloaks".secret](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-secret) Client secret Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_SECRET                                | string | required |
| [onecx.iam.keycloaks."keycloaks".username](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-username) Username for keycloak admin api access Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_USERNAME | string | required |
| [onecx.iam.keycloaks."keycloaks".password](#onecx-iam-svc%5Fonecx-iam-keycloaks-keycloaks-password) User password Environment variable: ONECX\_IAM\_KEYCLOAKS\_\_KEYCLOAKS\_\_PASSWORD                          | string | required |

undefined
====================


undefined
====================
## [](#%5Fonecx%5Fiam%5Fbff)onecx-iam-bff

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                          | Type    | Default  |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| [onecx.iam.clients."clients".url](#onecx-iam-bff%5Fonecx-iam-clients-clients-url) Url of the iam rest client. Environment variable: ONECX\_IAM\_CLIENTS\_\_CLIENTS\_\_URL                                                                       | string  | required |
| [onecx.iam.clients."clients".shared](#onecx-iam-bff%5Fonecx-iam-clients-clients-shared) Set to true to share the HTTP client between REST clients. Environment variable: ONECX\_IAM\_CLIENTS\_\_CLIENTS\_\_SHARED                               | boolean | true     |
| [onecx.iam.clients."clients".connection-pool-size](#onecx-iam-bff%5Fonecx-iam-clients-clients-connection-pool-size) The size of the rest client connection pool. Environment variable: ONECX\_IAM\_CLIENTS\_\_CLIENTS\_\_CONNECTION\_POOL\_SIZE | int     | 30       |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_iam_svc.url=http://onecx-iam-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.config-key=onecx_iam_svc
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.base-package=gen.org.tkit.onecx.iam.client
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_iam_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-cache                          | [Link](https://quarkus.io/guides/cache)                                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-cache.adoc)                          | 3.20.2.1   |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |

| | | 2.40.0

|=== 3.15.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-iam-bff/pkgs/container/onecx-iam-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-iam-bff/pkgs/container/charts%2Fonecx-iam-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff image: repository: "onecx/onecx-iam-bff" operator: # Permission permission: enabled: true spec: permissions: user: admin-read: permission on all GET requests and POST search for admin operations admin-write: permission on all POST and PUT requests for admin operations role: admin-read: permission on all GET requests and POST search for admin operations admin-write: permission on all POST and PUT requests for admin operations provider: admin-read: permission on all GET requests and POST search for admin operations read: permission on all GET requests and POST search for user operations password: write: permission on PUT, POST, PATCH requests, where objects are saved or updated keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ia:all, ocx-pm:read \] ---- spec: kcConfig: defaultClientScopes: \[ ocx-ia:all, ocx-pm:read \] ---- |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_iam_svc.url=http://onecx-iam-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.config-key=onecx_iam_svc
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.base-package=gen.org.tkit.onecx.iam.client
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_iam_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-cache                          | [Link](https://quarkus.io/guides/cache)                                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-cache.adoc)                          | 3.20.2.1   |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |

| | | 2.40.0

|=== 3.15.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-iam-bff/pkgs/container/onecx-iam-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-iam-bff/pkgs/container/charts%2Fonecx-iam-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff image: repository: "onecx/onecx-iam-bff" operator: # Permission permission: enabled: true spec: permissions: user: admin-read: permission on all GET requests and POST search for admin operations admin-write: permission on all POST and PUT requests for admin operations role: admin-read: permission on all GET requests and POST search for admin operations admin-write: permission on all POST and PUT requests for admin operations provider: admin-read: permission on all GET requests and POST search for admin operations read: permission on all GET requests and POST search for user operations password: write: permission on PUT, POST, PATCH requests, where objects are saved or updated keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ia:all, ocx-pm:read \] ---- spec: kcConfig: defaultClientScopes: \[ ocx-ia:all, ocx-pm:read \] ---- |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-cache                          | [Link](https://quarkus.io/guides/cache)                                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-cache.adoc)                          | 3.20.2.1   |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |

| | | 2.40.0

|=== 3.15.1

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                          | Type    | Default  |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| [onecx.iam.clients."clients".url](#onecx-iam-bff%5Fonecx-iam-clients-clients-url) Url of the iam rest client. Environment variable: ONECX\_IAM\_CLIENTS\_\_CLIENTS\_\_URL                                                                       | string  | required |
| [onecx.iam.clients."clients".shared](#onecx-iam-bff%5Fonecx-iam-clients-clients-shared) Set to true to share the HTTP client between REST clients. Environment variable: ONECX\_IAM\_CLIENTS\_\_CLIENTS\_\_SHARED                               | boolean | true     |
| [onecx.iam.clients."clients".connection-pool-size](#onecx-iam-bff%5Fonecx-iam-clients-clients-connection-pool-size) The size of the rest client connection pool. Environment variable: ONECX\_IAM\_CLIENTS\_\_CLIENTS\_\_CONNECTION\_POOL\_SIZE | int     | 30       |

undefined
====================
## [](#%5Fonecx%5Fiam%5Fui)onecx-iam-ui

## [](#%5Fonecx%5Fiam%5Fui%5F2)OneCX IAM UI

### [](#%5Fwhat%5Fis%5Fidentity%5Faccess%5Fmanagement)What is Identity Access Management?

OneCX Identity Access Management (IAM) refers to the systematic process of capturing and organizing Identity Access.

### [](#%5Foverview)Overview

OneCX IAM is a comprehensive solution for managing Identity Access to OneCX products in a user-friendly and efficient manner. In this document we are only referring to the user interface (UI) of OneCX Identity Access Management.

The UI for this IAM component is designed to provide an intuitive and user-friendly experience for managing Identity Access in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX IAM User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-iam-ui.git
git clone https://github.com/onecx/iam-dev.git
```

The repository `onecx-iam` contains the source code of the OneCX IAM product. The repository `onecx-iam-ui` contains the source code of the OneCX IAM user interface as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-iam-ui
127.0.0.1       onecx-iam-bff
127.0.0.1       onecx-iam-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Identity Access Management using a simple configuration file.

```bash
mkdir onecx-iam
cd onecx-iam
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fiam%5Fui)OneCX IAM UI

### [](#%5Fwhat%5Fis%5Fidentity%5Faccess%5Fmanagement)What is Identity Access Management?

OneCX Identity Access Management (IAM) refers to the systematic process of capturing and organizing Identity Access.

### [](#%5Foverview)Overview

OneCX IAM is a comprehensive solution for managing Identity Access to OneCX products in a user-friendly and efficient manner. In this document we are only referring to the user interface (UI) of OneCX Identity Access Management.

The UI for this IAM component is designed to provide an intuitive and user-friendly experience for managing Identity Access in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX IAM User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-iam-ui.git
git clone https://github.com/onecx/iam-dev.git
```

The repository `onecx-iam` contains the source code of the OneCX IAM product. The repository `onecx-iam-ui` contains the source code of the OneCX IAM user interface as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-iam-ui
127.0.0.1       onecx-iam-bff
127.0.0.1       onecx-iam-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Identity Access Management using a simple configuration file.

```bash
mkdir onecx-iam
cd onecx-iam
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fiam%5Fkc%5Fclient%5Foperator)onecx-iam-kc-client-operator

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                             | Type               | Default                            |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | ---------------------------------- |
| [onecx.iam.kc.client.realm](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-realm) Define realm where to insert/update/delete the clients Environment variable: ONECX\_IAM\_KC\_CLIENT\_REALM                                                                                  | string             | onecx                              |
| [onecx.iam.kc.client.config."config".add-def-scopes](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-add-def-scopes) Add default scopes from realm to the client. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_ADD\_DEF\_SCOPES             | boolean            | true                               |
| [onecx.iam.kc.client.config."config".enabled](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-enabled) Enable the client Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_ENABLED                                                               | boolean            | true                               |
| [onecx.iam.kc.client.config."config".auth-type](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-auth-type) Authentication type. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_AUTH\_TYPE                                                     | string             | client-secret                      |
| [onecx.iam.kc.client.config."config".redirect-uris](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-redirect-uris) List of redirect uris. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_REDIRECT\_URIS                                       | list of string     |                                    |
| [onecx.iam.kc.client.config."config".web-origins](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-web-origins) List of web origins Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_WEB\_ORIGINS                                                | list of string     |                                    |
| [onecx.iam.kc.client.config."config".bearer-only](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-bearer-only) Bearer token only. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_BEARER\_ONLY                                                 | boolean            | false                              |
| [onecx.iam.kc.client.config."config".standard-flow](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-standard-flow) Standard flow enabled. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_STANDARD\_FLOW                                       | boolean            | false                              |
| [onecx.iam.kc.client.config."config".implicit-flow](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-implicit-flow) Implicit flow enabled. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_IMPLICIT\_FLOW                                       | boolean            | false                              |
| [onecx.iam.kc.client.config."config".direct-access](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-direct-access) Enable direct access grants. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_DIRECT\_ACCESS                                 | boolean            | false                              |
| [onecx.iam.kc.client.config."config".service-account](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-service-account) Enable service account. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_SERVICE\_ACCOUNT                                | boolean            | true                               |
| [onecx.iam.kc.client.config."config".public](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-public) Public client flag. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_PUBLIC                                                                | boolean            | false                              |
| [onecx.iam.kc.client.config."config".protocol](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-protocol) Protocol used with the client. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_PROTOCOL                                               | string             | openid-connect                     |
| [onecx.iam.kc.client.config."config".attributes."attributes"](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-attributes-attributes) Attributes map for the client. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_ATTRIBUTES\_\_ATTRIBUTES\_ | Map<String,String> |                                    |
| [onecx.iam.kc.client.config."config".default-scopes](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-default-scopes) Default client scopes. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_DEFAULT\_SCOPES                                    | list of string     |                                    |
| [onecx.iam.kc.client.config."config".optional-scopes](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-optional-scopes) Optional client scopes. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_OPTIONAL\_SCOPES                                | list of string     |                                    |
| [onecx.iam.kc.client.leader-election.lease-name](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-leader-election-lease-name) Lease name Environment variable: ONECX\_IAM\_KC\_CLIENT\_LEADER\_ELECTION\_LEASE\_NAME                                                            | string             | onecx-iam-kc-client-operator-lease |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.kubernetes-client.devservices.override-kubeconfig=true
quarkus.keycloak.admin-client.server-url=http://keycloak:8080
quarkus.keycloak.admin-client.realm=master
quarkus.keycloak.admin-client.username=admin
quarkus.keycloak.admin-client.password=admin
quarkus.operator-sdk.controllers.kc.retry.max-attempts=10
quarkus.operator-sdk.controllers.kc.retry.interval.initial=5000
quarkus.operator-sdk.controllers.kc.retry.interval.multiplier=3
quarkus.operator-sdk.controllers.kc.retry.interval.max=300000
quarkus.operator-sdk.crd.validate=false
quarkus.operator-sdk.helm.enabled=true
onecx.iam.kc.client.realm=onecx
onecx.iam.kc.client.config.ui.enabled=true
onecx.iam.kc.client.config.ui.auth-type=client-secret
onecx.iam.kc.client.config.ui.redirect-uris=*
onecx.iam.kc.client.config.ui.web-origins=*
onecx.iam.kc.client.config.ui.bearer-only=false
onecx.iam.kc.client.config.ui.standard-flow=true
onecx.iam.kc.client.config.ui.implicit-flow=false
onecx.iam.kc.client.config.ui.direct-access=true
onecx.iam.kc.client.config.ui.service-account=false
onecx.iam.kc.client.config.ui.protocol=openid-connect
onecx.iam.kc.client.config.ui.default-scopes=web-origins,roles,profile,email
onecx.iam.kc.client.config.ui.public=true
onecx.iam.kc.client.config.ui.add-def-scopes=true
onecx.iam.kc.client.config.machine.enabled=true
onecx.iam.kc.client.config.machine.auth-type=client-secret
onecx.iam.kc.client.config.machine.bearer-only=false
onecx.iam.kc.client.config.machine.standard-flow=false
onecx.iam.kc.client.config.machine.implicit-flow=false
onecx.iam.kc.client.config.machine.direct-access=false
onecx.iam.kc.client.config.machine.service-account=true
onecx.iam.kc.client.config.machine.protocol=openid-connect
onecx.iam.kc.client.config.machine.default-scopes=web-origins,roles,profile,email
onecx.iam.kc.client.config.machine.public=false
onecx.iam.kc.client.config.machine.add-def-scopes=true
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.20.2.1 |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.2.1                                                                                                                                         |          |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.7.0                                                                                                                                            |          |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-operator-sdk-bundle-generator  | 7.1.2                                                                                          |                                                                                                                                                  |          |
| quarkus-operator-sdk                   | 7.1.2                                                                                          |                                                                                                                                                  |          |
| onecx-operator                         | 1.7.0                                                                                          |                                                                                                                                                  |          |
| quarkus-keycloak-admin-rest-client     | 3.20.2.1                                                                                       |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-iam-kc-client-operator/pkgs/container/onecx-iam-kc-client-operator)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-iam-kc-client-operator/pkgs/container/charts%2Fonecx-iam-kc-client-operator)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: kc-client-operator
  image:
    repository: "onecx/onecx-iam-kc-client-operator"
  envCustom:
    - name: KUBERNETES_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  serviceAccount:
    enabled: true
  operator:
    microservice:
      spec:
        description: OneCX IAM Keycloak Client Operator
        name: OneCX IAM KC Client Operator
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.kubernetes-client.devservices.override-kubeconfig=true
quarkus.keycloak.admin-client.server-url=http://keycloak:8080
quarkus.keycloak.admin-client.realm=master
quarkus.keycloak.admin-client.username=admin
quarkus.keycloak.admin-client.password=admin
quarkus.operator-sdk.controllers.kc.retry.max-attempts=10
quarkus.operator-sdk.controllers.kc.retry.interval.initial=5000
quarkus.operator-sdk.controllers.kc.retry.interval.multiplier=3
quarkus.operator-sdk.controllers.kc.retry.interval.max=300000
quarkus.operator-sdk.crd.validate=false
quarkus.operator-sdk.helm.enabled=true
onecx.iam.kc.client.realm=onecx
onecx.iam.kc.client.config.ui.enabled=true
onecx.iam.kc.client.config.ui.auth-type=client-secret
onecx.iam.kc.client.config.ui.redirect-uris=*
onecx.iam.kc.client.config.ui.web-origins=*
onecx.iam.kc.client.config.ui.bearer-only=false
onecx.iam.kc.client.config.ui.standard-flow=true
onecx.iam.kc.client.config.ui.implicit-flow=false
onecx.iam.kc.client.config.ui.direct-access=true
onecx.iam.kc.client.config.ui.service-account=false
onecx.iam.kc.client.config.ui.protocol=openid-connect
onecx.iam.kc.client.config.ui.default-scopes=web-origins,roles,profile,email
onecx.iam.kc.client.config.ui.public=true
onecx.iam.kc.client.config.ui.add-def-scopes=true
onecx.iam.kc.client.config.machine.enabled=true
onecx.iam.kc.client.config.machine.auth-type=client-secret
onecx.iam.kc.client.config.machine.bearer-only=false
onecx.iam.kc.client.config.machine.standard-flow=false
onecx.iam.kc.client.config.machine.implicit-flow=false
onecx.iam.kc.client.config.machine.direct-access=false
onecx.iam.kc.client.config.machine.service-account=true
onecx.iam.kc.client.config.machine.protocol=openid-connect
onecx.iam.kc.client.config.machine.default-scopes=web-origins,roles,profile,email
onecx.iam.kc.client.config.machine.public=false
onecx.iam.kc.client.config.machine.add-def-scopes=true
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.20.2.1 |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.2.1                                                                                                                                         |          |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.7.0                                                                                                                                            |          |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-operator-sdk-bundle-generator  | 7.1.2                                                                                          |                                                                                                                                                  |          |
| quarkus-operator-sdk                   | 7.1.2                                                                                          |                                                                                                                                                  |          |
| onecx-operator                         | 1.7.0                                                                                          |                                                                                                                                                  |          |
| quarkus-keycloak-admin-rest-client     | 3.20.2.1                                                                                       |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-iam-kc-client-operator/pkgs/container/onecx-iam-kc-client-operator)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-iam-kc-client-operator/pkgs/container/charts%2Fonecx-iam-kc-client-operator)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: kc-client-operator
  image:
    repository: "onecx/onecx-iam-kc-client-operator"
  envCustom:
    - name: KUBERNETES_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  serviceAccount:
    enabled: true
  operator:
    microservice:
      spec:
        description: OneCX IAM Keycloak Client Operator
        name: OneCX IAM KC Client Operator
```

undefined
====================
| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.20.2.1 |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.2.1                                                                                                                                         |          |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.7.0                                                                                                                                            |          |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-operator-sdk-bundle-generator  | 7.1.2                                                                                          |                                                                                                                                                  |          |
| quarkus-operator-sdk                   | 7.1.2                                                                                          |                                                                                                                                                  |          |
| onecx-operator                         | 1.7.0                                                                                          |                                                                                                                                                  |          |
| quarkus-keycloak-admin-rest-client     | 3.20.2.1                                                                                       |                                                                                                                                                  |          |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                             | Type               | Default                            |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | ---------------------------------- |
| [onecx.iam.kc.client.realm](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-realm) Define realm where to insert/update/delete the clients Environment variable: ONECX\_IAM\_KC\_CLIENT\_REALM                                                                                  | string             | onecx                              |
| [onecx.iam.kc.client.config."config".add-def-scopes](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-add-def-scopes) Add default scopes from realm to the client. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_ADD\_DEF\_SCOPES             | boolean            | true                               |
| [onecx.iam.kc.client.config."config".enabled](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-enabled) Enable the client Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_ENABLED                                                               | boolean            | true                               |
| [onecx.iam.kc.client.config."config".auth-type](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-auth-type) Authentication type. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_AUTH\_TYPE                                                     | string             | client-secret                      |
| [onecx.iam.kc.client.config."config".redirect-uris](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-redirect-uris) List of redirect uris. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_REDIRECT\_URIS                                       | list of string     |                                    |
| [onecx.iam.kc.client.config."config".web-origins](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-web-origins) List of web origins Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_WEB\_ORIGINS                                                | list of string     |                                    |
| [onecx.iam.kc.client.config."config".bearer-only](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-bearer-only) Bearer token only. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_BEARER\_ONLY                                                 | boolean            | false                              |
| [onecx.iam.kc.client.config."config".standard-flow](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-standard-flow) Standard flow enabled. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_STANDARD\_FLOW                                       | boolean            | false                              |
| [onecx.iam.kc.client.config."config".implicit-flow](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-implicit-flow) Implicit flow enabled. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_IMPLICIT\_FLOW                                       | boolean            | false                              |
| [onecx.iam.kc.client.config."config".direct-access](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-direct-access) Enable direct access grants. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_DIRECT\_ACCESS                                 | boolean            | false                              |
| [onecx.iam.kc.client.config."config".service-account](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-service-account) Enable service account. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_SERVICE\_ACCOUNT                                | boolean            | true                               |
| [onecx.iam.kc.client.config."config".public](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-public) Public client flag. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_PUBLIC                                                                | boolean            | false                              |
| [onecx.iam.kc.client.config."config".protocol](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-protocol) Protocol used with the client. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_PROTOCOL                                               | string             | openid-connect                     |
| [onecx.iam.kc.client.config."config".attributes."attributes"](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-attributes-attributes) Attributes map for the client. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_ATTRIBUTES\_\_ATTRIBUTES\_ | Map<String,String> |                                    |
| [onecx.iam.kc.client.config."config".default-scopes](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-default-scopes) Default client scopes. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_DEFAULT\_SCOPES                                    | list of string     |                                    |
| [onecx.iam.kc.client.config."config".optional-scopes](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-config-config-optional-scopes) Optional client scopes. Environment variable: ONECX\_IAM\_KC\_CLIENT\_CONFIG\_\_CONFIG\_\_OPTIONAL\_SCOPES                                | list of string     |                                    |
| [onecx.iam.kc.client.leader-election.lease-name](#onecx-iam-kc-client-operator%5Fonecx-iam-kc-client-leader-election-lease-name) Lease name Environment variable: ONECX\_IAM\_KC\_CLIENT\_LEADER\_ELECTION\_LEASE\_NAME                                                            | string             | onecx-iam-kc-client-operator-lease |

OneCX Parameter Management
====================
## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Parameter Management Software, please follow our contribution guidelines (tbd).

## [](#%5Fwhat%5Fis%5Fparameter%5Fmanagement)What is Parameter Management?

Parameter Management (Parameter Management) refers to storing and retrieving Parameter items usable in context of OneCX applications.

## [](#%5Fkey%5Ffeatures)Key Features

* Parameter item Storage and Retrieval: Store and retrieve Parameter items usable in context of OneCX applications.

## [](#%5Fhow%5Fto%5Fuse%5Fwith%5Fquarkus)How to use with Quarkus

We provide a Quarkus extension that enables applications to seamlessly utilize parameters. For detailed instructions on how to use it, please refer to the following documentation:[Onecx Quarkus Parameters Extension](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-parameters.html).

## [](#%5Fissue%5Ftracking)Issue tracking

All OneCX Parameter Management issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Foverview)Overview

OneCX Parameter Management Software is a comprehensive solution for managing Parameter items in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of the OneCX Parameter Management Software are as follows:

1. Parameter Management User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the Parameter Management system. Users can perform actions such as searching and editing of Parameter items.
2. Parameter Management Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Parameter Management Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of Parameter items. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Parameter Management Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Parameter Management UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-parameter/current/onecx-parameter-ui/index.html)
* [OneCX Parameter Management BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-parameter/current/onecx-parameter-bff/index.html)
* [OneCX Parameter Management SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-parameter/current/onecx-parameter-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

Migration Guide for 1000kit Parameter Service
====================
## [](#%5Foverview)Overview

The parameter service has been refactored to simplify the handling of parameters. Previously, parameters had a fixed, defined type, and included fields like "UNIT", "rangeFrom", and "rangeTo". The new service allows parameters to be either primitive types or JSON objects, giving applications the flexibility to interpret these objects as needed.

## [](#%5Fchanges)Changes

### [](#%5Fparameter%5Ftypes)Parameter Types

* **Old**: Parameters had a fixed, defined type.
* **New**: Parameters can be primitive types (e.g., string, number) or JSON objects.

### [](#%5Funits%5Fand%5Frange%5Ffields)Units and Range Fields

* **Old**: Parameters included "UNIT", "rangeFrom", and "rangeTo" fields.
* **New**: These fields have been removed. Applications can now include units and range information or any other field within the JSON object if needed.

## [](#%5Fmigration%5Fsteps)Migration Steps

### [](#%5Freview%5Fparameter%5Fdefinitions)Review Parameter Definitions

* Identify all parameters currently using the "UNIT", "rangeFrom", and "rangeTo" fields.
* Determine if these parameters can be converted to JSON objects.

### [](#%5Fupdate%5Fparameter%5Fhandling)Update Parameter Handling

* For parameters requiring units and range information, create a JSON object with fields for these values.
* Example:

{
  "value": 100,
  "units": "ms",
  "rangeFrom": 50,
  "rangeTo": 150
}

### [](#%5Fmodify%5Fapplication%5Flogic)Modify Application Logic

* Update application code to handle the new parameter format.
* Ensure applications correctly interpret JSON objects and extract necessary fields.

### [](#%5Ftesting)Testing

* Test the updated parameter handling to ensure compatibility and correctness.
* Validate that applications correctly interpret and use the new parameter format.

## [](#%5Fsummary)Summary

The refactored parameter service offers greater flexibility by allowing parameters to be primitive types or JSON objects. Applications now have the responsibility to interpret these objects, including handling units and range information within the JSON structure.

undefined
====================


undefined
====================


undefined
====================
## [](#%5Fonecx%5Fparameter%5Fsvc)onecx-parameter-svc

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                 | Type   | Default        |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | -------------- |
| [onecx.parameter.scheduler.duration](#onecx-parameter-svc%5Fonecx-parameter-scheduler-duration) Scheduler duration in days Environment variable: ONECX\_PARAMETER\_SCHEDULER\_DURATION | string | 7              |
| [onecx.parameter.scheduler.expression](#onecx-parameter-svc%5Fonecx-parameter-scheduler-expression) Scheduler expression Environment variable: ONECX\_PARAMETER\_SCHEDULER\_EXPRESSION | string | 0 15 2 \* \* ? |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.log.sql=false
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
onecx.parameter.scheduler.expression=0 15 2 * * ?
onecx.parameter.scheduler.duration=7
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
tkit.rs.context.tenant-id.enabled=true
tkit.jpa.tenant.root.enabled=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-parameter?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-parameter}
%prod.quarkus.datasource.password=${DB_PWD:onecx-parameter}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0   |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |         |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2  |
| quarkus-scheduler                      | 3.20.2                                                                                             |                                                                                                                                                  |         |

| 0.34.0

| quarkus-scheduler

| | | 3.15.3

| tkit-quarkus-oidc-health

| | | 2.40.0

| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc) |
| ---------------------------------------------------------------------------------------------------------------------------------------- |
| 3.15.1                                                                                                                                   |
| onecx-security                                                                                                                           |
| 0.34.0                                                                                                                                   |
| quarkus-scheduler                                                                                                                        |
| 3.15.1                                                                                                                                   |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-parameter-svc/pkgs/container/onecx-parameter-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-parameter-svc/pkgs/container/charts%2Fonecx-parameter-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-parameter-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Parameter Backend Service
        name: OneCX Parameter SVC
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.log.sql=false
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
onecx.parameter.scheduler.expression=0 15 2 * * ?
onecx.parameter.scheduler.duration=7
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
tkit.rs.context.tenant-id.enabled=true
tkit.jpa.tenant.root.enabled=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-parameter?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-parameter}
%prod.quarkus.datasource.password=${DB_PWD:onecx-parameter}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0   |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |         |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2  |
| quarkus-scheduler                      | 3.20.2                                                                                             |                                                                                                                                                  |         |

| 0.34.0

| quarkus-scheduler

| | | 3.15.3

| tkit-quarkus-oidc-health

| | | 2.40.0

| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc) |
| ---------------------------------------------------------------------------------------------------------------------------------------- |
| 3.15.1                                                                                                                                   |
| onecx-security                                                                                                                           |
| 0.34.0                                                                                                                                   |
| quarkus-scheduler                                                                                                                        |
| 3.15.1                                                                                                                                   |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-parameter-svc/pkgs/container/onecx-parameter-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-parameter-svc/pkgs/container/charts%2Fonecx-parameter-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-parameter-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Parameter Backend Service
        name: OneCX Parameter SVC
```

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0   |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |         |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2  |
| quarkus-scheduler                      | 3.20.2                                                                                             |                                                                                                                                                  |         |

| 0.34.0

| quarkus-scheduler

| | | 3.15.3

| tkit-quarkus-oidc-health

| | | 2.40.0

| [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc) |
| ---------------------------------------------------------------------------------------------------------------------------------------- |
| 3.15.1                                                                                                                                   |
| onecx-security                                                                                                                           |
| 0.34.0                                                                                                                                   |
| quarkus-scheduler                                                                                                                        |
| 3.15.1                                                                                                                                   |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                 | Type   | Default        |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | -------------- |
| [onecx.parameter.scheduler.duration](#onecx-parameter-svc%5Fonecx-parameter-scheduler-duration) Scheduler duration in days Environment variable: ONECX\_PARAMETER\_SCHEDULER\_DURATION | string | 7              |
| [onecx.parameter.scheduler.expression](#onecx-parameter-svc%5Fonecx-parameter-scheduler-expression) Scheduler expression Environment variable: ONECX\_PARAMETER\_SCHEDULER\_EXPRESSION | string | 0 15 2 \* \* ? |

undefined
====================
## [](#%5Fonecx%5Fparameter%5Fbff)onecx-parameter-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_parameter_internal.url=http://onecx-parameter-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.config-key=onecx_parameter_internal
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.base-package=gen.org.tkit.onecx.parameters.clients
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_parameter_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/onecx-parameter-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/charts%2Fonecx-parameter-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  image:
    repository: "onecx/onecx-parameter-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          parameter:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pa:all, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Parameter Backend For Frontend
        name: OneCX Parameter BFF
```

description: OneCX Parameter Backend For Frontend
    name: OneCX Parameter BFF

=${quarkus.application.name}

\=== Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

\=== Container

[Docker registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/onecx-parameter-bff)

\=== Helm

[Helm registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/charts%2Fonecx-parameter-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  image:
    repository: "onecx/onecx-parameter-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          parameter:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pa:all, ocx-ps:read, ocx-pm:read ]
```

s=optional\]

\=== Default properties

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_parameter_internal.url=http://onecx-parameter-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.config-key=onecx_parameter_internal
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.base-package=gen.org.tkit.onecx.parameters.clients
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_parameter_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

\=== Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

\=== Container

[Docker registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/onecx-parameter-bff)

\=== Helm

[Helm registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/charts%2Fonecx-parameter-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  image:
    repository: "onecx/onecx-parameter-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          parameter:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pa:all, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Parameter Backend For Frontend
        name: OneCX Parameter BFF
```

description: OneCX Parameter Backend For Frontend
    name: OneCX Parameter BFF

=${quarkus.application.name}

### [](#%5Fextensions%5F2)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

### [](#%5Fcontainer%5F2)Container

[Docker registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/onecx-parameter-bff)

### [](#%5Fhelm%5F2)Helm

[Helm registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/charts%2Fonecx-parameter-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  image:
    repository: "onecx/onecx-parameter-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          parameter:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pa:all, ocx-ps:read, ocx-pm:read ]
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_parameter_internal.url=http://onecx-parameter-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.config-key=onecx_parameter_internal
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.base-package=gen.org.tkit.onecx.parameters.clients
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_parameter_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/onecx-parameter-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/charts%2Fonecx-parameter-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  image:
    repository: "onecx/onecx-parameter-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          parameter:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pa:all, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Parameter Backend For Frontend
        name: OneCX Parameter BFF
```

description: OneCX Parameter Backend For Frontend
    name: OneCX Parameter BFF

=${quarkus.application.name}

\=== Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

\=== Container

[Docker registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/onecx-parameter-bff)

\=== Helm

[Helm registry](https://github.com/onecx/onecx-parameter-bff/pkgs/container/charts%2Fonecx-parameter-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  image:
    repository: "onecx/onecx-parameter-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          parameter:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pa:all, ocx-ps:read, ocx-pm:read ]
```

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                | Type    | Default |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------- |
| [onecx.parameter.bff.rest-client.product-store.enabled](#onecx-parameter-bff%5Fonecx-parameter-bff-rest-client-product-store-enabled) Enable or disable client Environment variable: ONECX\_PARAMETER\_BFF\_REST\_CLIENT\_PRODUCT\_STORE\_ENABLED                     | boolean | true    |
| [onecx.parameter.bff.rest-client.product-store.page-size](#onecx-parameter-bff%5Fonecx-parameter-bff-rest-client-product-store-page-size) Page size for product search. Environment variable: ONECX\_PARAMETER\_BFF\_REST\_CLIENT\_PRODUCT\_STORE\_PAGE\_SIZE         | int     | 1000    |
| [onecx.parameter.bff.rest-client.product-store.page-number](#onecx-parameter-bff%5Fonecx-parameter-bff-rest-client-product-store-page-number) Page number for product search. Environment variable: ONECX\_PARAMETER\_BFF\_REST\_CLIENT\_PRODUCT\_STORE\_PAGE\_NUMBER | int     | 0       |

undefined
====================
## [](#%5Fonecx%5Fparameter%5Fui)onecx-parameter-ui

## [](#%5Fonecx%5Fparameter%5Fui%5F2)OneCX Parameter UI

### [](#%5Fwhat%5Fis%5Fparameter%5Fmanagement)What is Parameter Management?

OneCX Parameter Management refers to the systematic process of capturing, organizing, storing, and retrieving Parameters.

### [](#%5Foverview)Overview

OneCX Parameter Management is a comprehensive solution for managing Parameters for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the user interface (UI) of OneCX Parameter Management.

The UI for this Parameter component is designed to provide an intuitive and user-friendly experience for managing Parameters in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Parameter User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-parameter-ui.git
git clone https://github.com/onecx/parameter-dev.git
```

The repository `onecx-parameter` contains the source code of the OneCX Parameter product. The repository `onecx-parameter-ui` contains the source code of the OneCX Parameter user interface as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-parameter-ui
127.0.0.1       onecx-parameter-bff
127.0.0.1       onecx-parameter-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Parameters Management using a simple configuration file.

```bash
mkdir onecx-parameter
cd onecx-parameter
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fparameter%5Fui)OneCX Parameter UI

### [](#%5Fwhat%5Fis%5Fparameter%5Fmanagement)What is Parameter Management?

OneCX Parameter Management refers to the systematic process of capturing, organizing, storing, and retrieving Parameters.

### [](#%5Foverview)Overview

OneCX Parameter Management is a comprehensive solution for managing Parameters for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the user interface (UI) of OneCX Parameter Management.

The UI for this Parameter component is designed to provide an intuitive and user-friendly experience for managing Parameters in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Parameter User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-parameter-ui.git
git clone https://github.com/onecx/parameter-dev.git
```

The repository `onecx-parameter` contains the source code of the OneCX Parameter product. The repository `onecx-parameter-ui` contains the source code of the OneCX Parameter user interface as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-parameter-ui
127.0.0.1       onecx-parameter-bff
127.0.0.1       onecx-parameter-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Parameters Management using a simple configuration file.

```bash
mkdir onecx-parameter
cd onecx-parameter
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

OneCX Permission Management
====================
![overview](_images/overview.png) 

Figure 1\. Permission UI

![permissions](_images/permissions.png) 

Figure 2\. Permission management

## [](#%5Foverview)Overview

The Role and Permission Management Solution is designed to provide a robust framework for defining and managing user roles and permissions within an organization. This solution ensures that users have appropriate access to resources based on their roles, enhancing security and operational efficiency.

Key Features includes:

**Role Definition**:

* Customizable Roles-: Allows administrators to create and define roles based on organizational needs, specifying the responsibilities and access levels associated with each role.
* Predefined Roles-: Offers a set of predefined roles that can be used as templates or starting points for customization.

**Permission Assignment**:

* Granular Permissions-: Provides granular control over permissions, allowing administrators to specify exactly what actions users can perform and what resources they can access.
* Role-Based Access Control (RBAC)-: Implements RBAC to ensure that permissions are assigned based on user roles, simplifying the management of access rights.

**Visibility and Accessibility Control**:

* Button and Action Visibility-: Controls the visibility and accessibility of buttons, actions, and links based on user roles and permissions. This ensures that users only see and interact with elements relevant to their roles.
* Dynamic Interface-: Adjusts the user interface dynamically to reflect the permissions and access levels of each user.

**Integration**:

* System Integration-: Integrates with other enterprise systems to ensure consistent and synchronized role and permission management across platforms.
* IDM Integration-: Integrates with IDM systems like Key-cloak to streamline user authentication and authorization processes. This ensures that user roles are received and managed centrally, even if they exist across different IDMs.

**Security and Compliance**:

* Access Control-: Ensures that only authorized users can access sensitive information and perform critical actions.
* Service BFF Security-: Supports security at the service backend-for-frontend (BFF) layer, ensuring that all service interactions are secure and compliant with organizational policies.

## [](#%5Fbenefits)Benefits

* Enhanced Security: Ensures that users have appropriate access to resources, reducing the risk of unauthorized access and data breaches.
* Operational Efficiency: Simplifies the management of roles and permissions, saving time and reducing administrative burden.
* Flexibility: Offers a high degree of customization, allowing organizations to tailor roles and permissions to their specific needs.
* Scalability: Supports the growth of the organization by allowing for easy scaling of roles and permissions as the user base expands.
* Improved User Experience: Controls the visibility and accessibility of interface elements, ensuring a streamlined and relevant user experience.
* Centralized Identity Management: IDM integration ensures that user identities and roles are managed centrally, enhancing security and consistency across all systems, even when roles exist in multiple IDMs.

## [](#%5Fui%5Fexamples)UI Examples

![permissions overview](_images/permissions_overview.png) 

Figure 3\. Permissions overview

![permission configuration](_images/permission_configuration.png) 

Figure 4\. Permissions configuration

## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Permission Management Software, please follow our contribution guidelines (tbd).

## [](#%5Fissue%5Ftracking)Issue Tracking

All OneCX Permission issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Fstructure%5Foverview)Structure Overview

OneCX Permission Software is a comprehensive solution for managing Permission items in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of the OneCX Permission Software are as follows:

1. Permission User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the Permission system. Users can perform actions such as searching and editing of Permission items.
2. Permission Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Permission Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of Permission items. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Permission Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Permission UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-permission/current/onecx-permission-ui/index.html)
* [OneCX Permission BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-permission/current/onecx-permission-bff/index.html)
* [OneCX Permission SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-permission/current/onecx-permission-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Fpermission%5Fsvc)onecx-permission-svc

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                   | Type               | Default                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------ | ------------------------------ |
| [onecx.permission.token.verified](#onecx-permission-svc%5Fonecx-permission-token-verified) Verified permission token Environment variable: ONECX\_PERMISSION\_TOKEN\_VERIFIED                                                                                            | boolean            | false                          |
| [onecx.permission.token.issuer.public-key-location.suffix](#onecx-permission-svc%5Fonecx-permission-token-issuer-public-key-location-suffix) Issuer public key location suffix. Environment variable: ONECX\_PERMISSION\_TOKEN\_ISSUER\_PUBLIC\_KEY\_LOCATION\_SUFFIX    | string             | /protocol/openid-connect/certs |
| [onecx.permission.token.issuer.public-key-location.enabled](#onecx-permission-svc%5Fonecx-permission-token-issuer-public-key-location-enabled) Issuer public key location enabled Environment variable: ONECX\_PERMISSION\_TOKEN\_ISSUER\_PUBLIC\_KEY\_LOCATION\_ENABLED | boolean            | false                          |
| [onecx.permission.token.claim.separator](#onecx-permission-svc%5Fonecx-permission-token-claim-separator) Claim separator Environment variable: ONECX\_PERMISSION\_TOKEN\_CLAIM\_SEPARATOR                                                                                | string             |                                |
| [onecx.permission.token.claim.path](#onecx-permission-svc%5Fonecx-permission-token-claim-path) Claim path Environment variable: ONECX\_PERMISSION\_TOKEN\_CLAIM\_PATH                                                                                                    | string             | realm\_access/roles            |
| [onecx.permission.template.role-mapping."role-mapping"](#onecx-permission-svc%5Fonecx-permission-template-role-mapping-role-mapping) Role mapping for the template import Environment variable: ONECX\_PERMISSION\_TEMPLATE\_ROLE\_MAPPING\_\_ROLE\_MAPPING\_            | Map<String,String> |                                |
| [onecx.permission.template.tenants](#onecx-permission-svc%5Fonecx-permission-template-tenants) Template import tenants Environment variable: ONECX\_PERMISSION\_TEMPLATE\_TENANTS                                                                                        | list of string     | default                        |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.native.resources.includes=import/template.json
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
tkit.rs.context.tenant-id.enabled=true
onecx.permission.token.verified=true
onecx.permission.token.issuer.public-key-location.suffix=/protocol/openid-connect/certs
onecx.permission.token.issuer.public-key-location.enabled=false
onecx.permission.token.claim.path=realm_access/roles
tkit.dataimport.enabled=false
tkit.dataimport.configurations.template.file=import/template.json
tkit.dataimport.configurations.template.class-path=true
tkit.dataimport.configurations.template.enabled=false
tkit.dataimport.configurations.template.stop-at-error=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-permission?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-permission}
%prod.quarkus.datasource.password=${DB_PWD:onecx-permission}
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-smallrye-context-propagation   | 3.20.2.1                                                                                           |                                                                                                                                                  |          |
| \===tion                               | 3.15.3                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-permission-svc/pkgs/container/onecx-permission-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-permission-svc/pkgs/container/charts%2Fonecx-permission-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  image:
    repository: "onecx/onecx-permission-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Permission Backend Service
        name: OneCX Permission SVC
```

description: OneCX Permission Backend Service
  name: OneCX Permission SVC

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.native.resources.includes=import/template.json
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
tkit.rs.context.tenant-id.enabled=true
onecx.permission.token.verified=true
onecx.permission.token.issuer.public-key-location.suffix=/protocol/openid-connect/certs
onecx.permission.token.issuer.public-key-location.enabled=false
onecx.permission.token.claim.path=realm_access/roles
tkit.dataimport.enabled=false
tkit.dataimport.configurations.template.file=import/template.json
tkit.dataimport.configurations.template.class-path=true
tkit.dataimport.configurations.template.enabled=false
tkit.dataimport.configurations.template.stop-at-error=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-permission?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-permission}
%prod.quarkus.datasource.password=${DB_PWD:onecx-permission}
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-smallrye-context-propagation   | 3.20.2.1                                                                                           |                                                                                                                                                  |          |
| \===tion                               | 3.15.3                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-permission-svc/pkgs/container/onecx-permission-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-permission-svc/pkgs/container/charts%2Fonecx-permission-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  image:
    repository: "onecx/onecx-permission-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Permission Backend Service
        name: OneCX Permission SVC
```

description: OneCX Permission Backend Service
  name: OneCX Permission SVC

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| quarkus-smallrye-context-propagation   | 3.20.2.1                                                                                           |                                                                                                                                                  |          |
| \===tion                               | 3.15.3                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                   | Type               | Default                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------ | ------------------------------ |
| [onecx.permission.token.verified](#onecx-permission-svc%5Fonecx-permission-token-verified) Verified permission token Environment variable: ONECX\_PERMISSION\_TOKEN\_VERIFIED                                                                                            | boolean            | false                          |
| [onecx.permission.token.issuer.public-key-location.suffix](#onecx-permission-svc%5Fonecx-permission-token-issuer-public-key-location-suffix) Issuer public key location suffix. Environment variable: ONECX\_PERMISSION\_TOKEN\_ISSUER\_PUBLIC\_KEY\_LOCATION\_SUFFIX    | string             | /protocol/openid-connect/certs |
| [onecx.permission.token.issuer.public-key-location.enabled](#onecx-permission-svc%5Fonecx-permission-token-issuer-public-key-location-enabled) Issuer public key location enabled Environment variable: ONECX\_PERMISSION\_TOKEN\_ISSUER\_PUBLIC\_KEY\_LOCATION\_ENABLED | boolean            | false                          |
| [onecx.permission.token.claim.separator](#onecx-permission-svc%5Fonecx-permission-token-claim-separator) Claim separator Environment variable: ONECX\_PERMISSION\_TOKEN\_CLAIM\_SEPARATOR                                                                                | string             |                                |
| [onecx.permission.token.claim.path](#onecx-permission-svc%5Fonecx-permission-token-claim-path) Claim path Environment variable: ONECX\_PERMISSION\_TOKEN\_CLAIM\_PATH                                                                                                    | string             | realm\_access/roles            |
| [onecx.permission.template.role-mapping."role-mapping"](#onecx-permission-svc%5Fonecx-permission-template-role-mapping-role-mapping) Role mapping for the template import Environment variable: ONECX\_PERMISSION\_TEMPLATE\_ROLE\_MAPPING\_\_ROLE\_MAPPING\_            | Map<String,String> |                                |
| [onecx.permission.template.tenants](#onecx-permission-svc%5Fonecx-permission-template-tenants) Template import tenants Environment variable: ONECX\_PERMISSION\_TEMPLATE\_TENANTS                                                                                        | list of string     | default                        |

undefined
====================


undefined
====================
## [](#%5Fonecx%5Fpermission%5Fbff)onecx-permission-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_permission_svc.url=http://onecx-permission-svc:8080
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_product_store_svc.url=http://onecx-product-store-svc:8080
%prod.quarkus.rest-client.onecx_iam_svc.url=http://onecx-iam-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.config-key=onecx_permission_svc
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.base-package=gen.org.tkit.onecx.permission.client
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.config-key=onecx_permission_svc
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.base-package=gen.org.tkit.onecx.permission.exim.client
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.base-package=gen.org.tkit.onecx.permission.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.config-key=onecx_product_store_svc
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.config-key=onecx_iam_svc
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.base-package=gen.org.tkit.onecx.iam.client
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.model-name-suffix=IamV1
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_permission_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_iam_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-permission-bff/pkgs/container/onecx-permission-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-permission-bff/pkgs/container/charts%2Fonecx-permission-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  image:
    repository: "onecx/onecx-permission-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          permission:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          role:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          assignment:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          application:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          workspace:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pm:all, ocx-pm:read, ocx-pm:write, ocx-ws:read, ocx-ps:read, ocx-ia:read ]
    microservice:
      spec:
        description: OneCX Permission Backend For Frontend
        name: OneCX Permission BFF
```

description: OneCX Permission Backend For Frontend
       name: OneCX Permission BFF

-

s=optional]


:docker-registry: https://github.com/onecx/onecx-permission-bff/pkgs/container/onecx-permission-bff
:helm-registry: https://github.com/onecx/onecx-permission-bff/pkgs/container/charts%2Fonecx-permission-bff
:properties-file: src/main/resources/application.properties
:helm-file: src/main/helm/values.yaml

=== Default properties

.{properties-file}
[%collapsible%open]
====
[source,properties,subs=attributes+]

quarkus.http.auth.permission.health.paths=/q/\* quarkus.http.auth.permission.health.policy=permit quarkus.http.auth.permission.default.paths=/\* quarkus.http.auth.permission.default.policy=authenticated onecx.permissions.application-id=${quarkus.application.name} org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token %prod.quarkus.rest-client.onecx\_permission\_svc.url=http://onecx-permission-svc:8080 %prod.quarkus.rest-client.onecx\_workspace\_svc.url=http://onecx-workspace-svc:8080 %prod.quarkus.rest-client.onecx\_product\_store\_svc.url=http://onecx-product-store-svc:8080 %prod.quarkus.rest-client.onecx\_iam\_svc.url=http://onecx-iam-svc:8080 quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi quarkus.openapi-generator.codegen.spec.onecx\_permission\_svc\_yaml.config-key=onecx\_permission\_svc quarkus.openapi-generator.codegen.spec.onecx\_permission\_svc\_yaml.base-package=gen.org.tkit.onecx.permission.client quarkus.openapi-generator.codegen.spec.onecx\_permission\_svc\_yaml.return-response=true quarkus.openapi-generator.codegen.spec.onecx\_permission\_svc\_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders; quarkus.openapi-generator.codegen.spec.onecx\_permission\_svc\_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection; quarkus.openapi-generator.codegen.spec.onecx\_permission\_svc\_yaml.enable-security-generation=false quarkus.openapi-generator.codegen.spec.onecx\_permission\_exim\_svc\_yaml.config-key=onecx\_permission\_svc quarkus.openapi-generator.codegen.spec.onecx\_permission\_exim\_svc\_yaml.base-package=gen.org.tkit.onecx.permission.exim.client quarkus.openapi-generator.codegen.spec.onecx\_permission\_exim\_svc\_yaml.return-response=true quarkus.openapi-generator.codegen.spec.onecx\_permission\_exim\_svc\_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders; quarkus.openapi-generator.codegen.spec.onecx\_permission\_exim\_svc\_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection; quarkus.openapi-generator.codegen.spec.onecx\_permission\_exim\_svc\_yaml.enable-security-generation=false quarkus.openapi-generator.codegen.spec.onecx\_workspace\_svc\_v1\_yaml.config-key=onecx\_workspace\_svc quarkus.openapi-generator.codegen.spec.onecx\_workspace\_svc\_v1\_yaml.base-package=gen.org.tkit.onecx.permission.client quarkus.openapi-generator.codegen.spec.onecx\_workspace\_svc\_v1\_yaml.return-response=true quarkus.openapi-generator.codegen.spec.onecx\_workspace\_svc\_v1\_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders; quarkus.openapi-generator.codegen.spec.onecx\_workspace\_svc\_v1\_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection; quarkus.openapi-generator.codegen.spec.onecx\_workspace\_svc\_v1\_yaml.enable-security-generation=false quarkus.openapi-generator.codegen.spec.onecx\_product\_store\_svc\_v1\_yaml.config-key=onecx\_product\_store\_svc quarkus.openapi-generator.codegen.spec.onecx\_product\_store\_svc\_v1\_yaml.base-package=gen.org.tkit.onecx.product.store.client quarkus.openapi-generator.codegen.spec.onecx\_product\_store\_svc\_v1\_yaml.return-response=true quarkus.openapi-generator.codegen.spec.onecx\_product\_store\_svc\_v1\_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders; quarkus.openapi-generator.codegen.spec.onecx\_product\_store\_svc\_v1\_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection; quarkus.openapi-generator.codegen.spec.onecx\_product\_store\_svc\_v1\_yaml.enable-security-generation=false quarkus.openapi-generator.codegen.spec.onecx\_iam\_svc\_v1\_yaml.config-key=onecx\_iam\_svc quarkus.openapi-generator.codegen.spec.onecx\_iam\_svc\_v1\_yaml.base-package=gen.org.tkit.onecx.iam.client quarkus.openapi-generator.codegen.spec.onecx\_iam\_svc\_v1\_yaml.return-response=true quarkus.openapi-generator.codegen.spec.onecx\_iam\_svc\_v1\_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders; quarkus.openapi-generator.codegen.spec.onecx\_iam\_svc\_v1\_yaml.model-name-suffix=IamV1 quarkus.openapi-generator.codegen.spec.onecx\_iam\_svc\_v1\_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection; quarkus.openapi-generator.codegen.spec.onecx\_iam\_svc\_v1\_yaml.enable-security-generation=false %prod.quarkus.rest-client.onecx\_permission\_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter %prod.quarkus.rest-client.onecx\_workspace\_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter %prod.quarkus.rest-client.onecx\_product\_store\_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter %prod.quarkus.rest-client.onecx\_iam\_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter %prod.quarkus.oidc-client.client-id=${quarkus.application.name}

====

=== Extensions


:docker-registry: https://github.com/onecx/onecx-permission-bff/pkgs/container/onecx-permission-bff
:helm-registry: https://github.com/onecx/onecx-permission-bff/pkgs/container/charts%2Fonecx-permission-bff
:properties-file: src/main/resources/application.properties
:helm-file: src/main/helm/values.yaml

[.extension.table.searchable, cols="50,.^15,.^15,.^20"]
|===
h| Extensions
h| Documentation
h| Configuration
h| Version

| quarkus-rest

| https://quarkus.io/guides/rest[Link]
| https://github.com/quarkusio/quarkusio.github.io/blob/develop/_generated-doc/latest/config/quarkus-rest.adoc[Link]
| 3.20.2.1

| quarkus-smallrye-openapi

| https://quarkus.io/guides/openapi-swaggerui[Link]
| https://github.com/quarkusio/quarkusio.github.io/blob/develop/_generated-doc/latest/config/quarkus-smallrye-openapi.adoc[Link]
| 3.20.2.1

| quarkus-rest-jackson

| https://quarkus.io/guides/rest-json[Link]
|
| 3.20.2.1

| quarkus-smallrye-health

| https://quarkus.io/guides/smallrye-health[Link]
| https://github.com/quarkusio/quarkusio.github.io/blob/develop/_generated-doc/latest/config/quarkus-smallrye-health.adoc[Link]
| 3.20.2.1

| quarkus-openapi-generator

| https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html[Link]
| https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc[Link]
| 2.10.0-lts

| quarkus-rest-client-jackson

| https://quarkus.io/guides/rest-client[Link]
|
| 3.20.2.1

| tkit-quarkus-log-cdi

| https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html[Link]
| https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc[Link]
| 3.6.0

| tkit-quarkus-log-rs

| https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html[Link]
| https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc[Link]
| 3.6.0

| tkit-quarkus-log-json

| https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html[Link]
| https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc[Link]
| 3.6.0

| tkit-quarkus-rest

| https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html[Link]
| https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc[Link]
| 3.6.0

| tkit-quarkus-rest-context

| https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html[Link]
| https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc[Link]
| 3.6.0

| tkit-quarkus-security

| https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html[Link]
| https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc[Link]
| 3.6.0

| quarkus-hibernate-validator

| https://quarkus.io/guides/validation[Link]
| https://github.com/quarkusio/quarkusio.github.io/blob/develop/_generated-doc/latest/config/quarkus-hibernate-validator.adoc[Link]
| 3.20.2.1

| onecx-permissions

| https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html[Link]
| https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc[Link]
| 1.7.0

| quarkus-oidc

| https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial[Link]
| https://github.com/quarkusio/quarkusio.github.io/blob/develop/_generated-doc/latest/config/quarkus-oidc.adoc[Link]
| 3.20.2.1

| onecx-core

| https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html[Link]
|
| 1.7.0

| quarkus-micrometer-registry-prometheus

| https://quarkus.io/guides/telemetry-micrometer[Link]
| https://github.com/quarkusio/quarkusio.github.io/blob/develop/_generated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc[Link]
| 3.20.2.1

| quarkus-opentelemetry

| https://quarkus.io/guides/opentelemetry[Link]
| https://github.com/quarkusio/quarkusio.github.io/blob/develop/_generated-doc/latest/config/quarkus-opentelemetry.adoc[Link]
| 3.20.2.1

| quarkus-arc

| https://quarkus.io/guides/cdi-reference[Link]
| https://github.com/quarkusio/quarkusio.github.io/blob/develop/_generated-doc/latest/config/quarkus-arc.adoc[Link]
| 3.20.2.1

| quarkus-container-image-docker

| https://quarkus.io/guides/container-image[Link]
| https://github.com/quarkusio/quarkusio.github.io/blob/develop/_generated-doc/latest/config/quarkus-container-image-docker.adoc[Link]
| 3.20.2.1


| quarkus-rest-client-oidc-filter

|
|
| 3.20.2.1


|===th

|
|
| 2.40.0


|===

=== Container

{docker-registry}[Docker registry]


=== Helm

{helm-registry}[Helm registry]

Default values

.{helm-file}
[source,yaml]

app: name: bff image: repository: "onecx/onecx-permission-bff" operator: # Permission permission: enabled: true spec: permissions: permission: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests role: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests assignment: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests application: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests workspace: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-pm:all, ocx-pm:read, ocx-pm:write, ocx-ws:read, ocx-ps:read, ocx-ia:read \] microservice: spec: description: OneCX Permission Backend For Frontend name: OneCX Permission BFF

 description: OneCX Permission Backend For Frontend
        name: OneCX Permission BFF

\-

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_permission_svc.url=http://onecx-permission-svc:8080
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_product_store_svc.url=http://onecx-product-store-svc:8080
%prod.quarkus.rest-client.onecx_iam_svc.url=http://onecx-iam-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.config-key=onecx_permission_svc
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.base-package=gen.org.tkit.onecx.permission.client
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.config-key=onecx_permission_svc
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.base-package=gen.org.tkit.onecx.permission.exim.client
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_permission_exim_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.base-package=gen.org.tkit.onecx.permission.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.config-key=onecx_product_store_svc
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.config-key=onecx_iam_svc
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.base-package=gen.org.tkit.onecx.iam.client
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.model-name-suffix=IamV1
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_iam_svc_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_permission_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_iam_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-permission-bff/pkgs/container/onecx-permission-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-permission-bff/pkgs/container/charts%2Fonecx-permission-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  image:
    repository: "onecx/onecx-permission-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          permission:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          role:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          assignment:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          application:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          workspace:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pm:all, ocx-pm:read, ocx-pm:write, ocx-ws:read, ocx-ps:read, ocx-ia:read ]
    microservice:
      spec:
        description: OneCX Permission Backend For Frontend
        name: OneCX Permission BFF
```

description: OneCX Permission Backend For Frontend
       name: OneCX Permission BFF

-

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                          | Type    | Default |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------- |
| [onecx.permission.rest-client.onecx\_iam\_svc.enabled](#onecx-permission-bff%5Fonecx-permission-rest-client-onecx%5Fiam%5Fsvc-enabled) Enable or disable client Environment variable: ONECX\_PERMISSION\_REST\_CLIENT\_ONECX\_IAM\_SVC\_ENABLED | boolean | true    |

OneCX Permission UI
====================
## [](#%5Fwhat%5Fis%5Fpermission%5Fmanagement)What is Permission Management?

OneCX Permission Management refers to the systematic process of capturing, organizing, storing, and retrieving Permissions and Roles.

## [](#%5Foverview)Overview

OneCX Permission Management is a comprehensive solution for managing Permissions and Roles for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the user interface (UI) of OneCX Permission Management.

The UI for this Permission component is designed to provide an intuitive and user-friendly experience for managing Permissions and Roles in the cloud-native environment built with Quarkus.

## [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Permission User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-permission-ui.git
git clone https://github.com/onecx/permission-dev.git
```

The repository `onecx-permission` contains the source code of the OneCX Permission product. The repository `onecx-permission-ui` contains the source code of the OneCX Permission user interface as part of the product.

### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

#### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       onecx-permission-ui
127.0.0.1       onecx-permission-bff
127.0.0.1       onecx-permission-svc
```

#### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Permission Management using a simple configuration file.

```bash
mkdir onecx-permission
cd onecx-permission
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

undefined
====================
## [](#%5Fwhat%5Fis%5Fpermission%5Fmanagement)What is Permission Management?

OneCX Permission Management refers to the systematic process of capturing, organizing, storing, and retrieving Permissions and Roles.

## [](#%5Foverview)Overview

OneCX Permission Management is a comprehensive solution for managing Permissions and Roles for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the user interface (UI) of OneCX Permission Management.

The UI for this Permission component is designed to provide an intuitive and user-friendly experience for managing Permissions and Roles in the cloud-native environment built with Quarkus.

## [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Permission User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-permission-ui.git
git clone https://github.com/onecx/permission-dev.git
```

The repository `onecx-permission` contains the source code of the OneCX Permission product. The repository `onecx-permission-ui` contains the source code of the OneCX Permission user interface as part of the product.

### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

#### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       onecx-permission-ui
127.0.0.1       onecx-permission-bff
127.0.0.1       onecx-permission-svc
```

#### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Permission Management using a simple configuration file.

```bash
mkdir onecx-permission
cd onecx-permission
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

undefined
====================
## [](#%5Fonecx%5Fpermission%5Foperator)onecx-permission-operator

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                | Type   | Default                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ------------------------------- |
| [onecx.permission.operator.leader-election.lease-name](#onecx-permission-operator%5Fonecx-permission-operator-leader-election-lease-name) Lease name Environment variable: ONECX\_PERMISSION\_OPERATOR\_LEADER\_ELECTION\_LEASE\_NAME | string | onecx-permission-operator-lease |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.operator-sdk.controllers.permission.retry.max-attempts=10
quarkus.operator-sdk.controllers.permission.retry.interval.initial=5000
quarkus.operator-sdk.controllers.permission.retry.interval.multiplier=3
quarkus.operator-sdk.controllers.permission.retry.interval.max=300000
quarkus.kubernetes-client.devservices.override-kubeconfig=true
%prod.quarkus.rest-client.permission_client.url=http://onecx-permission-svc:8080
%prod.quarkus.rest-client.permission_client.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
quarkus.operator-sdk.crd.validate=false
quarkus.operator-sdk.helm.enabled=true
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_permission_operator_v1_yaml.config-key=permission_client
quarkus.openapi-generator.codegen.spec.onecx_permission_operator_v1_yaml.base-package=gen.org.tkit.onecx.permission.operator.v1
quarkus.openapi-generator.codegen.spec.onecx_permission_operator_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_permission_operator_v1_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.27.1     |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 2.3.0                                                                                                                                            |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-operator-sdk-bundle-generator  | 7.2.3                                                                                          |                                                                                                                                                  |            |
| quarkus-operator-sdk                   | 7.2.3                                                                                          |                                                                                                                                                  |            |
| onecx-operator                         | 2.3.0                                                                                          |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.13.0-lts                                                                                     |                                                                                                                                                  |            |
| quarkus-oidc-client                    | 3.27.1                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                         |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-permission-operator/pkgs/container/onecx-permission-operator)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-permission-operator/pkgs/container/charts%2Fonecx-permission-operator)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: operator
  image:
    repository: "onecx/onecx-permission-operator"
  envCustom:
    - name: KUBERNETES_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  serviceAccount:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pm:write ]
    microservice:
      spec:
        description: OneCX Permission Operator
        name: OneCX Permission Operator
```

description: OneCX Permission Operator
name: OneCX Permission Operator

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.operator-sdk.controllers.permission.retry.max-attempts=10
quarkus.operator-sdk.controllers.permission.retry.interval.initial=5000
quarkus.operator-sdk.controllers.permission.retry.interval.multiplier=3
quarkus.operator-sdk.controllers.permission.retry.interval.max=300000
quarkus.kubernetes-client.devservices.override-kubeconfig=true
%prod.quarkus.rest-client.permission_client.url=http://onecx-permission-svc:8080
%prod.quarkus.rest-client.permission_client.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
quarkus.operator-sdk.crd.validate=false
quarkus.operator-sdk.helm.enabled=true
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_permission_operator_v1_yaml.config-key=permission_client
quarkus.openapi-generator.codegen.spec.onecx_permission_operator_v1_yaml.base-package=gen.org.tkit.onecx.permission.operator.v1
quarkus.openapi-generator.codegen.spec.onecx_permission_operator_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_permission_operator_v1_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.27.1     |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 2.3.0                                                                                                                                            |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-operator-sdk-bundle-generator  | 7.2.3                                                                                          |                                                                                                                                                  |            |
| quarkus-operator-sdk                   | 7.2.3                                                                                          |                                                                                                                                                  |            |
| onecx-operator                         | 2.3.0                                                                                          |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.13.0-lts                                                                                     |                                                                                                                                                  |            |
| quarkus-oidc-client                    | 3.27.1                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                         |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-permission-operator/pkgs/container/onecx-permission-operator)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-permission-operator/pkgs/container/charts%2Fonecx-permission-operator)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: operator
  image:
    repository: "onecx/onecx-permission-operator"
  envCustom:
    - name: KUBERNETES_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  serviceAccount:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pm:write ]
    microservice:
      spec:
        description: OneCX Permission Operator
        name: OneCX Permission Operator
```

description: OneCX Permission Operator
name: OneCX Permission Operator

undefined
====================
| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.27.1     |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 2.3.0                                                                                                                                            |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-operator-sdk-bundle-generator  | 7.2.3                                                                                          |                                                                                                                                                  |            |
| quarkus-operator-sdk                   | 7.2.3                                                                                          |                                                                                                                                                  |            |
| onecx-operator                         | 2.3.0                                                                                          |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.13.0-lts                                                                                     |                                                                                                                                                  |            |
| quarkus-oidc-client                    | 3.27.1                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                         |                                                                                                                                                  |            |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                | Type   | Default                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ------------------------------- |
| [onecx.permission.operator.leader-election.lease-name](#onecx-permission-operator%5Fonecx-permission-operator-leader-election-lease-name) Lease name Environment variable: ONECX\_PERMISSION\_OPERATOR\_LEADER\_ELECTION\_LEASE\_NAME | string | onecx-permission-operator-lease |

OneCX Application Store
====================
![overview](_images/overview.jpg) 

Figure 1\. Application Store UI

## [](#%5Foverview)Overview

The OneCX Enterprise Application Store is a comprehensive repository designed to streamline the discovery, integration, and management of both custom-built and third-party software solutions. It serves as a marketplace where enterprises can find and deploy a wide range of applications and services to enhance their operational efficiency and innovation. Key features include:

* **Repository of Solutions**:  
   * **Custom-Built Solutions**: Offers a variety of enterprise-specific applications developed to meet unique business needs.  
   * **Third-Party Software**: Includes a diverse selection of third-party applications, providing additional functionality and integration options.
* **Out-of-the-Box Accelerator Solutions**:  
   * **Pre-Built Accelerators**: Provides ready-to-use solutions that can be quickly deployed to accelerate business processes and initiatives.  
   * **Ease of Integration**: Designed for seamless integration with existing systems, reducing the time and effort required for implementation.
* **Marketplace Functionality**:  
   * **Discover and Integrate**: Functions like a marketplace, allowing users to easily discover and integrate third-party applications and services.  
   * **User-Friendly Interface**: Features an intuitive interface that simplifies the search, evaluation, and deployment of applications.
* **Enterprise Customization**:  
   * **Tailored Solutions**: Supports the customization of applications to fit specific enterprise requirements.  
   * **Scalability**: Ensures that solutions can scale with the growth and evolving needs of the business.

## [](#%5Fbenefits)Benefits

* **Enhanced Efficiency**: Streamlines the process of finding and deploying software solutions, saving time and resources.
* **Increased Innovation**: Provides access to a wide range of applications that can drive innovation and improve business processes.
* **Flexibility**: Offers both out-of-the-box and customizable solutions to meet diverse business needs.
* **Seamless Integration**: Ensures that new applications can be easily integrated with existing systems, minimizing disruption.

## [](#%5Fui%5Fexamples)UI Examples

![properties](_images/properties.jpg) 

Figure 2\. Application basic information

![internal](_images/internal.jpg) 

Figure 3\. Application internal information

![components](_images/components.jpg) 

Figure 4\. Application components

## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Application Store Software, please follow our contribution guidelines (tbd).

## [](#%5Fissue%5Ftracking)Issue Tracking

All OneCX Application Store issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Fstructure%5Foverview)Structure overview

OneCX Application Store consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of the OneCX Application Store Software are as follows:

1. Application Store User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the Application Store system. Users can perform actions such as searching and editing of applications and apps.
2. Application Store Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Application Store Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of applications and apps. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Application Store Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Application Store UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-product-store/current/onecx-product-store-ui/index.html)
* [OneCX Application Store BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-product-store/current/onecx-product-store-bff/index.html)
* [OneCX Application Store SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-product-store/current/onecx-product-store-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Fproduct%5Fstore%5Fsvc)onecx-product-store-svc

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.hibernate-orm.database.generation=validate
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-product-store?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-product-store}
%prod.quarkus.datasource.password=${DB_PWD:onecx-product-store}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |

| | | 0.34.0

| tkit-quarkus-oidc-health

| | | 2.40.0

| \=== Container [Docker registry](https://github.com/onecx/onecx-product-store-svc/pkgs/container/onecx-product-store-svc) \=== Helm [Helm registry](https://github.com/onecx/onecx-product-store-svc/pkgs/container/charts%2Fonecx-product-store-svc) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: svc image: repository: "onecx/onecx-product-store-svc" db: enabled: true operator: microservice: spec: description: OneCX Product Store Backend Service name: OneCX Product Store SVC \----  microservice: spec: description: OneCX Product Store Backend Service name: OneCX Product Store SVC \---- tScopes: \[ ocx-tn:read \] microservice: spec: description: OneCX Product Store Backend Service name: OneCX Product Store SVC \---- |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.hibernate-orm.database.generation=validate
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-product-store?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-product-store}
%prod.quarkus.datasource.password=${DB_PWD:onecx-product-store}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |

| | | 0.34.0

| tkit-quarkus-oidc-health

| | | 2.40.0

| \=== Container [Docker registry](https://github.com/onecx/onecx-product-store-svc/pkgs/container/onecx-product-store-svc) \=== Helm [Helm registry](https://github.com/onecx/onecx-product-store-svc/pkgs/container/charts%2Fonecx-product-store-svc) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: svc image: repository: "onecx/onecx-product-store-svc" db: enabled: true operator: microservice: spec: description: OneCX Product Store Backend Service name: OneCX Product Store SVC \----  microservice: spec: description: OneCX Product Store Backend Service name: OneCX Product Store SVC \---- tScopes: \[ ocx-tn:read \] microservice: spec: description: OneCX Product Store Backend Service name: OneCX Product Store SVC \---- |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |

| | | 0.34.0

| tkit-quarkus-oidc-health

| | | 2.40.0

undefined
====================


undefined
====================
## [](#%5Fonecx%5Fproduct%5Fstore%5Fbff)onecx-product-store-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/images/*
%prod.quarkus.rest-client.onecx_product_store_internal.url=http://onecx-product-store-svc:8080
%prod.quarkus.rest-client.onecx_image_internal.url=http://onecx-product-store-svc:8080
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.config-key=onecx_product_store_internal
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.config-key=onecx_image_internal
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
%prod.quarkus.rest-client.onecx_product_store_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_image_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                                                                                                                                 | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| ------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                                                                                                                               | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi                                                                                                                   | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                                                                                                                       | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                                                                                                                    | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-opentelemetry                                                                                                                      | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus                                                                                                     | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-openapi-generator                                                                                                                  | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson                                                                                                                | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                                                                                                                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                                                                                                                        | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                                                                                                                          | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context                                                                                                                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-hibernate-validator                                                                                                                | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                                                                                                                          | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                                                                                                                               | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                                                                                                                                 | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-arc                                                                                                                                | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker                                                                                                             | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter                                                                                                            | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                                                                                                                     | 2.40.0                                                                                             |                                                                                                                                                  |            |
| \===ttps://github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.1                                                                                             | quarkus-rest-client-oidc-filter                                                                                                                  |            |
| 3.15.1                                                                                                                                     | \===kus-arc.adoc\[Link\]                                                                           | 3.9.3                                                                                                                                            |            |
| quarkus-container-image-docker                                                                                                             | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.9.3      |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-product-store-bff/pkgs/container/onecx-product-store-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-product-store-bff/pkgs/container/charts%2Fonecx-product-store-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-product-store-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          microfrontend:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          microservice:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          slot:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          image:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ps:all, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Product Store Backend For Frontend
        name: OneCX Product Store BFF
```

requests microservice: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests slot: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests image: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ps:all, ocx-ws:read, ocx-pm:read \]

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/images/*
%prod.quarkus.rest-client.onecx_product_store_internal.url=http://onecx-product-store-svc:8080
%prod.quarkus.rest-client.onecx_image_internal.url=http://onecx-product-store-svc:8080
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.config-key=onecx_product_store_internal
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.config-key=onecx_image_internal
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
%prod.quarkus.rest-client.onecx_product_store_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_image_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                                                                                                                                 | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| ------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                                                                                                                               | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi                                                                                                                   | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                                                                                                                       | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                                                                                                                    | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-opentelemetry                                                                                                                      | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus                                                                                                     | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-openapi-generator                                                                                                                  | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson                                                                                                                | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                                                                                                                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                                                                                                                        | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                                                                                                                          | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context                                                                                                                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-hibernate-validator                                                                                                                | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                                                                                                                          | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                                                                                                                               | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                                                                                                                                 | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-arc                                                                                                                                | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker                                                                                                             | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter                                                                                                            | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                                                                                                                     | 2.40.0                                                                                             |                                                                                                                                                  |            |
| \===ttps://github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.1                                                                                             | quarkus-rest-client-oidc-filter                                                                                                                  |            |
| 3.15.1                                                                                                                                     | \===kus-arc.adoc\[Link\]                                                                           | 3.9.3                                                                                                                                            |            |
| quarkus-container-image-docker                                                                                                             | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.9.3      |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-product-store-bff/pkgs/container/onecx-product-store-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-product-store-bff/pkgs/container/charts%2Fonecx-product-store-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-product-store-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          microfrontend:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          microservice:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          slot:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          image:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ps:all, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Product Store Backend For Frontend
        name: OneCX Product Store BFF
```

requests microservice: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests slot: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests image: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ps:all, ocx-ws:read, ocx-pm:read \]

undefined
====================
| Extensions                                                                                                                                 | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| ------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                                                                                                                               | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi                                                                                                                   | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                                                                                                                       | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                                                                                                                    | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-opentelemetry                                                                                                                      | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus                                                                                                     | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-openapi-generator                                                                                                                  | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson                                                                                                                | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                                                                                                                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                                                                                                                        | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                                                                                                                          | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context                                                                                                                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-hibernate-validator                                                                                                                | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                                                                                                                          | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                                                                                                                               | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                                                                                                                                 | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-arc                                                                                                                                | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker                                                                                                             | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter                                                                                                            | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                                                                                                                     | 2.40.0                                                                                             |                                                                                                                                                  |            |
| \===ttps://github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.1                                                                                             | quarkus-rest-client-oidc-filter                                                                                                                  |            |
| 3.15.1                                                                                                                                     | \===kus-arc.adoc\[Link\]                                                                           | 3.9.3                                                                                                                                            |            |
| quarkus-container-image-docker                                                                                                             | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.9.3      |

undefined
====================
## [](#%5Fonecx%5Fproduct%5Fstore%5Fui)onecx-product-store-ui

## [](#%5Fonecx%5Fproduct%5Fstore%5Fui%5F2)OneCX Product Store UI

### [](#%5Fwhat%5Fis%5Fthe%5Fproduct%5Fstore)What is the Product Store?

OneCX Product Store refers to the systematic process of creating, editing and managing OneCX products and apps.

### [](#%5Foverview)Overview

OneCX Product Store is a comprehensive solution for managing Help items for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the User Interface (UI) of the OneCX Product Store.

The UI for this Product Store component is designed to provide an intuitive and user-friendly experience for managing Help items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Product Store UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-product-store-ui.git
git clone https://github.com/onecx/help-dev.git
```

The repository `onecx-product-store` contains the source code of the OneCX Product Store product. The repository `onecx-product-store-ui` contains the source code of the OneCX Product Store UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-product-store-ui
127.0.0.1       onecx-product-store-bff
127.0.0.1       onecx-product-store-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite Linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Product Store Management using a simple configuration file.

```bash
mkdir onecx-product-store
cd onecx-product-store
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fproduct%5Fstore%5Fui)OneCX Product Store UI

### [](#%5Fwhat%5Fis%5Fthe%5Fproduct%5Fstore)What is the Product Store?

OneCX Product Store refers to the systematic process of creating, editing and managing OneCX products and apps.

### [](#%5Foverview)Overview

OneCX Product Store is a comprehensive solution for managing Help items for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the User Interface (UI) of the OneCX Product Store.

The UI for this Product Store component is designed to provide an intuitive and user-friendly experience for managing Help items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Product Store UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-product-store-ui.git
git clone https://github.com/onecx/help-dev.git
```

The repository `onecx-product-store` contains the source code of the OneCX Product Store product. The repository `onecx-product-store-ui` contains the source code of the OneCX Product Store UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-product-store-ui
127.0.0.1       onecx-product-store-bff
127.0.0.1       onecx-product-store-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite Linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Product Store Management using a simple configuration file.

```bash
mkdir onecx-product-store
cd onecx-product-store
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fproduct%5Fstore%5Foperator)onecx-product-store-operator

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                             | Type   | Default                            |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------------- |
| [onecx.product-store.operator.leader-election.lease-name](#onecx-product-store-operator%5Fonecx-product-store-operator-leader-election-lease-name) Lease name Environment variable: ONECX\_PRODUCT\_STORE\_OPERATOR\_LEADER\_ELECTION\_LEASE\_NAME | string | onecx-product-store-operator-lease |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.operator-sdk.controllers.product.retry.max-attempts=10
quarkus.operator-sdk.controllers.product.retry.interval.initial=5000
quarkus.operator-sdk.controllers.product.retry.interval.multiplier=3
quarkus.operator-sdk.controllers.product.retry.interval.max=300000
quarkus.kubernetes-client.devservices.override-kubeconfig=true
%prod.quarkus.rest-client.product_store_client.url=http://onecx-product-store-svc:8080
%prod.quarkus.rest-client.product_store_client.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.operator-sdk.crd.validate=false
quarkus.operator-sdk.helm.enabled=true
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_product_v1_yaml.config-key=product_store_client
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_product_v1_yaml.base-package=gen.org.tkit.onecx.product.store.product.v1
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_product_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_product_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_slot_v1_yaml.config-key=product_store_client
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_slot_v1_yaml.base-package=gen.org.tkit.onecx.product.store.slot.v1
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_slot_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_slot_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_ms_v1_yaml.config-key=product_store_client
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_ms_v1_yaml.base-package=gen.org.tkit.onecx.product.store.ms.v1
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_ms_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_ms_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_mfe_v1_yaml.config-key=product_store_client
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_mfe_v1_yaml.base-package=gen.org.tkit.onecx.product.store.mfe.v1
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_mfe_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_mfe_v1_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.20.2.1   |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.7.0                                                                                                                                            |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-operator-sdk-bundle-generator  | 7.1.2                                                                                          |                                                                                                                                                  |            |
| quarkus-operator-sdk                   | 7.1.2                                                                                          |                                                                                                                                                  |            |
| onecx-operator                         | 1.7.0                                                                                          |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.10.0-lts                                                                                     |                                                                                                                                                  |            |
| quarkus-oidc-client                    | 3.20.2.1                                                                                       |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                       |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-product-store-operator/pkgs/container/onecx-product-store-operator)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-product-store-operator/pkgs/container/charts%2Fonecx-product-store-operator)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: product-operator
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-product-store-operator"
  envCustom:
    - name: KUBERNETES_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  serviceAccount:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ps-product:write, ocx-ps-slot:write, ocx-ps-ms:write, ocx-ps-mfe:write ]
    microservice:
      spec:
        description: OneCX Product Store Operator
        name: OneCX Product Store Operator
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.operator-sdk.controllers.product.retry.max-attempts=10
quarkus.operator-sdk.controllers.product.retry.interval.initial=5000
quarkus.operator-sdk.controllers.product.retry.interval.multiplier=3
quarkus.operator-sdk.controllers.product.retry.interval.max=300000
quarkus.kubernetes-client.devservices.override-kubeconfig=true
%prod.quarkus.rest-client.product_store_client.url=http://onecx-product-store-svc:8080
%prod.quarkus.rest-client.product_store_client.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.operator-sdk.crd.validate=false
quarkus.operator-sdk.helm.enabled=true
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_product_v1_yaml.config-key=product_store_client
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_product_v1_yaml.base-package=gen.org.tkit.onecx.product.store.product.v1
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_product_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_product_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_slot_v1_yaml.config-key=product_store_client
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_slot_v1_yaml.base-package=gen.org.tkit.onecx.product.store.slot.v1
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_slot_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_slot_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_ms_v1_yaml.config-key=product_store_client
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_ms_v1_yaml.base-package=gen.org.tkit.onecx.product.store.ms.v1
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_ms_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_ms_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_mfe_v1_yaml.config-key=product_store_client
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_mfe_v1_yaml.base-package=gen.org.tkit.onecx.product.store.mfe.v1
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_mfe_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_operator_mfe_v1_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.20.2.1   |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.7.0                                                                                                                                            |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-operator-sdk-bundle-generator  | 7.1.2                                                                                          |                                                                                                                                                  |            |
| quarkus-operator-sdk                   | 7.1.2                                                                                          |                                                                                                                                                  |            |
| onecx-operator                         | 1.7.0                                                                                          |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.10.0-lts                                                                                     |                                                                                                                                                  |            |
| quarkus-oidc-client                    | 3.20.2.1                                                                                       |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                       |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-product-store-operator/pkgs/container/onecx-product-store-operator)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-product-store-operator/pkgs/container/charts%2Fonecx-product-store-operator)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: product-operator
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-product-store-operator"
  envCustom:
    - name: KUBERNETES_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  serviceAccount:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ps-product:write, ocx-ps-slot:write, ocx-ps-ms:write, ocx-ps-mfe:write ]
    microservice:
      spec:
        description: OneCX Product Store Operator
        name: OneCX Product Store Operator
```

undefined
====================
| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.20.2.1   |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.7.0                                                                                                                                            |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-operator-sdk-bundle-generator  | 7.1.2                                                                                          |                                                                                                                                                  |            |
| quarkus-operator-sdk                   | 7.1.2                                                                                          |                                                                                                                                                  |            |
| onecx-operator                         | 1.7.0                                                                                          |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.10.0-lts                                                                                     |                                                                                                                                                  |            |
| quarkus-oidc-client                    | 3.20.2.1                                                                                       |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                       |                                                                                                                                                  |            |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                             | Type   | Default                            |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------------- |
| [onecx.product-store.operator.leader-election.lease-name](#onecx-product-store-operator%5Fonecx-product-store-operator-leader-election-lease-name) Lease name Environment variable: ONECX\_PRODUCT\_STORE\_OPERATOR\_LEADER\_ELECTION\_LEASE\_NAME | string | onecx-product-store-operator-lease |

OneCX Shell
====================
## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Shell Software, please follow our contribution guidelines (tbd).

## [](#%5Fwhat%5Fis%5Fshell)What is Shell

Shell is the backbone of OneCX and serves essential data and acts as wrapper for all other applications.

## [](#%5Fkey%5Ffeatures)Key Features

* Serves essential data and acts as wrapper for all other applications.

## [](#%5Fissue%5Ftracking)Issue tracking

All OneCX Shell issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Foverview)Overview

tbd

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Shell Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Shell UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-shell/current/ui/index.html)
* [OneCX Shell Management BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-shell/current/bff/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

Concept for Microfrontend Parameter
====================
1. The Shell requests the parameters from the ShellBFF by product names and application ids of all applications which are part of the current workspace configuration.
2. The ShellBFF retrieves the parameters from the ParameterSVC for all applications which are part of the current workspace.
3. The ParameterSVC returns the parameters to the ShellBFF.
4. The ShellBFF sends the parameters, back to the Shell.
5. The Shell caches the parameters only if the fetch status indicates success.

Since the ShellBFF is always returning status code 200 when requested for parameters, the response structure implies if the fetching of parameters was successfull or not.

If the response object matches the request object (i.e., all products and applications are included in the response), then the fetch was successful. If there is an issue with the ParameterSVC, the response object will be empty and will not contain any products or applications.

![Diagram](_images/diag-b60f58445d79bdcd767042cfa0f966ccd8d1e081.svg) 

undefined
====================
## [](#%5Fonecx%5Fshell%5Fbff)onecx-shell-bff

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                         | Type    | Default |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------- |
| [onecx.shell.permissions.cache-enabled](#onecx-shell-bff%5Fonecx-shell-permissions-cache-enabled) Enable or disable caching Environment variable: ONECX\_SHELL\_PERMISSIONS\_CACHE\_ENABLED    | boolean | true    |
| [onecx.shell.permissions.key-separator](#onecx-shell-bff%5Fonecx-shell-permissions-key-separator) select default key separator Environment variable: ONECX\_SHELL\_PERMISSIONS\_KEY\_SEPARATOR | string  | #       |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
onecx.shell.permissions.cache-enabled=true
onecx.shell.permissions.key-separator=#
quarkus.cache.caffeine.onecx-shell.metrics-enabled=${ONECX_SHELL_CACHE_METRICS_ENABLED:true}
quarkus.cache.caffeine.onecx-shell.expire-after-write=${ONECX_SHELL_CACHE_EXPIRE_AFTER:310S}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_theme_svc.url=http://onecx-theme-svc:8080
%prod.quarkus.rest-client.onecx_product_store_svc.url=http://onecx-product-store-svc:8080
%prod.quarkus.rest-client.onecx_permission_svc.url=http://onecx-permission-svc:8080
%prod.quarkus.rest-client.onecx_parameter_svc.url=http://onecx-parameter-svc:8080
%prod.quarkus.rest-client.onecx_user_profile_svc.url=http://onecx-user-profile-svc:8080
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/themes/*
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.base-package=gen.org.tkit.onecx.workspace.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.config-key=onecx_theme_svc
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.base-package=gen.org.tkit.onecx.theme.client
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.config-key=onecx_theme_svc
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.base-package=gen.org.tkit.onecx.icon.client
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.config-key=onecx_product_store_svc
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.model-name-suffix=PSV1
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.config-key=onecx_permission_svc
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.base-package=gen.org.tkit.onecx.permission.client
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.config-key=onecx_user_profile_svc
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.base-package=gen.org.tkit.onecx.user.profile.client
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.config-key=onecx_parameter_svc
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.base-package=gen.org.tkit.onecx.parameter.client
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_theme_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_permission_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_parameter_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_user_profile_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===th

| | | 2.40.0

| \=== Container [Docker registry](https://github.com/onecx/onecx-shell-bff/pkgs/container/onecx-shell-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-shell-bff/pkgs/container/charts%2Fonecx-shell-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-shell-bff" operator: # Permission permission: enabled: true spec: permissions: workspaceConfig: read: permission on all GET requests and POST search userProfile: read: permission on all GET requests and POST search permission: read: permission on all GET requests and POST search parameter: read: permission on all GET requests and POST search keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-sl:all, ocx-ws:read, ocx-th:read, ocx-ps:read, ocx-pm:read, ocx-up:read, ocx-pa-ext:read, ocx-pm:read \] microservice: spec: description: OneCX Shell Backend for Frontend name: OneCX Shell BFF ---- |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
onecx.shell.permissions.cache-enabled=true
onecx.shell.permissions.key-separator=#
quarkus.cache.caffeine.onecx-shell.metrics-enabled=${ONECX_SHELL_CACHE_METRICS_ENABLED:true}
quarkus.cache.caffeine.onecx-shell.expire-after-write=${ONECX_SHELL_CACHE_EXPIRE_AFTER:310S}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_theme_svc.url=http://onecx-theme-svc:8080
%prod.quarkus.rest-client.onecx_product_store_svc.url=http://onecx-product-store-svc:8080
%prod.quarkus.rest-client.onecx_permission_svc.url=http://onecx-permission-svc:8080
%prod.quarkus.rest-client.onecx_parameter_svc.url=http://onecx-parameter-svc:8080
%prod.quarkus.rest-client.onecx_user_profile_svc.url=http://onecx-user-profile-svc:8080
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/themes/*
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.base-package=gen.org.tkit.onecx.workspace.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_external_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.config-key=onecx_theme_svc
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.base-package=gen.org.tkit.onecx.theme.client
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_external_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.config-key=onecx_theme_svc
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.base-package=gen.org.tkit.onecx.icon.client
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_icon_external_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.config-key=onecx_product_store_svc
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.model-name-suffix=PSV1
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.config-key=onecx_permission_svc
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.base-package=gen.org.tkit.onecx.permission.client
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_permission_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.config-key=onecx_user_profile_svc
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.base-package=gen.org.tkit.onecx.user.profile.client
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_user_profile_svc_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.config-key=onecx_parameter_svc
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.base-package=gen.org.tkit.onecx.parameter.client
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_parameter_svc_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_theme_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_permission_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_parameter_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_user_profile_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===th

| | | 2.40.0

| \=== Container [Docker registry](https://github.com/onecx/onecx-shell-bff/pkgs/container/onecx-shell-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-shell-bff/pkgs/container/charts%2Fonecx-shell-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-shell-bff" operator: # Permission permission: enabled: true spec: permissions: workspaceConfig: read: permission on all GET requests and POST search userProfile: read: permission on all GET requests and POST search permission: read: permission on all GET requests and POST search parameter: read: permission on all GET requests and POST search keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-sl:all, ocx-ws:read, ocx-th:read, ocx-ps:read, ocx-pm:read, ocx-up:read, ocx-pa-ext:read, ocx-pm:read \] microservice: spec: description: OneCX Shell Backend for Frontend name: OneCX Shell BFF ---- |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===th

| | | 2.40.0

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                         | Type    | Default |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------- |
| [onecx.shell.permissions.cache-enabled](#onecx-shell-bff%5Fonecx-shell-permissions-cache-enabled) Enable or disable caching Environment variable: ONECX\_SHELL\_PERMISSIONS\_CACHE\_ENABLED    | boolean | true    |
| [onecx.shell.permissions.key-separator](#onecx-shell-bff%5Fonecx-shell-permissions-key-separator) select default key separator Environment variable: ONECX\_SHELL\_PERMISSIONS\_KEY\_SEPARATOR | string  | #       |

undefined
====================
## [](#%5Fonecx%5Fshell%5Fui)onecx-shell-ui

## [](#onecx-shell-ui)OneCX Shell UI

### [](#what-is-shell)What is Shell

Shell is the backbone of OneCX and serves essential data and acts as wrapper for all other applications.

### [](#overview)Overview

tbd

### [](#getting-started)Getting Started

To start developing the OneCX Shell User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#prerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#clone-the-repository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-shell-ui.git
```

The repository `onecx-shell` contains the source code of the OneCX Shell product. The repository `onecx-shell-ui` contains the source code of the OneCX Shell user interface as part of the product.

#### [](#update-local-dns-resolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#update-windows-host-file)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-shell-ui
127.0.0.1       onecx-shell-bff
```

##### [](#update-wsl-host-file)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#starting-onecx-dependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Shell using a simple configuration file.

```bash
mkdir onecx-shell
cd onecx-shell
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

#### [](#slot-groups)Slot Groups

Slot Groups are a layout mechanism in OneCX Shell UI that organize multiple slots into structured regions. They enable flexible positioning and dynamic loading of remote components within defined areas of the shell interface’s portal viewport.

![slot groups portal viewport](_images/slot_groups_portal_viewport.png) 

##### [](#overview-2)Overview

A Slot Group is a container component that divides content into three distinct regions:

* **start:** The beginning region of the slot group
* **center:** The middle region of the slot group
* **end:** The ending region of the slot group

Each slot group automatically creates three named slots based on its name: `<name>.start`, `<name>.center`, and `<name>.end`. Remote components can be loaded into any of these slots dynamically based on configuration.

##### [](#configuration-properties)Configuration Properties

| Property         | Type                              | Description                                                                                                        |                          |                                                                  |
| ---------------- | --------------------------------- | ------------------------------------------------------------------------------------------------------------------ | ------------------------ | ---------------------------------------------------------------- |
| name (required)  | string                            | Unique identifier for the slot group. Automatically generates three slots: <name>.start, <name>.center, <name>.end |                          |                                                                  |
| direction        | 'row' \| 'row-reverse'            | 'column'                                                                                                           | 'column-reverse'         | Controls the flex direction for laying out slots. Default: 'row' |
| slotStyles       | { \[key: string\]: any }          | CSS styles object applied to each individual slot within the group                                                 |                          |                                                                  |
| slotClasses      | string \| string\[\]              | Set<string>                                                                                                        | { \[key: string\]: any } | CSS classes applied to each individual slot within the group     |
| slotInputs       | Record<string, unknown>           | Input properties passed to all remote components loaded in the slots                                               |                          |                                                                  |
| slotOutputs      | Record<string, EventEmitter<any>> | Output event handlers bound to all remote components loaded in the slots                                           |                          |                                                                  |
| groupStyles      | { \[key: string\]: any }          | CSS styles object applied to the slot group container element                                                      |                          |                                                                  |
| groupClasses     | string \| string\[\]              | Set<string>                                                                                                        | { \[key: string\]: any } | CSS classes applied to the slot group container element          |
| rcWrapperStyles  | { \[key: string\]: any }          | CSS styles applied to the remote component wrapper elements                                                        |                          |                                                                  |
| rcWrapperClasses | string \| string\[\]              | Set<string>                                                                                                        | { \[key: string\]: any } | CSS classes applied to the remote component wrapper elements     |

##### [](#usage-example)Usage Example

```html
<ocx-shell-slot-group
  name="onecx-shell-header"
  direction="row"
></ocx-shell-slot-group>
```

This example creates a horizontal slot group named `onecx-shell-header` with three available slots:

* `onecx-shell-header.start`
* `onecx-shell-header.center`
* `onecx-shell-header.end`

##### [](#layout-behavior)Layout Behavior

The slot group uses CSS Flexbox for layout:

* **Row directions** (`row`, `row-reverse`): Sets width to 100% and uses `justify-content: space-between`
* **Column directions** (`column`, `column-reverse`): Sets height to 100% and uses `justify-content: space-between`

Each slot within the group is configured with:

* `display: flex`
* `flex-direction` matching the group direction
* `align-items: center`

##### [](#resize-events)Resize Events

The Slot Group Component automatically monitors size changes and publishes resize events to the OneCX Topic event system. This allows remote components to respond dynamically to layout changes.

**Event Details:**

* **Event Type:** `SLOT_GROUP_RESIZED` (from `@onecx/integration-interface`)
* **Debounce Time:** 100ms
* **Payload:**  
   * `slotName`: The name of the slot group  
   * `slotDetails`: Object containing `width` and `height` properties

**Implementation:**

The component uses a `ResizeObserver` to monitor the slot group’s dimensions. When changes occur, they are debounced and published through the `EventsPublisher` TopicPublisher, making them available to all micro frontends in the shell.

```typescript
// Remote components can subscribe to resize events
eventsPublisher.subscribe(EventType.SLOT_GROUP_RESIZED, (event) => {
  console.log('Slot group resized:', event.payload.slotName);
  console.log('New dimensions:', event.payload.slotDetails);
});
```

#### [](#onecx-extensions-slot)OneCX Extensions Slot

The `onecx-shell-extensions` slot is a dedicated slot designed for hosting extension components that enhance Shell UI functionality.

##### [](#purpose)Purpose

The extensions slot provides a standardized integration point for example such as:

* **Utility Components:** Tools and helpers
* **Custom Integrations:** Third-party or custom micro frontend extensions

##### [](#integration)Integration

Extension components are registered through the OneCX slot configuration system and loaded dynamically.

##### [](#configuration)Configuration

Extensions are defined in the slot configuration and can be managed through the OneCX Workspace UI or configured in the helm values yaml file.

Each extension component loaded into the `onecx-shell-extensions` slot receives standard slot inputs and can emit events back to the shell through the OneCX Topic event system.

#### [](#shell-toast-remote-component)Shell Toast Remote Component

The Shell Toast component provides a centralized, application-wide notification system for displaying messages across the OneCX Shell and all loaded micro frontends.

##### [](#overview-3)Overview

`OneCXShellToastComponent` is a standalone remote component that can be embedded as a web component. It integrates with the OneCX messaging infrastructure to display toast notifications using PrimeNG components.

**Key Features:**

* Centralized message handling for all micro frontends
* PrimeNG Toast integration
* Automatic subscription to portal-wide messages
* Translation support for internationalization
* Word-wrap styling for long messages

##### [](#setup-and-configuration)Setup and Configuration

To enable toast messages by using the `OneCXShellToastComponent`, it must be configured in the `onecx-shell-extensions` slot. This ensures that the toast container is available globally for all micro frontends.

**Configuration Steps:**

1. Register the `onecx-shell-extensions` slot in the slot configuration of your workspace
2. Assign the `OneCXShellToastComponent` to the `onecx-shell-extensions` slot
3. The component will automatically subscribe to the `PortalMessageService` message stream

Once configured in the extensions slot, any micro frontend can send messages through the `PortalMessageService`, and they will be displayed as toast notifications to the user.

undefined
====================
## [](#onecx-shell-ui)OneCX Shell UI

### [](#what-is-shell)What is Shell

Shell is the backbone of OneCX and serves essential data and acts as wrapper for all other applications.

### [](#overview)Overview

tbd

### [](#getting-started)Getting Started

To start developing the OneCX Shell User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#prerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#clone-the-repository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-shell-ui.git
```

The repository `onecx-shell` contains the source code of the OneCX Shell product. The repository `onecx-shell-ui` contains the source code of the OneCX Shell user interface as part of the product.

#### [](#update-local-dns-resolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#update-windows-host-file)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-shell-ui
127.0.0.1       onecx-shell-bff
```

##### [](#update-wsl-host-file)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#starting-onecx-dependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Shell using a simple configuration file.

```bash
mkdir onecx-shell
cd onecx-shell
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

#### [](#slot-groups)Slot Groups

Slot Groups are a layout mechanism in OneCX Shell UI that organize multiple slots into structured regions. They enable flexible positioning and dynamic loading of remote components within defined areas of the shell interface’s portal viewport.

![slot groups portal viewport](_images/slot_groups_portal_viewport.png) 

##### [](#overview-2)Overview

A Slot Group is a container component that divides content into three distinct regions:

* **start:** The beginning region of the slot group
* **center:** The middle region of the slot group
* **end:** The ending region of the slot group

Each slot group automatically creates three named slots based on its name: `<name>.start`, `<name>.center`, and `<name>.end`. Remote components can be loaded into any of these slots dynamically based on configuration.

##### [](#configuration-properties)Configuration Properties

| Property         | Type                              | Description                                                                                                        |                          |                                                                  |
| ---------------- | --------------------------------- | ------------------------------------------------------------------------------------------------------------------ | ------------------------ | ---------------------------------------------------------------- |
| name (required)  | string                            | Unique identifier for the slot group. Automatically generates three slots: <name>.start, <name>.center, <name>.end |                          |                                                                  |
| direction        | 'row' \| 'row-reverse'            | 'column'                                                                                                           | 'column-reverse'         | Controls the flex direction for laying out slots. Default: 'row' |
| slotStyles       | { \[key: string\]: any }          | CSS styles object applied to each individual slot within the group                                                 |                          |                                                                  |
| slotClasses      | string \| string\[\]              | Set<string>                                                                                                        | { \[key: string\]: any } | CSS classes applied to each individual slot within the group     |
| slotInputs       | Record<string, unknown>           | Input properties passed to all remote components loaded in the slots                                               |                          |                                                                  |
| slotOutputs      | Record<string, EventEmitter<any>> | Output event handlers bound to all remote components loaded in the slots                                           |                          |                                                                  |
| groupStyles      | { \[key: string\]: any }          | CSS styles object applied to the slot group container element                                                      |                          |                                                                  |
| groupClasses     | string \| string\[\]              | Set<string>                                                                                                        | { \[key: string\]: any } | CSS classes applied to the slot group container element          |
| rcWrapperStyles  | { \[key: string\]: any }          | CSS styles applied to the remote component wrapper elements                                                        |                          |                                                                  |
| rcWrapperClasses | string \| string\[\]              | Set<string>                                                                                                        | { \[key: string\]: any } | CSS classes applied to the remote component wrapper elements     |

##### [](#usage-example)Usage Example

```html
<ocx-shell-slot-group
  name="onecx-shell-header"
  direction="row"
></ocx-shell-slot-group>
```

This example creates a horizontal slot group named `onecx-shell-header` with three available slots:

* `onecx-shell-header.start`
* `onecx-shell-header.center`
* `onecx-shell-header.end`

##### [](#layout-behavior)Layout Behavior

The slot group uses CSS Flexbox for layout:

* **Row directions** (`row`, `row-reverse`): Sets width to 100% and uses `justify-content: space-between`
* **Column directions** (`column`, `column-reverse`): Sets height to 100% and uses `justify-content: space-between`

Each slot within the group is configured with:

* `display: flex`
* `flex-direction` matching the group direction
* `align-items: center`

##### [](#resize-events)Resize Events

The Slot Group Component automatically monitors size changes and publishes resize events to the OneCX Topic event system. This allows remote components to respond dynamically to layout changes.

**Event Details:**

* **Event Type:** `SLOT_GROUP_RESIZED` (from `@onecx/integration-interface`)
* **Debounce Time:** 100ms
* **Payload:**  
   * `slotName`: The name of the slot group  
   * `slotDetails`: Object containing `width` and `height` properties

**Implementation:**

The component uses a `ResizeObserver` to monitor the slot group’s dimensions. When changes occur, they are debounced and published through the `EventsPublisher` TopicPublisher, making them available to all micro frontends in the shell.

```typescript
// Remote components can subscribe to resize events
eventsPublisher.subscribe(EventType.SLOT_GROUP_RESIZED, (event) => {
  console.log('Slot group resized:', event.payload.slotName);
  console.log('New dimensions:', event.payload.slotDetails);
});
```

#### [](#onecx-extensions-slot)OneCX Extensions Slot

The `onecx-shell-extensions` slot is a dedicated slot designed for hosting extension components that enhance Shell UI functionality.

##### [](#purpose)Purpose

The extensions slot provides a standardized integration point for example such as:

* **Utility Components:** Tools and helpers
* **Custom Integrations:** Third-party or custom micro frontend extensions

##### [](#integration)Integration

Extension components are registered through the OneCX slot configuration system and loaded dynamically.

##### [](#configuration)Configuration

Extensions are defined in the slot configuration and can be managed through the OneCX Workspace UI or configured in the helm values yaml file.

Each extension component loaded into the `onecx-shell-extensions` slot receives standard slot inputs and can emit events back to the shell through the OneCX Topic event system.

#### [](#shell-toast-remote-component)Shell Toast Remote Component

The Shell Toast component provides a centralized, application-wide notification system for displaying messages across the OneCX Shell and all loaded micro frontends.

##### [](#overview-3)Overview

`OneCXShellToastComponent` is a standalone remote component that can be embedded as a web component. It integrates with the OneCX messaging infrastructure to display toast notifications using PrimeNG components.

**Key Features:**

* Centralized message handling for all micro frontends
* PrimeNG Toast integration
* Automatic subscription to portal-wide messages
* Translation support for internationalization
* Word-wrap styling for long messages

##### [](#setup-and-configuration)Setup and Configuration

To enable toast messages by using the `OneCXShellToastComponent`, it must be configured in the `onecx-shell-extensions` slot. This ensures that the toast container is available globally for all micro frontends.

**Configuration Steps:**

1. Register the `onecx-shell-extensions` slot in the slot configuration of your workspace
2. Assign the `OneCXShellToastComponent` to the `onecx-shell-extensions` slot
3. The component will automatically subscribe to the `PortalMessageService` message stream

Once configured in the extensions slot, any micro frontend can send messages through the `PortalMessageService`, and they will be displayed as toast notifications to the user.

OneCX Tenant Management
====================
![overview](_images/overview.png) 

Figure 1\. Tenant UI

## [](#%5Foverview)Overview

The Tenant Management Solution is designed to efficiently manage multiple tenants within a single platform. It provides comprehensive tools for administrators to oversee tenant-specific configurations, ensuring each tenant has a tailored and secure environment that meets their unique needs. Key Features includes:

**Tenant Configuration**:

* Custom Settings: Allows administrators to configure settings specific to each tenant, including branding, themes, and access controls.
* Theme Management: Supports the application of different themes for each tenant, allowing for a unique visual identity that aligns with their specific branding and preferences.

**Security and Compliance**:

* Data Isolation: Ensures that each tenant’s data is isolated and secure, preventing unauthorized access between tenants.
* Compliance Management: Helps maintain compliance with industry standards and regulations by providing tools for auditing and reporting.

**Customization**:

* Customizable Features: Offers the ability to customize features and functionalities to meet the specific needs of each tenant.

## [](#%5Fbenefits)Benefits

* **Efficient Management**: Streamlines the management of multiple tenants, reducing administrative overhead and complexity.
* **Enhanced Security**: Ensures robust security measures are in place to protect tenant data and maintain compliance.
* **Improved Performance**: Provides tools to monitor and optimize performance, ensuring a high-quality user experience for all tenants.
* **Flexibility**: Offers a high degree of customization and scalability, allowing the solution to adapt to the evolving needs of each tenant.
* **Unique Tenant Experiences**: The ability to provide different themes for each tenant ensures that each one can have a distinct look and feel, enhancing their user experience.

## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Tenant Management Software, please follow our contribution guidelines (tbd).

## [](#%5Fissue%5Ftracking)Issue Tracking

All OneCX Tenant issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Fstructure%5Foverview)Structure Overview

OneCX Tenant Software is a comprehensive solution for managing Tenants in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of the OneCX Tenant Software are as follows:

1. Tenant User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the Tenant system. Users can perform actions such as searching and editing of Tenants.
2. Tenant Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Tenant Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of Tenants. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Tenant Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Tenant UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-tenant/current/onecx-tenant-ui/index.html)
* [OneCX Tenant BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-tenant/current/onecx-tenant-bff/index.html)
* [OneCX Tenant SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-tenant/current/onecx-tenant-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
This backend service takes an `Identity token` of the user, reads the organization `ID` from the token and returns the corresponding `tenant ID`.

undefined
====================
## [](#%5Fonecx%5Ftenant%5Fsvc)onecx-tenant-svc

This backend service takes an `Identity token` of the user, reads the organization `ID` from the token and returns the corresponding `tenant ID`.

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                        | Type    | Default |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------- |
| [onecx.tenant.default.no-claim.enabled](#onecx-tenant-svc%5Fonecx-tenant-default-no-claim-enabled) Enable or disable default no claim tenant Environment variable: ONECX\_TENANT\_DEFAULT\_NO\_CLAIM\_ENABLED | boolean | true    |
| [onecx.tenant.default.no-claim.tenant-id](#onecx-tenant-svc%5Fonecx-tenant-default-no-claim-tenant-id) Default no claim tenant ID Environment variable: ONECX\_TENANT\_DEFAULT\_NO\_CLAIM\_TENANT\_ID         | string  | default |
| [onecx.tenant.default.enabled](#onecx-tenant-svc%5Fonecx-tenant-default-enabled) Enable or disable default tenant Environment variable: ONECX\_TENANT\_DEFAULT\_ENABLED                                       | boolean | true    |
| [onecx.tenant.default.tenant-id](#onecx-tenant-svc%5Fonecx-tenant-default-tenant-id) Default tenant ID Environment variable: ONECX\_TENANT\_DEFAULT\_TENANT\_ID                                               | string  | default |
| [onecx.tenant.token.claim.org-id](#onecx-tenant-svc%5Fonecx-tenant-token-claim-org-id) Token claim ID of the organization ID Environment variable: ONECX\_TENANT\_TOKEN\_CLAIM\_ORG\_ID                       | string  | orgId   |
| [onecx.tenant.resolver.default.enabled](#onecx-tenant-svc%5Fonecx-tenant-resolver-default-enabled) Enable or disable default tenant Environment variable: ONECX\_TENANT\_RESOLVER\_DEFAULT\_ENABLED           | boolean | true    |
| [onecx.tenant.resolver.default.tenant-id](#onecx-tenant-svc%5Fonecx-tenant-resolver-default-tenant-id) Default tenant ID Environment variable: ONECX\_TENANT\_RESOLVER\_DEFAULT\_TENANT\_ID                   | string  | default |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.metrics.enabled=true
quarkus.banner.enabled=false
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.tenant.default.enabled=true
onecx.tenant.default.tenant-id=default
onecx.tenant.token.claim.org-id=orgId
quarkus.otel.sdk.disabled=true
tkit.dataimport.enabled=false
tkit.dataimport.configurations.tenant.file=tenant-example-file.json
tkit.dataimport.configurations.tenant.metadata.operation=CLEAN_INSERT
tkit.dataimport.configurations.tenant.enabled=false
tkit.dataimport.configurations.tenant.stop-at-error=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-tenant?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-tenant}
%prod.quarkus.datasource.password=${DB_PWD:onecx-tenant}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.27.1  |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |

| | | 0.34.0

| tkit-quarkus-oidc-health

| | | 2.40.0

| \=== Container [Docker registry](https://github.com/onecx/onecx-tenant-svc/pkgs/container/onecx-tenant-svc) \=== Helm [Helm registry](https://github.com/onecx/onecx-tenant-svc/pkgs/container/charts%2Fonecx-tenant-svc) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: svc template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-tenant-svc" db: enabled: true operator: microservice: spec: description: OneCX Tenant Backend Service name: OneCX Tenant SVC ---- |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.metrics.enabled=true
quarkus.banner.enabled=false
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.tenant.default.enabled=true
onecx.tenant.default.tenant-id=default
onecx.tenant.token.claim.org-id=orgId
quarkus.otel.sdk.disabled=true
tkit.dataimport.enabled=false
tkit.dataimport.configurations.tenant.file=tenant-example-file.json
tkit.dataimport.configurations.tenant.metadata.operation=CLEAN_INSERT
tkit.dataimport.configurations.tenant.enabled=false
tkit.dataimport.configurations.tenant.stop-at-error=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-tenant?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-tenant}
%prod.quarkus.datasource.password=${DB_PWD:onecx-tenant}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.27.1  |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |

| | | 0.34.0

| tkit-quarkus-oidc-health

| | | 2.40.0

| \=== Container [Docker registry](https://github.com/onecx/onecx-tenant-svc/pkgs/container/onecx-tenant-svc) \=== Helm [Helm registry](https://github.com/onecx/onecx-tenant-svc/pkgs/container/charts%2Fonecx-tenant-svc) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: svc template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-tenant-svc" db: enabled: true operator: microservice: spec: description: OneCX Tenant Backend Service name: OneCX Tenant SVC ---- |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.27.1  |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |

| | | 0.34.0

| tkit-quarkus-oidc-health

| | | 2.40.0

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                        | Type    | Default |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------- |
| [onecx.tenant.default.no-claim.enabled](#onecx-tenant-svc%5Fonecx-tenant-default-no-claim-enabled) Enable or disable default no claim tenant Environment variable: ONECX\_TENANT\_DEFAULT\_NO\_CLAIM\_ENABLED | boolean | true    |
| [onecx.tenant.default.no-claim.tenant-id](#onecx-tenant-svc%5Fonecx-tenant-default-no-claim-tenant-id) Default no claim tenant ID Environment variable: ONECX\_TENANT\_DEFAULT\_NO\_CLAIM\_TENANT\_ID         | string  | default |
| [onecx.tenant.default.enabled](#onecx-tenant-svc%5Fonecx-tenant-default-enabled) Enable or disable default tenant Environment variable: ONECX\_TENANT\_DEFAULT\_ENABLED                                       | boolean | true    |
| [onecx.tenant.default.tenant-id](#onecx-tenant-svc%5Fonecx-tenant-default-tenant-id) Default tenant ID Environment variable: ONECX\_TENANT\_DEFAULT\_TENANT\_ID                                               | string  | default |
| [onecx.tenant.token.claim.org-id](#onecx-tenant-svc%5Fonecx-tenant-token-claim-org-id) Token claim ID of the organization ID Environment variable: ONECX\_TENANT\_TOKEN\_CLAIM\_ORG\_ID                       | string  | orgId   |
| [onecx.tenant.resolver.default.enabled](#onecx-tenant-svc%5Fonecx-tenant-resolver-default-enabled) Enable or disable default tenant Environment variable: ONECX\_TENANT\_RESOLVER\_DEFAULT\_ENABLED           | boolean | true    |
| [onecx.tenant.resolver.default.tenant-id](#onecx-tenant-svc%5Fonecx-tenant-resolver-default-tenant-id) Default tenant ID Environment variable: ONECX\_TENANT\_RESOLVER\_DEFAULT\_TENANT\_ID                   | string  | default |

undefined
====================


undefined
====================


undefined
====================
## [](#%5Fonecx%5Ftenant%5Fbff)onecx-tenant-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_tenant_internal.url=http://onecx-tenant-svc:8080
%prod.quarkus.rest-client.onecx_image_internal.url=http://onecx-product-store-svc:8080
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.config-key=onecx_tenant_internal
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.base-package=gen.org.tkit.onecx.tenant.client
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.config-key=onecx_image_internal
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.base-package=gen.org.tkit.onecx.tenant.image.client
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_image_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_tenant_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===th

| | | 2.40.0

|===ttps://github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.1

| quarkus-rest-client-oidc-filter

| | | 3.15.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-tenant-bff/pkgs/container/onecx-tenant-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-tenant-bff/pkgs/container/charts%2Fonecx-tenant-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-tenant-bff" operator: # Permission permission: enabled: true spec: permissions: tenant: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-tn:all, ocx-pm:read \] microservice: spec: description: OneCX Tenant Backend For Frontend name: OneCX Tenant BFF ---- |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_tenant_internal.url=http://onecx-tenant-svc:8080
%prod.quarkus.rest-client.onecx_image_internal.url=http://onecx-product-store-svc:8080
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.config-key=onecx_tenant_internal
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.base-package=gen.org.tkit.onecx.tenant.client
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_tenant_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.config-key=onecx_image_internal
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.base-package=gen.org.tkit.onecx.tenant.image.client
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_tenant_image_internal_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_image_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_tenant_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===th

| | | 2.40.0

|===ttps://github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.1

| quarkus-rest-client-oidc-filter

| | | 3.15.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-tenant-bff/pkgs/container/onecx-tenant-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-tenant-bff/pkgs/container/charts%2Fonecx-tenant-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-tenant-bff" operator: # Permission permission: enabled: true spec: permissions: tenant: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-tn:all, ocx-pm:read \] microservice: spec: description: OneCX Tenant Backend For Frontend name: OneCX Tenant BFF ---- |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===th

| | | 2.40.0

|===ttps://github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.1

| quarkus-rest-client-oidc-filter

| | | 3.15.1

undefined
====================
## [](#%5Fonecx%5Ftenant%5Fui)onecx-tenant-ui

## [](#%5Fonecx%5Ftenant%5Fui%5F2)OneCX Tenant UI

### [](#%5Fwhat%5Fis%5Ftenant%5Fmanagement)What is Tenant Management?

OneCX Tenant Management refers to the systematic process of capturing, organizing, storing, and retrieving Tenants.

### [](#%5Foverview)Overview

OneCX Tenant is a comprehensive solution for managing Tenants for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX Tenant User Interface (UI) of OneCX Tenant Management.

The UI for this Tenant management component is designed to provide an intuitive and user-friendly experience for managing Tenants in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Tenant UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-tenant-ui.git
git clone https://github.com/onecx/tenant-dev.git
```

The repository `onecx-tenant` contains the source code of the OneCX Tenant product. The repository `onecx-tenant-ui` contains the source code of the OneCX Tenant UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-tenant-ui
127.0.0.1       onecx-tenant-bff
127.0.0.1       onecx-tenant-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Tenant Management using a simple configuration file.

```bash
mkdir onecx-tenant
cd onecx-tenant
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Ftenant%5Fui)OneCX Tenant UI

### [](#%5Fwhat%5Fis%5Ftenant%5Fmanagement)What is Tenant Management?

OneCX Tenant Management refers to the systematic process of capturing, organizing, storing, and retrieving Tenants.

### [](#%5Foverview)Overview

OneCX Tenant is a comprehensive solution for managing Tenants for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX Tenant User Interface (UI) of OneCX Tenant Management.

The UI for this Tenant management component is designed to provide an intuitive and user-friendly experience for managing Tenants in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Tenant UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-tenant-ui.git
git clone https://github.com/onecx/tenant-dev.git
```

The repository `onecx-tenant` contains the source code of the OneCX Tenant product. The repository `onecx-tenant-ui` contains the source code of the OneCX Tenant UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-tenant-ui
127.0.0.1       onecx-tenant-bff
127.0.0.1       onecx-tenant-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Tenant Management using a simple configuration file.

```bash
mkdir onecx-tenant
cd onecx-tenant
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

OneCX Test Management
====================
## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Tenant Management Software, please follow our contribution guidelines (tbd).

undefined
====================
This test service simulates machine-to-machine communication and returns client tokens that are used.

![Diagram](_images/diag-f81c08115904a2c8c7cc87c2165bc58ce8854e5d.svg) 

### [](#%5Fusage)Usage

#### [](#%5Flocal%5Ftesting)Local testing

Download the docker image

```shell
docker pull ghcr.io/onecx/onecx-test-oidc:main-native
```

Start docker container

```shell
docker run --rm -p 8080:8080 \
-e TKIT_LOG_JSON_ENABLED=false \
-e QUARKUS_OIDC_CLIENT_AUTH_SERVER_URL=https://keycloak:8080/realms/test \
-e QUARKUS_OIDC_CLIENT_CLIENT_ID=client-id \
-e QUARKUS_OIDC_CLIENT_CREDENTIALS_SECRET=client-secret \
-e QUARKUS_OIDC_AUTH_SERVER_URL=https://keycloak:8080/realms/test \
 ghcr.io/onecx/onecx-test-oidc:main-native
```

Environment variables:

* TKIT\_LOG\_JSON\_ENABLED - determine whether to enable the JSON console formatting extension, which disables "normal" console formatting. [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html#tkit-quarkus-log-json%5Ftkit-log-json-enabled)
* QUARKUS\_OIDC\_CLIENT\_AUTH\_SERVER\_URL - The client base URL of the OpenID Connect (OIDC) server for client. [Link](https://quarkus.io/guides/all-config#quarkus-oidc-client%5Fquarkus-oidc-client-auth-server-url)
* QUARKUS\_OIDC\_CLIENT\_CLIENT\_ID - A unique OIDC client identifier. [Link](https://quarkus.io/guides/all-config#quarkus-oidc-client%5Fquarkus-oidc-client-id)
* QUARKUS\_OIDC\_CLIENT\_CREDENTIALS\_SECRET - The client secret. [Link](https://quarkus.io/guides/all-config#quarkus-oidc-client%5Fquarkus-oidc-client-credentials-secret)
* QUARKUS\_OIDC\_AUTH\_SERVER\_URL - The base URL of the OpenID Connect (OIDC) server. [Link](https://quarkus.io/guides/all-config#quarkus-oidc%5Fquarkus-oidc-auth-server-url)

To get the client token, run the appropriate command

```shell
curl http://localhost:8080/test/oidc/client
```

undefined
====================
## [](#%5Fonecx%5Ftest%5Foidc)onecx-test-oidc

This test service simulates machine-to-machine communication and returns client tokens that are used.

![Diagram](_images/diag-f81c08115904a2c8c7cc87c2165bc58ce8854e5d.svg) 

### [](#%5Fusage)Usage

#### [](#%5Flocal%5Ftesting)Local testing

Download the docker image

```shell
docker pull ghcr.io/onecx/onecx-test-oidc:main-native
```

Start docker container

```shell
docker run --rm -p 8080:8080 \
-e TKIT_LOG_JSON_ENABLED=false \
-e QUARKUS_OIDC_CLIENT_AUTH_SERVER_URL=https://keycloak:8080/realms/test \
-e QUARKUS_OIDC_CLIENT_CLIENT_ID=client-id \
-e QUARKUS_OIDC_CLIENT_CREDENTIALS_SECRET=client-secret \
-e QUARKUS_OIDC_AUTH_SERVER_URL=https://keycloak:8080/realms/test \
 ghcr.io/onecx/onecx-test-oidc:main-native
```

Environment variables:

* TKIT\_LOG\_JSON\_ENABLED - determine whether to enable the JSON console formatting extension, which disables "normal" console formatting. [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html#tkit-quarkus-log-json%5Ftkit-log-json-enabled)
* QUARKUS\_OIDC\_CLIENT\_AUTH\_SERVER\_URL - The client base URL of the OpenID Connect (OIDC) server for client. [Link](https://quarkus.io/guides/all-config#quarkus-oidc-client%5Fquarkus-oidc-client-auth-server-url)
* QUARKUS\_OIDC\_CLIENT\_CLIENT\_ID - A unique OIDC client identifier. [Link](https://quarkus.io/guides/all-config#quarkus-oidc-client%5Fquarkus-oidc-client-id)
* QUARKUS\_OIDC\_CLIENT\_CREDENTIALS\_SECRET - The client secret. [Link](https://quarkus.io/guides/all-config#quarkus-oidc-client%5Fquarkus-oidc-client-credentials-secret)
* QUARKUS\_OIDC\_AUTH\_SERVER\_URL - The base URL of the OpenID Connect (OIDC) server. [Link](https://quarkus.io/guides/all-config#quarkus-oidc%5Fquarkus-oidc-auth-server-url)

To get the client token, run the appropriate command

```shell
curl http://localhost:8080/test/oidc/client
```

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.test.paths=/test/*
quarkus.http.auth.permission.test.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.rest-client.openapi_internal.url=http://localhost:${quarkus.http.port}
%prod.quarkus.rest-client.openapi_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.config-key=openapi_internal
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.base-package=gen.org.tkit.onecx.test.oidc.client
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                    | 3.20.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.1     |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.3.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.3.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.3.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.3.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.3.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.1     |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.3.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.1     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.1     |
| quarkus-rest-client-oidc-filter        | 3.20.1                                                                                         |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.10.0-lts                                                                                     |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-test-oidc/pkgs/container/onecx-test-oidc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-test-oidc/pkgs/container/charts%2Fonecx-test-oidc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: oidc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-test-oidc"
  operator:
    keycloak:
      client:
        enabled: true
```

ests, where objects are saved or updated delete: permission on all DELETE requests product: read: permission on all GET requests and POST search keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-pa:all, ocx-ps:read, ocx-pm:read \]

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.test.paths=/test/*
quarkus.http.auth.permission.test.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.rest-client.openapi_internal.url=http://localhost:${quarkus.http.port}
%prod.quarkus.rest-client.openapi_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.config-key=openapi_internal
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.base-package=gen.org.tkit.onecx.test.oidc.client
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.openapi_internal_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                    | 3.20.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.1     |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.3.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.3.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.3.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.3.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.3.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.1     |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.3.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.1     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.1     |
| quarkus-rest-client-oidc-filter        | 3.20.1                                                                                         |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.10.0-lts                                                                                     |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-test-oidc/pkgs/container/onecx-test-oidc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-test-oidc/pkgs/container/charts%2Fonecx-test-oidc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: oidc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-test-oidc"
  operator:
    keycloak:
      client:
        enabled: true
```

ests, where objects are saved or updated delete: permission on all DELETE requests product: read: permission on all GET requests and POST search keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-pa:all, ocx-ps:read, ocx-pm:read \]

undefined
====================
| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                    | 3.20.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.1     |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                  | 3.20.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.3.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.3.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.3.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.3.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.3.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.3.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.1     |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                   | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 1.3.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.1     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.1     |
| quarkus-rest-client-oidc-filter        | 3.20.1                                                                                         |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc         | 2.10.0-lts                                                                                     |                                                                                                                                                  |            |

undefined
====================
## [](#%5Fonecx%5Ftest%5Foperator)onecx-test-operator

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.kubernetes-client.trust-certs=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.oidc.ui.auth-server-url=${quarkus.oidc.auth-server-url}
quarkus.oidc.ui.client-id=${quarkus.oidc.client-id}
quarkus.oidc.ui.credentials.secret=${quarkus.oidc.credentials.secret}
quarkus.oidc.ui.application-type=web-app
```

### [](#%5Fextensions)Extensions

| Extensions                                                          | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| ------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                                                        | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi                                            | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                                                | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                                             | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-opentelemetry                                               | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus                              | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-openapi-generator                                           | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson                                         | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                                                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                                                 | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                                               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                                                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context                                           | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-hibernate-validator                                         | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-core                                                          | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-oidc                                                        | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                                               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-arc                                                         | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker                                      | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-kubernetes-client                                           | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc                                      | 2.10.0-lts                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter                                     | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \====-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.3                                                                                             | quarkus-kubernetes-client                                                                                                                        |            |
| 3.15.3                                                              | quarkus-rest-client-oidc-filter                                                                    |                                                                                                                                                  |            |
| 3.15.3                                                              | tkit-quarkus-oidc-health                                                                           |                                                                                                                                                  |            |
| 2.40.0                                                              | \===us-oidc-health                                                                                 |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-test-operator/pkgs/container/onecx-test-operator)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-test-operator/pkgs/container/charts%2Fonecx-test-operator)

Default values

src/main/helm/values.yaml

```yaml
app:
  serviceAccount:
    enabled: true
  name: operator
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-test-operator"
  envCustom:
    - name: KUBERNETES_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pm:read ]
```

kcConfig:
         defaultClientScopes: [ ocx-pm:read ]

e: permission to run test
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pm:read ]

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.kubernetes-client.trust-certs=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.oidc.ui.auth-server-url=${quarkus.oidc.auth-server-url}
quarkus.oidc.ui.client-id=${quarkus.oidc.client-id}
quarkus.oidc.ui.credentials.secret=${quarkus.oidc.credentials.secret}
quarkus.oidc.ui.application-type=web-app
```

### [](#%5Fextensions)Extensions

| Extensions                                                          | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| ------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                                                        | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi                                            | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                                                | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                                             | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-opentelemetry                                               | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus                              | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-openapi-generator                                           | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson                                         | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                                                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                                                 | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                                               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                                                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context                                           | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-hibernate-validator                                         | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-core                                                          | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-oidc                                                        | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                                               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-arc                                                         | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker                                      | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-kubernetes-client                                           | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc                                      | 2.10.0-lts                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter                                     | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \====-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.3                                                                                             | quarkus-kubernetes-client                                                                                                                        |            |
| 3.15.3                                                              | quarkus-rest-client-oidc-filter                                                                    |                                                                                                                                                  |            |
| 3.15.3                                                              | tkit-quarkus-oidc-health                                                                           |                                                                                                                                                  |            |
| 2.40.0                                                              | \===us-oidc-health                                                                                 |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-test-operator/pkgs/container/onecx-test-operator)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-test-operator/pkgs/container/charts%2Fonecx-test-operator)

Default values

src/main/helm/values.yaml

```yaml
app:
  serviceAccount:
    enabled: true
  name: operator
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-test-operator"
  envCustom:
    - name: KUBERNETES_NAMESPACE
      valueFrom:
        fieldRef:
          fieldPath: metadata.namespace
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pm:read ]
```

kcConfig:
         defaultClientScopes: [ ocx-pm:read ]

e: permission to run test
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-pm:read ]

undefined
====================
| Extensions                                                          | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| ------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                                                        | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi                                            | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                                                | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                                             | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-opentelemetry                                               | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-micrometer-registry-prometheus                              | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-openapi-generator                                           | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson                                         | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                                                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                                                 | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                                               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                                                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context                                           | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| quarkus-hibernate-validator                                         | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-core                                                          | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-oidc                                                        | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                                               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-arc                                                         | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker                                      | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-kubernetes-client                                           | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| quarkus-openapi-generator-oidc                                      | 2.10.0-lts                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter                                     | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \====-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.3                                                                                             | quarkus-kubernetes-client                                                                                                                        |            |
| 3.15.3                                                              | quarkus-rest-client-oidc-filter                                                                    |                                                                                                                                                  |            |
| 3.15.3                                                              | tkit-quarkus-oidc-health                                                                           |                                                                                                                                                  |            |
| 2.40.0                                                              | \===us-oidc-health                                                                                 |                                                                                                                                                  |            |

OneCX Theme Management
====================
__Table 1\. Theme UI__
| ![overview 1](_images/overview_1.png) | ![overview 2](_images/overview_2.png) |
| ------------------------------------- | ------------------------------------- |

## [](#%5Foverview)Overview

The OneCX Theme Management feature allows organizations to customize the visual appearance of their portal to align with their brand identity and user preferences. This feature provides a flexible and intuitive way to manage themes, ensuring a consistent and engaging user experience across the platform. Key Features include:

**Customizable Themes**:

* Brand Alignment: Enables the customization of colors, fonts, and other visual elements to match the organization' branding guidelines.
* Dynamic Updates: Themes can be updated dynamically, ensuring that changes are reflected in real-time without disrupting the user experience.

**User Preferences**:

* Personalization Options: Allows workspaces for of dedicated users to select their preferred themes from a set of available options, enhancing their personal experience.

**Administrative Controls**:

* Centralized Management: Administrators can manage themes centrally, ensuring consistency across different workspaces and user groups.
* Access Control: Provides the ability to control who can create, edit, and apply themes, maintaining security and governance.

**Multi-Tenancy Support**:

* Tenant-Specific Themes: Supports multi-tenancy, allowing different themes to be applied for each tenant. This ensures that each tenant can have a unique visual identity that aligns with their specific branding and preferences.

**Responsive Design**:

* Device Compatibility: Ensures that themes are responsive and look great on all devices, including desktops, tablets, and smartphones.
* Accessibility: Supports accessibility standards, making sure that the portal is usable by all users, including those with disabilities.

## [](#%5Fbenefits)Benefits

* Enhanced User Experience: Customizable themes create a visually appealing and engaging user interface, improving overall satisfaction.
* Brand Consistency: Ensures that the portal reflects the organization’s brand identity, reinforcing brand recognition and trust.
* Flexibility: Offers a high degree of flexibility, allowing both administrators and users to tailor the visual appearance to their needs.
* Improved Accessibility: Responsive and accessible design ensures that the portal is usable by a wide range of users, enhancing inclusivity.
* Tenant Customization: Multi-tenancy support allows each tenant to have a distinct look and feel, catering to their unique requirements and enhancing their user experience.

## [](#%5Fui%5Fexamples)UI Examples

![theme variables](_images/theme_variables.png) 

Figure 1\. Theme variables

![theme designer](_images/theme_designer.png) 

Figure 2\. Theme designer

## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Theme Management Software, please follow our contribution guidelines (tbd).

## [](#%5Fissue%5Ftracking)Issue Tracking

All OneCX Theme issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Fstructure%5Foverview)Structure Overview

OneCX Theme Software is a comprehensive solution for managing Themes in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of the OneCX Theme Software are as follows:

1. Theme User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the Theme system. Users can perform actions such as searching and editing of Themes.
2. Theme Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Theme Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of Themes. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Theme Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Theme UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-theme/current/onecx-theme-ui/index.html)
* [OneCX Theme BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-theme/current/onecx-theme-bff/index.html)
* [OneCX Theme SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-theme/current/onecx-theme-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Ftheme%5Fsvc)onecx-theme-svc

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.native.resources.includes=import/template.json
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
tkit.dataimport.enabled=false
tkit.dataimport.configurations.template.file=import/template.json
tkit.dataimport.configurations.template.metadata.tenants=default
tkit.dataimport.configurations.template.class-path=true
tkit.dataimport.configurations.template.enabled=false
tkit.dataimport.configurations.template.stop-at-error=true
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-theme?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-theme}
%prod.quarkus.datasource.password=${DB_PWD:onecx-theme}
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 2.3.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 4.4.0   |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |
| quarkus-smallrye-context-propagation   | 3.27.1                                                                                             |                                                                                                                                                  |         |
| \===ion                                | 3.20.2.1                                                                                           |                                                                                                                                                  |         |
| \===tion                               | 3.15.3                                                                                             |                                                                                                                                                  |         |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |         |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-theme-svc/pkgs/container/onecx-theme-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-theme-svc/pkgs/container/charts%2Fonecx-theme-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-theme-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Theme Backend Service
        name: OneCX Theme SVC
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.native.resources.includes=import/template.json
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
tkit.dataimport.enabled=false
tkit.dataimport.configurations.template.file=import/template.json
tkit.dataimport.configurations.template.metadata.tenants=default
tkit.dataimport.configurations.template.class-path=true
tkit.dataimport.configurations.template.enabled=false
tkit.dataimport.configurations.template.stop-at-error=true
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-theme?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-theme}
%prod.quarkus.datasource.password=${DB_PWD:onecx-theme}
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 2.3.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 4.4.0   |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |
| quarkus-smallrye-context-propagation   | 3.27.1                                                                                             |                                                                                                                                                  |         |
| \===ion                                | 3.20.2.1                                                                                           |                                                                                                                                                  |         |
| \===tion                               | 3.15.3                                                                                             |                                                                                                                                                  |         |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |         |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-theme-svc/pkgs/container/onecx-theme-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-theme-svc/pkgs/container/charts%2Fonecx-theme-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-theme-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Theme Backend Service
        name: OneCX Theme SVC
```

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |         |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 2.3.0   |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0   |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 4.4.0   |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 4.4.0   |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 4.4.0   |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0   |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0   |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0   |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0   |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.27.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1  |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1  |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.27.1  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |         |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.27.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1  |
| quarkus-smallrye-context-propagation   | 3.27.1                                                                                             |                                                                                                                                                  |         |
| \===ion                                | 3.20.2.1                                                                                           |                                                                                                                                                  |         |
| \===tion                               | 3.15.3                                                                                             |                                                                                                                                                  |         |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |         |

undefined
====================


undefined
====================
## [](#%5Fonecx%5Ftheme%5Fbff)onecx-theme-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/images/*
%prod.quarkus.rest-client.onecx_theme_svc.url=http://onecx-theme-svc:8080
%prod.quarkus.rest-client.onecx_image_internal.url=http://onecx-theme-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.config-key=onecx_theme_svc
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.base-package=gen.org.tkit.onecx.theme.client
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.config-key=onecx_theme_svc
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.base-package=gen.org.tkit.onecx.theme.exim.client
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.config-key=onecx_image_internal
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.base-package=gen.org.tkit.onecx.theme.bff.clients
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.config-key=onecx_theme_svc
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.base-package=gen.org.tkit.onecx.theme.bff.clients
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.enable-security-generation=false
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.rest-client.onecx_theme_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_image_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===th

| | | 2.40.0

| \=== Container [Docker registry](https://github.com/onecx/onecx-theme-bff/pkgs/container/onecx-theme-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-theme-bff/pkgs/container/charts%2Fonecx-theme-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-theme-bff" operator: # Permission permission: enabled: true spec: permissions: themes: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-th:all, ocx-pm:read \] microservice: spec: description: OneCX Theme Backend For Frontend name: OneCX Theme BFF ---- |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/images/*
%prod.quarkus.rest-client.onecx_theme_svc.url=http://onecx-theme-svc:8080
%prod.quarkus.rest-client.onecx_image_internal.url=http://onecx-theme-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.config-key=onecx_theme_svc
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.base-package=gen.org.tkit.onecx.theme.client
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.config-key=onecx_theme_svc
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.base-package=gen.org.tkit.onecx.theme.exim.client
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_theme_svc_exim_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.config-key=onecx_image_internal
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.base-package=gen.org.tkit.onecx.theme.bff.clients
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.config-key=onecx_theme_svc
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.base-package=gen.org.tkit.onecx.theme.bff.clients
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_theme_icon_internal_yaml.enable-security-generation=false
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.rest-client.onecx_theme_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_image_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===th

| | | 2.40.0

| \=== Container [Docker registry](https://github.com/onecx/onecx-theme-bff/pkgs/container/onecx-theme-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-theme-bff/pkgs/container/charts%2Fonecx-theme-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-theme-bff" operator: # Permission permission: enabled: true spec: permissions: themes: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-th:all, ocx-pm:read \] microservice: spec: description: OneCX Theme Backend For Frontend name: OneCX Theme BFF ---- |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===th

| | | 2.40.0

undefined
====================
## [](#%5Fonecx%5Ftheme%5Fui)onecx-theme-ui

## [](#%5Fonecx%5Ftheme%5Fui%5F2)OneCX Theme UI

### [](#%5Fwhat%5Fis%5Ftheme%5Fmanagement)What is Theme Management?

OneCX Theme Management refers to the systematic process of capturing, organizing, storing, and retrieving Theme items.

### [](#%5Foverview)Overview

OneCX Theme is a comprehensive solution for managing Theme items for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX Theme User Interface (UI) of OneCX Theme Management.

The UI for this Theme management component is designed to provide an intuitive and user-friendly experience for managing Theme items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Theme UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-Theme-ui.git
git clone https://github.com/onecx/Theme-dev.git
```

The repository `onecx-Theme` contains the source code of the OneCX Theme product. The repository `onecx-Theme-ui` contains the source code of the OneCX Theme UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-Theme-ui
127.0.0.1       onecx-Theme-bff
127.0.0.1       onecx-Theme-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Theme Management using a simple configuration file.

```bash
mkdir onecx-Theme
cd onecx-Theme
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Ftheme%5Fui)OneCX Theme UI

### [](#%5Fwhat%5Fis%5Ftheme%5Fmanagement)What is Theme Management?

OneCX Theme Management refers to the systematic process of capturing, organizing, storing, and retrieving Theme items.

### [](#%5Foverview)Overview

OneCX Theme is a comprehensive solution for managing Theme items for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX Theme User Interface (UI) of OneCX Theme Management.

The UI for this Theme management component is designed to provide an intuitive and user-friendly experience for managing Theme items in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Theme UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-Theme-ui.git
git clone https://github.com/onecx/Theme-dev.git
```

The repository `onecx-Theme` contains the source code of the OneCX Theme product. The repository `onecx-Theme-ui` contains the source code of the OneCX Theme UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-Theme-ui
127.0.0.1       onecx-Theme-bff
127.0.0.1       onecx-Theme-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Theme Management using a simple configuration file.

```bash
mkdir onecx-Theme
cd onecx-Theme
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

OneCX User Profile
====================
![overview](_images/overview.png) 

Figure 1\. User Profile UI

## [](#%5Foverview)Overview

A **user profile** is created when the user logs in for the first time in the system. This profile allows users to customize their experience and manage their settings. Key features include:

**Profile Management**

* View Profile: Display stored information.
* Edit Profile: Allow changes to profile picture, bio, language, timezone, and menu orientation. Note: Name, email, and password are not editable.

**Customization Settings**

* Menu Orientation: Choose between horizontal and vertical navigation menus.
* Language: Select preferred language.
* Timezone: Set the timezone.
* Avatar: Upload a profile picture. Privacy features & Password Change is not supported in the initial version.

**Admin Features**

* Profile Access: Admins can view and edit user profiles to assist with support issues.
* Activity Log: Track changes made by admins for security and auditing purposes.

**Permissions & Roles**

* View Permissions: Users can see their permissions and roles within the system.

## [](#%5Fbenefits)Benefits

* Better User Experience: Provides a personalized and user-friendly interface for managing profiles, enhancing overall satisfaction.
* Efficient Management: Streamlines the process of managing user profiles, saving time and resources for administrators.

## [](#%5Fui%5Fexamples)UI Examples

![language timezone](_images/language_timezone.png) 

Figure 2\. Language and timezone settings

![layout theme](_images/layout_theme.png) 

Figure 3\. Layout and theme settings

![permissions](_images/permissions.png) 

Figure 4\. User permissions

### [](#%5Fuser%5Fprofile%5Fadministration)User Profile Administration

![users](_images/users.png) 

Figure 5\. Users management

![user details](_images/user_details.png) 

Figure 6\. User configuration

## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX User Profile Software, please follow our contribution guidelines (tbd).

## [](#%5Fissue%5Ftracking)Issue Tracking

All OneCX User Profile issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Fstructure%5Foverview)Structure Overview

OneCX User Profile Software is a comprehensive solution for managing User Profiles in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of the OneCX User Profile Software are as follows:

1. User Profile User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the User Profile system. Users can perform actions such as searching and editing of User Profiles.
2. User Profile Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. User Profile Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of User Profiles. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX User Profile Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX User Profile UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-user-profile/current/onecx-user-profile-ui/index.html)
* [OneCX User Profile BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-user-profile/current/onecx-user-profile-bff/index.html)
* [OneCX User Profile SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-user-profile/current/onecx-user-profile-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Fuser%5Fprofile%5Fsvc)onecx-user-profile-svc

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                      | Type   | Default       |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ------------- |
| [onecx.user-profile.claims.display-name](#onecx-user-profile-svc%5Fonecx-user-profile-claims-display-name) User profile display name token claim Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_DISPLAY\_NAME          | string | name          |
| [onecx.user-profile.claims.email](#onecx-user-profile-svc%5Fonecx-user-profile-claims-email) User profile email token claim Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_EMAIL                                       | string | email         |
| [onecx.user-profile.claims.first-name](#onecx-user-profile-svc%5Fonecx-user-profile-claims-first-name) User profile first name token claim Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_FIRST\_NAME                  | string | given\_name   |
| [onecx.user-profile.claims.last-name](#onecx-user-profile-svc%5Fonecx-user-profile-claims-last-name) User profile last name token claim Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_LAST\_NAME                      | string | family\_name  |
| [onecx.user-profile.claims.organization-id](#onecx-user-profile-svc%5Fonecx-user-profile-claims-organization-id) User profile organization token claim Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_ORGANIZATION\_ID | string | orgId         |
| [onecx.user-profile.claims.locale](#onecx-user-profile-svc%5Fonecx-user-profile-claims-locale) User profile locale Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_LOCALE                                               | string |               |
| [onecx.user-profile.claims.timezone](#onecx-user-profile-svc%5Fonecx-user-profile-claims-timezone) User profile timezone Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_TIMEZONE                                       | string |               |
| [onecx.user-profile.claims.menu-mode](#onecx-user-profile-svc%5Fonecx-user-profile-claims-menu-mode) User profile menu Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_MENU\_MODE                                       | string |               |
| [onecx.user-profile.settings.locale](#onecx-user-profile-svc%5Fonecx-user-profile-settings-locale) User profile locale Environment variable: ONECX\_USER\_PROFILE\_SETTINGS\_LOCALE                                         | string | en            |
| [onecx.user-profile.settings.timezone](#onecx-user-profile-svc%5Fonecx-user-profile-settings-timezone) User profile timezone Environment variable: ONECX\_USER\_PROFILE\_SETTINGS\_TIMEZONE                                 | string | Europe/Berlin |
| [onecx.user-profile.settings.menu-mode](#onecx-user-profile-svc%5Fonecx-user-profile-settings-menu-mode) User profile menu Environment variable: ONECX\_USER\_PROFILE\_SETTINGS\_MENU\_MODE                                 | string | STATIC        |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.banner.enabled=false
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-user-profile?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-user-profile}
%prod.quarkus.datasource.password=${DB_PWD:onecx-user-profile}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| \===rity                               | 0.34.0                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-user-profile-svc/pkgs/container/onecx-user-profile-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-user-profile-svc/pkgs/container/charts%2Fonecx-user-profile-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-user-profile-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX User Profile Backend Service
        name: OneCX User Profile SVC
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.banner.enabled=false
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-user-profile?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-user-profile}
%prod.quarkus.datasource.password=${DB_PWD:onecx-user-profile}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| \===rity                               | 0.34.0                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-user-profile-svc/pkgs/container/onecx-user-profile-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-user-profile-svc/pkgs/container/charts%2Fonecx-user-profile-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-user-profile-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX User Profile Backend Service
        name: OneCX User Profile SVC
```

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| \===rity                               | 0.34.0                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                      | Type   | Default       |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ------------- |
| [onecx.user-profile.claims.display-name](#onecx-user-profile-svc%5Fonecx-user-profile-claims-display-name) User profile display name token claim Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_DISPLAY\_NAME          | string | name          |
| [onecx.user-profile.claims.email](#onecx-user-profile-svc%5Fonecx-user-profile-claims-email) User profile email token claim Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_EMAIL                                       | string | email         |
| [onecx.user-profile.claims.first-name](#onecx-user-profile-svc%5Fonecx-user-profile-claims-first-name) User profile first name token claim Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_FIRST\_NAME                  | string | given\_name   |
| [onecx.user-profile.claims.last-name](#onecx-user-profile-svc%5Fonecx-user-profile-claims-last-name) User profile last name token claim Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_LAST\_NAME                      | string | family\_name  |
| [onecx.user-profile.claims.organization-id](#onecx-user-profile-svc%5Fonecx-user-profile-claims-organization-id) User profile organization token claim Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_ORGANIZATION\_ID | string | orgId         |
| [onecx.user-profile.claims.locale](#onecx-user-profile-svc%5Fonecx-user-profile-claims-locale) User profile locale Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_LOCALE                                               | string |               |
| [onecx.user-profile.claims.timezone](#onecx-user-profile-svc%5Fonecx-user-profile-claims-timezone) User profile timezone Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_TIMEZONE                                       | string |               |
| [onecx.user-profile.claims.menu-mode](#onecx-user-profile-svc%5Fonecx-user-profile-claims-menu-mode) User profile menu Environment variable: ONECX\_USER\_PROFILE\_CLAIMS\_MENU\_MODE                                       | string |               |
| [onecx.user-profile.settings.locale](#onecx-user-profile-svc%5Fonecx-user-profile-settings-locale) User profile locale Environment variable: ONECX\_USER\_PROFILE\_SETTINGS\_LOCALE                                         | string | en            |
| [onecx.user-profile.settings.timezone](#onecx-user-profile-svc%5Fonecx-user-profile-settings-timezone) User profile timezone Environment variable: ONECX\_USER\_PROFILE\_SETTINGS\_TIMEZONE                                 | string | Europe/Berlin |
| [onecx.user-profile.settings.menu-mode](#onecx-user-profile-svc%5Fonecx-user-profile-settings-menu-mode) User profile menu Environment variable: ONECX\_USER\_PROFILE\_SETTINGS\_MENU\_MODE                                 | string | STATIC        |

undefined
====================


undefined
====================
## [](#%5Fonecx%5Fuser%5Fprofile%5Favatar%5Fsvc)onecx-user-profile-avatar-svc

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.banner.enabled=false
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
onecx.validator.values.mapping.avatar-image-size=avatar-image-size
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-user-profile-avatar?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-user-profile-avatar}
%prod.quarkus.datasource.password=${DB_PWD:onecx-user-profile-avatar}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| onecx-validator                        | 1.7.0                                                                                              |                                                                                                                                                  |          |
| \===us-oidc-health                     | 2.40.0                                                                                             |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-user-profile-avatar-svc/pkgs/container/onecx-user-profile-avatar-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-user-profile-avatar-svc/pkgs/container/charts%2Fonecx-user-profile-avatar-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: avatar-svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-user-profile-avatar-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX User Profile Avatar Backend Service
        name: OneCX User Profile Avatar SVC
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.banner.enabled=false
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.metrics.enabled=true
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
onecx.validator.values.mapping.avatar-image-size=avatar-image-size
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-user-profile-avatar?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-user-profile-avatar}
%prod.quarkus.datasource.password=${DB_PWD:onecx-user-profile-avatar}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| onecx-validator                        | 1.7.0                                                                                              |                                                                                                                                                  |          |
| \===us-oidc-health                     | 2.40.0                                                                                             |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-user-profile-avatar-svc/pkgs/container/onecx-user-profile-avatar-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-user-profile-avatar-svc/pkgs/container/charts%2Fonecx-user-profile-avatar-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: avatar-svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-user-profile-avatar-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX User Profile Avatar Backend Service
        name: OneCX User Profile Avatar SVC
```

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| onecx-validator                        | 1.7.0                                                                                              |                                                                                                                                                  |          |
| \===us-oidc-health                     | 2.40.0                                                                                             |                                                                                                                                                  |          |

undefined
====================


undefined
====================
## [](#%5Fonecx%5Fuser%5Fprofile%5Fbff)onecx-user-profile-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/me/avatar
quarkus.http.filter.images.methods=GET
%prod.quarkus.rest-client.onecx_user_profile_svc.url=http://onecx-user-profile-svc:8080
%prod.quarkus.rest-client.onecx_image_svc.url=http://onecx-user-profile-avatar-svc:8080
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.rest-client.onecx_user_profile_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_image_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.config-key=onecx_user_profile_svc
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.base-package=gen.org.tkit.onecx.user.profile.bff.clients
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.config-key=onecx_image_svc
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.base-package=gen.org.tkit.onecx.image.bff.clients
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                                                                                                                                 | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| ------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                                                                                                                               | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi                                                                                                                   | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                                                                                                                       | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                                                                                                                    | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator                                                                                                                  | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson                                                                                                                | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                                                                                                                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                                                                                                                        | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                                                                                                                          | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| quarkus-hibernate-validator                                                                                                                | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| tkit-quarkus-rest-context                                                                                                                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| onecx-permissions                                                                                                                          | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                                                                                                                               | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                                                                                                                                 | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus                                                                                                     | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                                                                                                                      | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                                                                                                                                | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker                                                                                                             | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter                                                                                                            | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                                                                                                                     | 2.40.0                                                                                             |                                                                                                                                                  |            |
| \===ttps://github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.1                                                                                             | quarkus-rest-client-oidc-filter                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-user-profile-bff/pkgs/container/onecx-user-profile-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-user-profile-bff/pkgs/container/charts%2Fonecx-user-profile-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-user-profile-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          userProfile:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
            adminRead: permission on all admin related GET requests and POST search
            adminWrite: permission on all admin related PUT, POST, PATCH requests, where objects are saved or updated
            adminDelete: permission on all admin related DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-up:all, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX User Profile Backend For Frontend
        name: OneCX User Profile BFF
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/me/avatar
quarkus.http.filter.images.methods=GET
%prod.quarkus.rest-client.onecx_user_profile_svc.url=http://onecx-user-profile-svc:8080
%prod.quarkus.rest-client.onecx_image_svc.url=http://onecx-user-profile-avatar-svc:8080
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.rest-client.onecx_user_profile_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_image_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.config-key=onecx_user_profile_svc
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.base-package=gen.org.tkit.onecx.user.profile.bff.clients
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_userprofile_internal_openapi_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.config-key=onecx_image_svc
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.base-package=gen.org.tkit.onecx.image.bff.clients
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_openapi_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                                                                                                                                 | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| ------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                                                                                                                               | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi                                                                                                                   | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                                                                                                                       | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                                                                                                                    | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator                                                                                                                  | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson                                                                                                                | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                                                                                                                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                                                                                                                        | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                                                                                                                          | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| quarkus-hibernate-validator                                                                                                                | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| tkit-quarkus-rest-context                                                                                                                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| onecx-permissions                                                                                                                          | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                                                                                                                               | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                                                                                                                                 | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus                                                                                                     | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                                                                                                                      | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                                                                                                                                | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker                                                                                                             | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter                                                                                                            | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                                                                                                                     | 2.40.0                                                                                             |                                                                                                                                                  |            |
| \===ttps://github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.1                                                                                             | quarkus-rest-client-oidc-filter                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-user-profile-bff/pkgs/container/onecx-user-profile-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-user-profile-bff/pkgs/container/charts%2Fonecx-user-profile-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-user-profile-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          userProfile:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
            adminRead: permission on all admin related GET requests and POST search
            adminWrite: permission on all admin related PUT, POST, PATCH requests, where objects are saved or updated
            adminDelete: permission on all admin related DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-up:all, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX User Profile Backend For Frontend
        name: OneCX User Profile BFF
```

undefined
====================
| Extensions                                                                                                                                 | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| ------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                                                                                                                               | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi                                                                                                                   | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                                                                                                                       | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                                                                                                                    | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator                                                                                                                  | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson                                                                                                                | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                                                                                                                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                                                                                                                        | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                                                                                                                          | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| quarkus-hibernate-validator                                                                                                                | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| tkit-quarkus-rest-context                                                                                                                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| onecx-permissions                                                                                                                          | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                                                                                                                               | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| tkit-quarkus-security                                                                                                                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| onecx-core                                                                                                                                 | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus                                                                                                     | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                                                                                                                      | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                                                                                                                                | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker                                                                                                             | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter                                                                                                            | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                                                                                                                     | 2.40.0                                                                                             |                                                                                                                                                  |            |
| \===ttps://github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.1                                                                                             | quarkus-rest-client-oidc-filter                                                                                                                  |            |

undefined
====================
## [](#%5Fonecx%5Fuser%5Fprofile%5Fui)onecx-user-profile-ui

## [](#%5Fonecx%5Fuser%5Fprofile%5Fui%5F2)OneCX User Profile UI

![OneCX User Profile UI](https://github.com/onecx-apps/onecx-user-profile-ui/actions/workflows/build.yml/badge.svg)

### [](#%5Fwhat%5Fis%5Fuser%5Fprofile)What is User Profile?

OneCX User Profile refers to the systematic process of capturing, organizing, storing, and retrieving User Profiles.

### [](#%5Foverview)Overview

OneCX User Profile is a comprehensive solution for managing User Profiles for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX User Profile User Interface (UI) of OneCX User Profile.

The UI for this User Profile component is designed to provide an intuitive and user-friendly experience for managing User Profiles in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX User Profile UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-user-profile-ui.git
git clone https://github.com/onecx/user-profile-dev.git
```

The repository `onecx-user-profile` contains the source code of the OneCX User Profile product. The repository `onecx-user-profile-ui` contains the source code of the OneCX User Profile UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-user-profile-ui
127.0.0.1       onecx-user-profile-bff
127.0.0.1       onecx-user-profile-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite Linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX User Profile using a simple configuration file.

```bash
mkdir onecx-user-profile
cd onecx-user-profile
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fuser%5Fprofile%5Fui)OneCX User Profile UI

![OneCX User Profile UI](https://github.com/onecx-apps/onecx-user-profile-ui/actions/workflows/build.yml/badge.svg)

### [](#%5Fwhat%5Fis%5Fuser%5Fprofile)What is User Profile?

OneCX User Profile refers to the systematic process of capturing, organizing, storing, and retrieving User Profiles.

### [](#%5Foverview)Overview

OneCX User Profile is a comprehensive solution for managing User Profiles for OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX User Profile User Interface (UI) of OneCX User Profile.

The UI for this User Profile component is designed to provide an intuitive and user-friendly experience for managing User Profiles in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX User Profile UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-user-profile-ui.git
git clone https://github.com/onecx/user-profile-dev.git
```

The repository `onecx-user-profile` contains the source code of the OneCX User Profile product. The repository `onecx-user-profile-ui` contains the source code of the OneCX User Profile UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-user-profile-ui
127.0.0.1       onecx-user-profile-bff
127.0.0.1       onecx-user-profile-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite Linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX User Profile using a simple configuration file.

```bash
mkdir onecx-user-profile
cd onecx-user-profile
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

OneCX Welcome Management
====================
![overview](_images/overview.png) 

Figure 1\. Welcome UI

## [](#%5Foverview)Overview

The welcome dialogue feature is designed to enhance the user experience by providing a personalized and engaging entry point to the portal. It serves multiple purposes, including displaying important announcements, greeting the user, and showcasing customized images to make the starting page visually appealing. Key features include:

**Announcements Display**:

* Integration with Announcements Management Tool: The welcome dialogue pulls in the latest announcements or news from an integrated announcements management tool.
* Real-Time Updates: Ensures that users are always informed about the most recent and relevant information.

**Personalized Greeting**:

* User-Specific Welcome Message: Greets the logged-in user by name, creating a personalized experience.
* Dynamic Content: The greeting can include the current date, time, and other relevant user-specific information.

**Customized Images**:

* Visual Appeal: Displays attractive images that can be customized for each workspace.
* Administrative Control: Administrators have the ability to maintain and update these images, ensuring they are relevant and up-to-date.
* Workspace-Specific: Different workspaces can have unique sets of images, tailored to their specific themes or needs.

## [](#%5Fbenefits)Benefits

* Enhanced User Engagement: The personalized greeting and dynamic content make users feel welcomed and valued.
* Improved Communication: The announcements feature ensures that important information is effectively communicated to all users.
* Aesthetic Appeal: Customized images add a visual element that makes the portal more inviting and engaging.

## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Welcome Management Software, please follow our contribution guidelines (tbd).

## [](#%5Fissue%5Ftracking)Issue Tracking

All OneCX Welcome issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Fstructure%5Foverview)Structure Overview

OneCX Welcome Software is a comprehensive solution for managing Welcome screens in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of the OneCX Welcome Software are as follows:

1. Welcome User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the Welcome system. Users can perform actions such as searching and editing of Welcome screens.
2. Welcome Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Welcome Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of Welcome screens. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Welcome Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Welcome UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-welcome/current/onecx-welcome-ui/index.html)
* [OneCX Welcome BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-welcome/current/onecx-welcome-bff/index.html)
* [OneCX Welcome SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-welcome/current/onecx-permission-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Fwelcome%5Fsvc)onecx-welcome-svc

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.banner.enabled=false
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
tkit.log.json.enabled=true
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-welcome?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-welcome}
%prod.quarkus.datasource.password=${DB_PWD:onecx-welcome}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| \===rity                               | 0.34.0                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-welcome-svc/pkgs/container/onecx-welcome-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-welcome-svc/pkgs/container/charts%2Fonecx-welcome-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-welcome-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Welcome Backend Service
        name: OneCX Welcome SVC
```

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.banner.enabled=false
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
tkit.log.json.enabled=true
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-welcome?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-welcome}
%prod.quarkus.datasource.password=${DB_PWD:onecx-welcome}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| \===rity                               | 0.34.0                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-welcome-svc/pkgs/container/onecx-welcome-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-welcome-svc/pkgs/container/charts%2Fonecx-welcome-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-welcome-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Welcome Backend Service
        name: OneCX Welcome SVC
```

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| \===rity                               | 0.34.0                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

undefined
====================
## [](#%5Fonecx%5Fwelcome%5Fbff)onecx-welcome-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
quarkus.http.filter.images.order=10
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/images/*
quarkus.http.filter.images.methods=GET
quarkus.http.filter.imageInfo.order=11
quarkus.http.filter.imageInfo.header."Cache-Control"=none
quarkus.http.filter.imageInfo.matches=/info*
%prod.quarkus.rest-client.onecx_welcome_internal.url=http://onecx-welcome-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.config-key=onecx_welcome_internal
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.base-package=gen.org.tkit.onecx.welcome.client
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.config-key=onecx_welcome_internal
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.base-package=gen.org.tkit.onecx.welcome.exim.client
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_welcome_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===0

| quarkus-rest-client-oidc-filter

| | | 3.20.0

|===//github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.3

| tkit-quarkus-oidc-health

| | | 2.40.0

|===https://quarkus.io/guides/container-image\[Link\] | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-welcome-bff/pkgs/container/onecx-welcome-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-welcome-bff/pkgs/container/charts%2Fonecx-welcome-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff image: repository: "onecx/onecx-welcome-bff" operator: # Permission permission: enabled: true spec: permissions: image: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-wc:all, ocx-wc:read, ocx-wc:write, ocx-pm:read, ocx-an:read \] microservice: spec: description: OneCX Welcome Backend For Frontend name: OneCX Welcome BFF ----  description: OneCX Welcome Backend For Frontend name: OneCX Welcome BFF ---- ClientScopes: \[ ocx-wc:all, ocx-pm:read, ocx-an:read \] ---- |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
quarkus.http.filter.images.order=10
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/images/*
quarkus.http.filter.images.methods=GET
quarkus.http.filter.imageInfo.order=11
quarkus.http.filter.imageInfo.header."Cache-Control"=none
quarkus.http.filter.imageInfo.matches=/info*
%prod.quarkus.rest-client.onecx_welcome_internal.url=http://onecx-welcome-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.config-key=onecx_welcome_internal
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.base-package=gen.org.tkit.onecx.welcome.client
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_welcome_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.config-key=onecx_welcome_internal
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.base-package=gen.org.tkit.onecx.welcome.exim.client
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_welcome_exim_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_welcome_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${quarkus.application.name}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===0

| quarkus-rest-client-oidc-filter

| | | 3.20.0

|===//github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.3

| tkit-quarkus-oidc-health

| | | 2.40.0

|===https://quarkus.io/guides/container-image\[Link\] | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-welcome-bff/pkgs/container/onecx-welcome-bff) \=== Helm [Helm registry](https://github.com/onecx/onecx-welcome-bff/pkgs/container/charts%2Fonecx-welcome-bff) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: bff image: repository: "onecx/onecx-welcome-bff" operator: # Permission permission: enabled: true spec: permissions: image: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-wc:all, ocx-wc:read, ocx-wc:write, ocx-pm:read, ocx-an:read \] microservice: spec: description: OneCX Welcome Backend For Frontend name: OneCX Welcome BFF ----  description: OneCX Welcome Backend For Frontend name: OneCX Welcome BFF ---- ClientScopes: \[ ocx-wc:all, ocx-pm:read, ocx-an:read \] ---- |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/2.3.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 2.3.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.6.0      |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

|===0

| quarkus-rest-client-oidc-filter

| | | 3.20.0

|===//github.com/quarkusio/quarkusio.github.io/blob/develop/\_generated-doc/latest/config/quarkus-container-image-docker.adoc\[Link\] | 3.15.3

| tkit-quarkus-oidc-health

| | | 2.40.0

|===https://quarkus.io/guides/container-image\[Link\] | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)| 3.15.1

undefined
====================
## [](#%5Fonecx%5Fwelcome%5Fui)onecx-welcome-ui

## [](#%5Fonecx%5Fwelcome%5Fui%5F2)OneCX Welcome UI

### [](#%5Fwhat%5Fis%5Fwelcome%5Fmanagement)What is Welcome Management?

OneCX Welcome Management refers to the systematic process of setting up a Welcome screen or landing page for the user and managing the pictures to be shown there.

### [](#%5Foverview)Overview

OneCX Welcome is a comprehensive solution for managing Welcome screens of OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX Welcome User Interface (UI) of OneCX Welcome Management.

The UI for this Welcome Management component is designed to provide an intuitive and user-friendly experience for managing Welcome screens in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Welcome UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-welcome-ui.git
git clone https://github.com/onecx/welcome-dev.git
```

The repository `onecx-welcome` contains the source code of the OneCX Welcome product. The repository `onecx-welcome-ui` contains the source code of the OneCX Welcome UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-welcome-ui
127.0.0.1       onecx-welcome-bff
127.0.0.1       onecx-welcome-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Welcome Management using a simple configuration file.

```bash
mkdir onecx-welcome
cd onecx-welcome
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fwelcome%5Fui)OneCX Welcome UI

### [](#%5Fwhat%5Fis%5Fwelcome%5Fmanagement)What is Welcome Management?

OneCX Welcome Management refers to the systematic process of setting up a Welcome screen or landing page for the user and managing the pictures to be shown there.

### [](#%5Foverview)Overview

OneCX Welcome is a comprehensive solution for managing Welcome screens of OneCX products in a user-friendly and efficient manner. In this document we are only referring to the OneCX Welcome User Interface (UI) of OneCX Welcome Management.

The UI for this Welcome Management component is designed to provide an intuitive and user-friendly experience for managing Welcome screens in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Welcome UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-welcome-ui.git
git clone https://github.com/onecx/welcome-dev.git
```

The repository `onecx-welcome` contains the source code of the OneCX Welcome product. The repository `onecx-welcome-ui` contains the source code of the OneCX Welcome UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-welcome-ui
127.0.0.1       onecx-welcome-bff
127.0.0.1       onecx-welcome-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Welcome Management using a simple configuration file.

```bash
mkdir onecx-welcome
cd onecx-welcome
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

OneCX Workspace Management
====================
![overview](_images/overview.png) 

Figure 1\. Workspace UI

## [](#overview)Overview

The OneCX Workspace Management Solution is designed to create and manage workspaces tailored to the specific needs of different personas or user roles within an organization. This ensures that users have access to the relevant tools and services they need to perform their tasks efficiently and securely. Key features include:

**Persona-Based Workspace Creation**:

* **Tailored Workspaces**: Facilitates the creation of workspaces that are customized for different user roles or personas, ensuring that each user has access to the tools and services most relevant to their responsibilities.
* **Role-Specific Tools**: Provides a curated set of applications and resources that align with the specific needs of each user role. Menu Configuration\*:
* **Customizable Menu Items**: Allows administrators to configure menu items to ensure that users can easily navigate to the tools and services they need.
* **Dynamic Menus**: Menus can be dynamically updated to reflect changes in user roles or organizational needs. Enhanced Security\*:
* **Access Control**: Implements robust access control mechanisms to ensure that only authorized users can access specific tools and services.
* **Secure Workspaces**: Configures workspace features to enhance security, protecting sensitive information and ensuring compliance with organizational policies. Usability Enhancements\*:
* **User-Friendly Interface**: Designed with usability in mind, providing an intuitive interface that makes it easy for users to find and use the tools they need.
* **Personalized Experience**: Offers a personalized user experience by tailoring workspace features to individual preferences and needs.

## [](#benefits)Benefits

* Increased Productivity: By providing users with the tools and services they need, the solution helps to increase productivity and efficiency.
* Improved User Satisfaction: Tailored workspaces and a user-friendly interface enhance the overall user experience, leading to higher satisfaction.
* Enhanced Security: Robust security features ensure that sensitive information is protected and that users only have access to the tools and services they are authorized to use.
* Flexibility: The ability to customize workspaces and menus allows the solution to adapt to changing organizational needs and user roles.

## [](#dialogues)Dialogues

### [](#workspace-general-data)Workspace General Data

![general data](_images/general_data.png) 

Figure 2\. Workspace general data

### [](#workspace-role-management)Workspace Role Management

![role management](_images/role_management.png) 

Figure 3\. Workspace role management

### [](#workspace-application-registration)Workspace Application Registration

![application registration](_images/application_registration.png) 

Figure 4\. Workspace application registration

### [](#workspace-menu-management)Workspace Menu Management

![menu management 1](_images/menu_management_1.png) 

Figure 5\. Workspace menu example 1

![menu management 2](_images/menu_management_2.png) 

Figure 6\. Workspace menu example 2

![menu management 3](_images/menu_management_3.png) 

Figure 7\. Workspace menu example 3

### [](#workspace-slots)Workspace Slots

![slots 1](_images/slots_1.png) 

Figure 8\. Workspace slots registration

![slots 2](_images/slots_2.png) 

Figure 9\. Workspace slots assignment

## [](#licence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#contributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Workspace Management Software, please follow our contribution guidelines (tbd).

## [](#issue-tracking)Issue Tracking

All OneCX Workspace issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#structure-overview)Structure Overview

OneCX Workspace Software is a comprehensive solution for managing Workspaces in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface and a backend-for-frontend (BFF) layer.

The three components of the OneCX Workspace Software are as follows:

1. Workspace User Interface (UI) The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the Workspace system. Users can perform actions such as searching and editing of Workspaces.
2. Workspace Backend for Frontend (BFF) The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Workspace Backend Service (SVC) This component provides the core functionality. It handles tasks such as storage, retrieval and editing of Workspaces. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#getting-started)Getting Started

To get started with OneCX Workspace Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Workspace UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-workspace/current/onecx-workspace-ui/index.html)
* [OneCX Workspace BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-workspace/current/onecx-workspace-bff/index.html)
* [OneCX Workspace SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-workspace/current/onecx-workspace-svc/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#roadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Fworkspace%5Fsvc)onecx-workspace-svc

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                          | Type               | Default                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | ------------------------------ |
| [onecx.workspace.template.import.role-mapping."role-mapping"](#onecx-workspace-svc%5Fonecx-workspace-template-import-role-mapping-role-mapping) Role mapping for the template import Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_IMPORT\_ROLE\_MAPPING\_\_ROLE\_MAPPING\_ | Map<String,String> |                                |
| [onecx.workspace.template.import.tenants](#onecx-workspace-svc%5Fonecx-workspace-template-import-tenants) Template import tenants Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_IMPORT\_TENANTS                                                                             | list of string     | default                        |
| [onecx.workspace.user.menu.mapping."mapping"](#onecx-workspace-svc%5Fonecx-workspace-user-menu-mapping-mapping) Menu mapping keys Environment variable: ONECX\_WORKSPACE\_USER\_MENU\_MAPPING\_\_MAPPING\_                                                                      | Map<String,String> |                                |
| [onecx.workspace.token.verified](#onecx-workspace-svc%5Fonecx-workspace-token-verified) Verification status Environment variable: ONECX\_WORKSPACE\_TOKEN\_VERIFIED                                                                                                             | boolean            | false                          |
| [onecx.workspace.token.issuer.public-key-location.suffix](#onecx-workspace-svc%5Fonecx-workspace-token-issuer-public-key-location-suffix) Suffix of public key Environment variable: ONECX\_WORKSPACE\_TOKEN\_ISSUER\_PUBLIC\_KEY\_LOCATION\_SUFFIX                             | string             | /protocol/openid-connect/certs |
| [onecx.workspace.token.issuer.public-key-location.enabled](#onecx-workspace-svc%5Fonecx-workspace-token-issuer-public-key-location-enabled) Status if public key is enabled Environment variable: ONECX\_WORKSPACE\_TOKEN\_ISSUER\_PUBLIC\_KEY\_LOCATION\_ENABLED               | boolean            | false                          |
| [onecx.workspace.token.claim.separator](#onecx-workspace-svc%5Fonecx-workspace-token-claim-separator) Separator Environment variable: ONECX\_WORKSPACE\_TOKEN\_CLAIM\_SEPARATOR                                                                                                 | string             |                                |
| [onecx.workspace.token.claim.path](#onecx-workspace-svc%5Fonecx-workspace-token-claim-path) Claim path Environment variable: ONECX\_WORKSPACE\_TOKEN\_CLAIM\_PATH                                                                                                               | string             | realm\_access/roles            |
| [onecx.workspace.template.create.enabled](#onecx-workspace-svc%5Fonecx-workspace-template-create-enabled) Enabled or enable create template configuration. Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_CREATE\_ENABLED                                                    | boolean            | true                           |
| [onecx.workspace.template.create.resource](#onecx-workspace-svc%5Fonecx-workspace-template-create-resource) Create template resource. Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_CREATE\_RESOURCE                                                                        | string             | template/workspace-create.json |
| [onecx.workspace.template.create.class-path-resource](#onecx-workspace-svc%5Fonecx-workspace-template-create-class-path-resource) Class-path resource Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_CREATE\_CLASS\_PATH\_RESOURCE                                           | boolean            | true                           |
| [onecx.workspace.template.create.role-mapping."role-mapping"](#onecx-workspace-svc%5Fonecx-workspace-template-create-role-mapping-role-mapping) Role mapping for create template. Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_CREATE\_ROLE\_MAPPING\_\_ROLE\_MAPPING\_    | Map<String,String> |                                |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.log.sql=false
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
onecx.workspace.token.verified=false
onecx.workspace.token.claim.path=realm_access/roles
onecx.workspace.token.issuer.public-key-location.enabled=false
onecx.workspace.token.issuer.public-key-location.suffix=/protocol/openid-connect/certs
onecx.workspace.user.menu.mapping.main-menu=PORTAL_MAIN_MENU
onecx.workspace.user.menu.mapping.user-profile-menu=USER_PROFILE_MENU
onecx.workspace.user.menu.mapping.footer-menu=PORTAL_FOOTER_MENU
tkit.dataimport.enabled=false
tkit.dataimport.configurations.template.file=template/workspace-import.json
tkit.dataimport.configurations.template.class-path=true
tkit.dataimport.configurations.template.enabled=false
tkit.dataimport.configurations.template.stop-at-error=true
quarkus.native.resources.includes=template/workspace-create.json,template/workspace-import.json
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-workspace?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-workspace}
%prod.quarkus.datasource.password=${DB_PWD:onecx-workspace}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 3.6.0    |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| \===curity                             | 0.34.0                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-workspace-svc/pkgs/container/onecx-workspace-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-workspace-svc/pkgs/container/charts%2Fonecx-workspace-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-workspace-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Workspace Backend Service
        name: OneCX Workspace SVC
```

cription: OneCX Workspace Backend Service name: OneCX Workspace SVC

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=30
quarkus.datasource.jdbc.min-size=10
quarkus.datasource.metrics.enabled=true
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.hibernate-orm.log.sql=false
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.multitenant=DISCRIMINATOR
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.validate-on-migrate=true
onecx.workspace.token.verified=false
onecx.workspace.token.claim.path=realm_access/roles
onecx.workspace.token.issuer.public-key-location.enabled=false
onecx.workspace.token.issuer.public-key-location.suffix=/protocol/openid-connect/certs
onecx.workspace.user.menu.mapping.main-menu=PORTAL_MAIN_MENU
onecx.workspace.user.menu.mapping.user-profile-menu=USER_PROFILE_MENU
onecx.workspace.user.menu.mapping.footer-menu=PORTAL_FOOTER_MENU
tkit.dataimport.enabled=false
tkit.dataimport.configurations.template.file=template/workspace-import.json
tkit.dataimport.configurations.template.class-path=true
tkit.dataimport.configurations.template.enabled=false
tkit.dataimport.configurations.template.stop-at-error=true
quarkus.native.resources.includes=template/workspace-create.json,template/workspace-import.json
tkit.rs.context.tenant-id.enabled=true
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgresdb:5432/onecx-workspace?sslmode=disable}
%prod.quarkus.datasource.username=${DB_USER:onecx-workspace}
%prod.quarkus.datasource.password=${DB_PWD:onecx-workspace}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 3.6.0    |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| \===curity                             | 0.34.0                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-workspace-svc/pkgs/container/onecx-workspace-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-workspace-svc/pkgs/container/charts%2Fonecx-workspace-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: svc
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-workspace-svc"
  db:
    enabled: true
  operator:
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-tn:read ]
    microservice:
      spec:
        description: OneCX Workspace Backend Service
        name: OneCX Workspace SVC
```

cription: OneCX Workspace Backend Service name: OneCX Workspace SVC

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version  |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| tkit-quarkus-data-import               | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-data-import.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-data-import.adoc)                | 3.6.0    |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)          | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                        | 3.6.0    |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0    |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0    |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0    |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0    |
| onecx-tenant                           | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-tenant.html)         | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-tenant.adoc)                            | 1.7.0    |
| tkit-quarkus-jpa-tenant                | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa-tenant.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa-tenant.adoc)                 | 3.6.0    |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0    |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1 |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1 |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                        | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.20.2.1 |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1 |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1 |
| quarkus-hibernate-orm                  | [Link](https://quarkus.io/guides/hibernate-orm)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-orm.adoc)                  | 3.20.2.1 |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1 |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |          |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.20.2.1 |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1 |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1 |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1 |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0    |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |          |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1 |
| \===curity                             | 0.34.0                                                                                             |                                                                                                                                                  |          |
| tkit-quarkus-oidc-health               | 2.40.0                                                                                             |                                                                                                                                                  |          |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                          | Type               | Default                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | ------------------------------ |
| [onecx.workspace.template.import.role-mapping."role-mapping"](#onecx-workspace-svc%5Fonecx-workspace-template-import-role-mapping-role-mapping) Role mapping for the template import Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_IMPORT\_ROLE\_MAPPING\_\_ROLE\_MAPPING\_ | Map<String,String> |                                |
| [onecx.workspace.template.import.tenants](#onecx-workspace-svc%5Fonecx-workspace-template-import-tenants) Template import tenants Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_IMPORT\_TENANTS                                                                             | list of string     | default                        |
| [onecx.workspace.user.menu.mapping."mapping"](#onecx-workspace-svc%5Fonecx-workspace-user-menu-mapping-mapping) Menu mapping keys Environment variable: ONECX\_WORKSPACE\_USER\_MENU\_MAPPING\_\_MAPPING\_                                                                      | Map<String,String> |                                |
| [onecx.workspace.token.verified](#onecx-workspace-svc%5Fonecx-workspace-token-verified) Verification status Environment variable: ONECX\_WORKSPACE\_TOKEN\_VERIFIED                                                                                                             | boolean            | false                          |
| [onecx.workspace.token.issuer.public-key-location.suffix](#onecx-workspace-svc%5Fonecx-workspace-token-issuer-public-key-location-suffix) Suffix of public key Environment variable: ONECX\_WORKSPACE\_TOKEN\_ISSUER\_PUBLIC\_KEY\_LOCATION\_SUFFIX                             | string             | /protocol/openid-connect/certs |
| [onecx.workspace.token.issuer.public-key-location.enabled](#onecx-workspace-svc%5Fonecx-workspace-token-issuer-public-key-location-enabled) Status if public key is enabled Environment variable: ONECX\_WORKSPACE\_TOKEN\_ISSUER\_PUBLIC\_KEY\_LOCATION\_ENABLED               | boolean            | false                          |
| [onecx.workspace.token.claim.separator](#onecx-workspace-svc%5Fonecx-workspace-token-claim-separator) Separator Environment variable: ONECX\_WORKSPACE\_TOKEN\_CLAIM\_SEPARATOR                                                                                                 | string             |                                |
| [onecx.workspace.token.claim.path](#onecx-workspace-svc%5Fonecx-workspace-token-claim-path) Claim path Environment variable: ONECX\_WORKSPACE\_TOKEN\_CLAIM\_PATH                                                                                                               | string             | realm\_access/roles            |
| [onecx.workspace.template.create.enabled](#onecx-workspace-svc%5Fonecx-workspace-template-create-enabled) Enabled or enable create template configuration. Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_CREATE\_ENABLED                                                    | boolean            | true                           |
| [onecx.workspace.template.create.resource](#onecx-workspace-svc%5Fonecx-workspace-template-create-resource) Create template resource. Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_CREATE\_RESOURCE                                                                        | string             | template/workspace-create.json |
| [onecx.workspace.template.create.class-path-resource](#onecx-workspace-svc%5Fonecx-workspace-template-create-class-path-resource) Class-path resource Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_CREATE\_CLASS\_PATH\_RESOURCE                                           | boolean            | true                           |
| [onecx.workspace.template.create.role-mapping."role-mapping"](#onecx-workspace-svc%5Fonecx-workspace-template-create-role-mapping-role-mapping) Role mapping for create template. Environment variable: ONECX\_WORKSPACE\_TEMPLATE\_CREATE\_ROLE\_MAPPING\_\_ROLE\_MAPPING\_    | Map<String,String> |                                |

undefined
====================


undefined
====================
## [](#%5Fonecx%5Fworkspace%5Fbff)onecx-workspace-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/images/*
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_image_internal.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_product_store_svc.url=http://onecx-product-store-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.config-key=onecx_image_internal
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.base-package=gen.org.tkit.onecx.workspace.client
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.base-package=gen.org.tkit.onecx.workspace.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.base-package=gen.org.tkit.onecx.workspace.exim.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.base-package=gen.org.tkit.onecx.workspace.user.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.config-key=onecx_product_store_svc
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_image_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-workspace-bff/pkgs/container/onecx-workspace-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-workspace-bff/pkgs/container/charts%2Fonecx-workspace-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-workspace-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          workspace:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          role:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          assignment:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          menu:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          slot:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Workspace Backend For Frontend
        name: OneCX Workspace BFF
```

objects are saved or updated delete: permission on all DELETE requests menu: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests slot: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read \] microservice: spec: description: OneCX Workspace Backend For Frontend name: OneCX Workspace BFF

TCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          menu:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          slot:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read ]

s=optional\]

### [](#%5Fdefault%5Fproperties%5F2)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/images/*
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_image_internal.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_product_store_svc.url=http://onecx-product-store-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.config-key=onecx_image_internal
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.base-package=gen.org.tkit.onecx.workspace.client
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.base-package=gen.org.tkit.onecx.workspace.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.base-package=gen.org.tkit.onecx.workspace.exim.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.base-package=gen.org.tkit.onecx.workspace.user.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.config-key=onecx_product_store_svc
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_image_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions%5F2)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

### [](#%5Fcontainer%5F2)Container

[Docker registry](https://github.com/onecx/onecx-workspace-bff/pkgs/container/onecx-workspace-bff)

### [](#%5Fhelm%5F2)Helm

[Helm registry](https://github.com/onecx/onecx-workspace-bff/pkgs/container/charts%2Fonecx-workspace-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-workspace-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          workspace:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          role:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          assignment:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          menu:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          slot:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Workspace Backend For Frontend
        name: OneCX Workspace BFF
```

objects are saved or updated delete: permission on all DELETE requests menu: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests slot: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read \] microservice: spec: description: OneCX Workspace Backend For Frontend name: OneCX Workspace BFF

TCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          menu:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          slot:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read ]

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
quarkus.http.filter.images.header."Cache-Control"=max-age=432000
quarkus.http.filter.images.matches=/images/*
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_image_internal.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_product_store_svc.url=http://onecx-product-store-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.config-key=onecx_image_internal
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.base-package=gen.org.tkit.onecx.workspace.client
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.type-mappings.File=byte[]
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_image_internal_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.base-package=gen.org.tkit.onecx.workspace.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.base-package=gen.org.tkit.onecx.workspace.exim.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_exim_v1_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.base-package=gen.org.tkit.onecx.workspace.user.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.config-key=onecx_product_store_svc
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.base-package=gen.org.tkit.onecx.product.store.client
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_product_store_svc_external_v1_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_image_internal.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.rest-client.onecx_product_store_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-workspace-bff/pkgs/container/onecx-workspace-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-workspace-bff/pkgs/container/charts%2Fonecx-workspace-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-workspace-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          workspace:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          product:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          role:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          assignment:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          menu:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          slot:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Workspace Backend For Frontend
        name: OneCX Workspace BFF
```

objects are saved or updated delete: permission on all DELETE requests menu: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests slot: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read \] microservice: spec: description: OneCX Workspace Backend For Frontend name: OneCX Workspace BFF

TCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          menu:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
          slot:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read ]

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                      | Type    | Default |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------- |
| [onecx.workspace.rest-client.onecx\_iam\_svc.enabled](#onecx-workspace-bff%5Fonecx-workspace-rest-client-onecx%5Fiam%5Fsvc-enabled) Enable or disable client Environment variable: ONECX\_WORKSPACE\_REST\_CLIENT\_ONECX\_IAM\_SVC\_ENABLED | boolean | true    |

undefined
====================
## [](#%5Fonecx%5Fworkspace%5Fui)onecx-workspace-ui

## [](#%5Fonecx%5Fworkspace%5Fui%5F2)OneCX Workspace UI

### [](#%5Fwhat%5Fis%5Fworkspace%5Fmanagement)What is Workspace Management?

OneCX Workspace Management refers to the process of creating, editing, deleting and transferring workspaces and their applications, slots and roles.

### [](#%5Foverview)Overview

OneCX Workspace is a comprehensive solution for managing workspaces in a user-friendly and efficient manner. In this document we are only referring to the OneCX Workspace User Interface (UI) of OneCX Workspace Management.

The UI for this Workspace Management component is designed to provide an intuitive and user-friendly experience for managing workspaces in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Workspace UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-workspace-ui.git
git clone https://github.com/onecx/workspace-dev.git
```

The repository `onecx-workspace` contains the source code of the OneCX Workspace product. The repository `onecx-workspace-ui` contains the source code of the OneCX Workspace UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-workspace-ui
127.0.0.1       onecx-workspace-bff
127.0.0.1       onecx-workspace-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Workspace Management using a simple configuration file.

```bash
mkdir onecx-workspace
cd onecx-workspace
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================
## [](#%5Fonecx%5Fworkspace%5Fui)OneCX Workspace UI

### [](#%5Fwhat%5Fis%5Fworkspace%5Fmanagement)What is Workspace Management?

OneCX Workspace Management refers to the process of creating, editing, deleting and transferring workspaces and their applications, slots and roles.

### [](#%5Foverview)Overview

OneCX Workspace is a comprehensive solution for managing workspaces in a user-friendly and efficient manner. In this document we are only referring to the OneCX Workspace User Interface (UI) of OneCX Workspace Management.

The UI for this Workspace Management component is designed to provide an intuitive and user-friendly experience for managing workspaces in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Workspace UI, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose
* Windows Subsystem for Linux (WSL) - recommended
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx/onecx-workspace-ui.git
git clone https://github.com/onecx/workspace-dev.git
```

The repository `onecx-workspace` contains the source code of the OneCX Workspace product. The repository `onecx-workspace-ui` contains the source code of the OneCX Workspace UI as part of the product.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       onecx-workspace-ui
127.0.0.1       onecx-workspace-bff
127.0.0.1       onecx-workspace-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Workspace Management using a simple configuration file.

```bash
mkdir onecx-workspace
cd onecx-workspace
docker compose up -d traefik postgresdb pgadmin keycloak-app
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data of OneCX products, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database. This is optional.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.

undefined
====================


undefined
====================
## [](#%5Fonecx%5Fworkspace%5Fapi%5Fbff)onecx-workspace-api-bff

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                     | Type    | Default |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------- | ------- |
| [onecx.path.shell-mapping.enabled](#onecx-workspace-api-bff%5Fonecx-path-shell-mapping-enabled) Enable or disable shell mapping Environment variable: ONECX\_PATH\_SHELL\_MAPPING\_ENABLED | boolean | false   |
| [onecx.path.shell-mapping.prefix](#onecx-workspace-api-bff%5Fonecx-path-shell-mapping-prefix) Prefix to be used for paths Environment variable: ONECX\_PATH\_SHELL\_MAPPING\_PREFIX        | string  | ui/     |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.base-package=gen.org.tkit.onecx.workspace.user.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-workspace-api-bff/pkgs/container/onecx-workspace-api-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-workspace-api-bff/pkgs/container/charts%2Fonecx-workspace-api-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: api-bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-workspace-api-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          menu:
            ext-api-req: permission to request menu api
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ws:read, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Workspace API Backend for Frontend
        name: OneCX Workspace API BFF
```

TE requests role: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests assignment: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests menu: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests slot: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read \]

undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.base-package=gen.org.tkit.onecx.workspace.user.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.enable-security-generation=false
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-workspace-api-bff/pkgs/container/onecx-workspace-api-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-workspace-api-bff/pkgs/container/charts%2Fonecx-workspace-api-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  name: api-bff
  template:
    oidc_client_id: "ONECX_OIDC_CLIENT_CLIENT_ID"
  image:
    repository: "onecx/onecx-workspace-api-bff"
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          menu:
            ext-api-req: permission to request menu api
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-ws:read, ocx-pm:read ]
    microservice:
      spec:
        description: OneCX Workspace API Backend for Frontend
        name: OneCX Workspace API BFF
```

TE requests role: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests assignment: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests menu: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests slot: read: permission on all GET requests and POST search write: permission on PUT, POST, PATCH requests, where objects are saved or updated delete: permission on all DELETE requests keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ws:all, ocx-th:read, ocx-ps:read, ocx-ia:read, ocx-pm:read \]

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.20.2.1   |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.20.2.1   |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.20.2.1                                                                                                                                         |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.20.2.1   |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.10.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.10.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.20.2.1                                                                                                                                         |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 3.6.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 3.6.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 3.6.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 3.6.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 3.6.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/3.6.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 3.6.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.20.2.1   |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/1.7.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                       | 1.7.0      |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.20.2.1   |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 1.7.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.20.2.1   |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.20.2.1   |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.20.2.1   |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.20.2.1   |
| quarkus-rest-client-oidc-filter        | 3.20.2.1                                                                                           |                                                                                                                                                  |            |
| \===th                                 | 2.40.0                                                                                             |                                                                                                                                                  |            |

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                     | Type    | Default |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------- | ------- |
| [onecx.path.shell-mapping.enabled](#onecx-workspace-api-bff%5Fonecx-path-shell-mapping-enabled) Enable or disable shell mapping Environment variable: ONECX\_PATH\_SHELL\_MAPPING\_ENABLED | boolean | false   |
| [onecx.path.shell-mapping.prefix](#onecx-workspace-api-bff%5Fonecx-path-shell-mapping-prefix) Prefix to be used for paths Environment variable: ONECX\_PATH\_SHELL\_MAPPING\_PREFIX        | string  | ui/     |

undefined
====================
## [](#%5Fonecx%5Fworkspace%5Fapi%5Flegacy)onecx-workspace-api-legacy

### [](#%5Fconfiguration)Configuration

 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                     | Type    | Default             |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------------------- |
| [onecx.workspace.api.legacy.workspaces."workspaces".name](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-workspaces-workspaces-name) Mapping workspace configuration. Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_WORKSPACES\_\_WORKSPACES\_\_NAME      | string  | required            |
| [onecx.workspace.api.legacy.workspaces."workspaces".rename](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-workspaces-workspaces-rename) Rename workspace configuration. Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_WORKSPACES\_\_WORKSPACES\_\_RENAME | string  | required            |
| [onecx.workspace.api.legacy.token.access.roles.path](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-token-access-roles-path) access token roles path Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_TOKEN\_ACCESS\_ROLES\_PATH                             | string  | realm\_access/roles |
| [onecx.workspace.api.legacy.token.id.roles](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-token-id-roles) access token roles path Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_TOKEN\_ID\_ROLES                                                         | string  | realm\_roles        |
| [onecx.workspace.api.legacy.shell-mapping.enabled](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-shell-mapping-enabled) Enable or disable shell mapping Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_SHELL\_MAPPING\_ENABLED                            | boolean | false               |
| [onecx.workspace.api.legacy.shell-mapping.prefix](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-shell-mapping-prefix) Prefix to be used for paths Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_SHELL\_MAPPING\_PREFIX                                   | string  | /ui/                |

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.base-package=gen.org.tkit.onecx.workspace.user.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-openapi-generator-oidc         | 2.13.0-lts                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-workspace-api-legacy/pkgs/container/onecx-workspace-api-legacy) \=== Helm [Helm registry](https://github.com/onecx/onecx-workspace-api-legacy/pkgs/container/charts%2Fonecx-workspace-api-legacy) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: api-legacy template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-workspace-api-legacy" operator: keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ws:read \] microservice: spec: description: OneCX Workspace API Legacy name: OneCX Workspace API Legacy \---- |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
%prod.quarkus.rest-client.onecx_workspace_svc.url=http://onecx-workspace-svc:8080
%prod.quarkus.rest-client.onecx_workspace_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
%prod.quarkus.oidc-client.client-id=${ONECX_OIDC_CLIENT_CLIENT_ID:${quarkus.application.name}}
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.config-key=onecx_workspace_svc
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.base-package=gen.org.tkit.onecx.workspace.user.client
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.return-response=true
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.codegen.spec.onecx_workspace_svc_user_menu_yaml.enable-security-generation=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-openapi-generator-oidc         | 2.13.0-lts                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

| \=== Container [Docker registry](https://github.com/onecx/onecx-workspace-api-legacy/pkgs/container/onecx-workspace-api-legacy) \=== Helm [Helm registry](https://github.com/onecx/onecx-workspace-api-legacy/pkgs/container/charts%2Fonecx-workspace-api-legacy) Default values .src/main/helm/values.yaml \[source,yaml\] ---- app: name: api-legacy template: oidc\_client\_id: "ONECX\_OIDC\_CLIENT\_CLIENT\_ID" image: repository: "onecx/onecx-workspace-api-legacy" operator: keycloak: client: enabled: true spec: kcConfig: defaultClientScopes: \[ ocx-ws:read \] microservice: spec: description: OneCX Workspace API Legacy name: OneCX Workspace API Legacy \---- |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version    |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------- |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.27.1     |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.27.1     |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.27.1                                                                                                                                           |            |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.27.1     |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.13.0-lts/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc) | 2.13.0-lts |
| quarkus-rest-client-jackson            | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.27.1                                                                                                                                           |            |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                    | 4.4.0      |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                     | 4.4.0      |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                   | 4.4.0      |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                       | 4.4.0      |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)               | 4.4.0      |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/4.4.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                   | 4.4.0      |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.27.1     |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.27.1     |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 2.3.0                                                                                                                                            |            |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.27.1     |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.27.1     |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.27.1     |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.27.1     |
| quarkus-openapi-generator-oidc         | 2.13.0-lts                                                                                         |                                                                                                                                                  |            |
| quarkus-rest-client-oidc-filter        | 3.27.1                                                                                             |                                                                                                                                                  |            |

| | | 3.20.2.1

undefined
====================
 Configuration property fixed at build time - All other configuration properties are overridable at runtime

| Configuration property                                                                                                                                                                                                                                                     | Type    | Default             |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------------------- |
| [onecx.workspace.api.legacy.workspaces."workspaces".name](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-workspaces-workspaces-name) Mapping workspace configuration. Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_WORKSPACES\_\_WORKSPACES\_\_NAME      | string  | required            |
| [onecx.workspace.api.legacy.workspaces."workspaces".rename](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-workspaces-workspaces-rename) Rename workspace configuration. Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_WORKSPACES\_\_WORKSPACES\_\_RENAME | string  | required            |
| [onecx.workspace.api.legacy.token.access.roles.path](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-token-access-roles-path) access token roles path Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_TOKEN\_ACCESS\_ROLES\_PATH                             | string  | realm\_access/roles |
| [onecx.workspace.api.legacy.token.id.roles](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-token-id-roles) access token roles path Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_TOKEN\_ID\_ROLES                                                         | string  | realm\_roles        |
| [onecx.workspace.api.legacy.shell-mapping.enabled](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-shell-mapping-enabled) Enable or disable shell mapping Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_SHELL\_MAPPING\_ENABLED                            | boolean | false               |
| [onecx.workspace.api.legacy.shell-mapping.prefix](#onecx-workspace-api-legacy%5Fonecx-workspace-api-legacy-shell-mapping-prefix) Prefix to be used for paths Environment variable: ONECX\_WORKSPACE\_API\_LEGACY\_SHELL\_MAPPING\_PREFIX                                   | string  | /ui/                |

Document Management
====================
## [](#%5Flicence)Licence

This software is licensed under the Apache License, Version 2.0\. You may obtain a copy of the license in the corresponding LICENSE file or visit the [Apache website](https://www.apache.org/licenses/LICENSE-2.0) for more information.

## [](#%5Fcontributing)Contributing

We welcome contributions from the community. If you would like to contribute to the development of OneCX Document Management Software, please follow our contribution guidelines (tbd).

## [](#%5Fwhat%5Fis%5Fdocument%5Fmanagement)What is Document Management

Document management refers to the systematic process of capturing, organizing, storing, and retrieving documents within an organization. It involves the efficient handling of digital documents, ensuring secure access, version control, collaboration based on TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

With OneCX Document Management Software, you can streamline your document management workflows, reduce manual efforts, and enhance productivity. Whether it’s managing contracts, invoices, legal documents, or any other form of digital content, OneCX Document Management provides a centralized and user-friendly solution for effectively managing your documents.

## [](#%5Fkey%5Ffeatures)Key Features

* Document Storage and Retrieval: Store and retrieve documents securely and efficiently.
* Metadata Management: Add and manage metadata to enhance document categorization and search capabilities.
* Access Control: Define access permissions and roles to control document visibility and editing rights.
* Search and Filters: Quickly locate documents using advanced search and filtering options.
* Version Control: Keep track of document versions and manage changes effectively.
* Collaboration: Enable collaboration by allowing multiple users to access and work on documents simultaneously.
* Integration Capabilities: Seamlessly integrate with other systems and tools for enhanced productivity.

## [](#%5Fflexibility%5Fand%5Fintegration)Flexibility and Integration

OneCX Document Management Software is designed with a modular and extensible architecture, allowing you to customize and integrate it with other components of the OneCX ecosystem. Think of it like building with Lego blocks – you can easily plug in additional modules and extend the functionality according to your specific needs.

Whether you want to integrate OneCX Document Management Software with existing enterprise systems, third-party tools, or other components of the OneCX suite, the software provides flexible APIs and integration points to enable seamless connectivity. This flexibility empowers you to create a tailored document management solution that perfectly fits your organization’s requirements.

With OneCX’s modular approach, you can leverage the power of the software while integrating it with various systems and workflows, enhancing productivity and optimizing your document management processes.

## [](#%5Fissue%5Ftracking)Issue tracking

All OneCX Document Management issues are tracked and maintained at the [issue tracking tool](https://xyz.com).

## [](#%5Foverview)Overview

OneCX Document Management Software is a comprehensive solution for managing documents in a user-friendly and efficient manner. It is a solution that consists of three main components: a backend service, a user interface, and a backend-for-frontend (BFF) layer.

The three components of OneCX Document Management Software are as follows:

1. Document Management UI The user interface component is based on Angular, a popular JavaScript framework for building dynamic web applications. It offers a user-friendly and intuitive interface for interacting with the document management system. Users can perform actions such as uploading documents, searching, linking them with others or attaching files to it, etc..
2. Document Management BFF The BFF layer acts as an intermediary between the frontend user interface and the backend service. It handles tasks such as data aggregation, transformation, and composition to provide an optimized API for the UI. The BFF layer is designed to enhance performance and simplify the integration of the frontend with the backend service.
3. Document Management Backend This component provides the core functionality for document management. It handles tasks such as document storage, retrieval, metadata management, and access control. The backend is built cloud native using Quarkus.

Interfaces are based on the TM-Forum standard [TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

## [](#%5Fgetting%5Fstarted)Getting Started

To get started with OneCX Document Management Software, please refer to the following installation and setup instructions specific to each component:

* [OneCX Document Management SVC (Backend) - Getting Started](https://onecx.github.io/docs/onecx-document-management/current/onecx-document-management-svc/index.html)
* [OneCX Document Management UI (User Interface) - Getting Started](https://onecx.github.io/docs/onecx-document-management/current/onecx-document-management-ui/index.html)
* [OneCX Document Management BFF (Backend for Frontend) - Getting Started](https://onecx.github.io/docs/onecx-document-management/current/onecx-document-management-bff/index.html)

For detailed usage instructions and API documentation, please refer to the respective documentation files for each component.

## [](#%5Froadmap)Roadmap

tbd

undefined
====================
## [](#%5Fonecx%5Fdocument%5Fmanagement%5Fsvc)onecx-document-management-svc

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.banner.enabled=false
quarkus.http.limits.max-body-size=20240K
quarkus.liquibase.migrate-at-start=true
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=8
quarkus.datasource.jdbc.min-size=2
quarkus.datasource.metrics.enabled=true
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.database.generation.halt-on-error=true
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.log.category."org.hibernate.engine.internal.StatisticalLoggingSessionEventListener".level=WARNING
quarkus.jacoco.excludes=**/mappers/*,**/minio/*
tkit.log.json.enabled=true
tkit.log.json.keys.type=rs-time=double,time=double,rs-response-status=int
tkit.log.json.keys.mdc=traceId=X-B3-TraceId,spanId=X-B3-SpanId
tkit.log.json.keys.ignore=loggerClassName,ndc
tkit.log.json.keys.override=timestamp=@timestamp,threadName=thread,loggerName=source
tkit.log.json.keys.env=service_domain=SERVICE_DOMAIN
minio.bucket.folder=test-bucket
quarkus.jacoco.excludes=**/mappers/*
## TEST
quarkus.minio.secure=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                    | 2.36.0  |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                   | 2.36.0  |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                  | 2.36.0  |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                       | 2.36.0  |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                      | 2.36.0  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.15.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                    | 3.15.1                                                                                                                                           |         |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.15.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.15.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.15.1  |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.15.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.15.1  |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.15.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.15.1  |
| quarkus-resteasy-reactive              | [Link](https://quarkus.io/guides/resteasy-reactive)                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-resteasy-reactive.adoc)              | 3.15.1  |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.15.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                  | 2.36.0  |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 0.34.0                                                                                                                                           |         |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.15.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.15.1  |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.15.1  |
| onecx-security                         | 0.34.0                                                                                         |                                                                                                                                                  |         |
| quarkus-scheduler                      | 3.15.1                                                                                         |                                                                                                                                                  |         |
| quarkus-minio                          | 3.7.7                                                                                          |                                                                                                                                                  |         |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-document-management-svc/pkgs/container/onecx-document-management-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-document-management-svc/pkgs/container/charts%2Fonecx-document-management-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  image:
    repository: "onecx-apps/onecx-document-management-svc"
  db:
    enabled: true
  product: false
```

Document management refers to the systematic process of capturing, organizing, storing, and retrieving documents within an organization. It involves the efficient handling of digital documents, ensuring secure access, version control, collaboration based on TM-Forum standard[TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

With OneCX-Document-Management Software, you can streamline your document management workflows, reduce manual efforts, and enhance productivity. Whether it’s managing contracts, invoices, legal documents, or any other form of digital content, OneCX Document Management provides a centralized and user-friendly solution for effectively managing your documents.

### [](#%5Fissue%5Ftracking)Issue tracking

All OneCX Document Management issues are tracked and maintained hereissue tracking tool.

### [](#%5Foverview)Overview

OneCX-Document-Management is a comprehensive solution for managing documents in a user-friendly and efficient manner. It is a solution that consists of three main components which are explained in more detail in the general documentation. Please refer to the following documentation to learn more[Document-Management Documenation](https://github.com/onecx-apps/onecx-document-management). However, in this document we are only referring to one of the three components, the OneCX-Document-Management-Service (Backend) of OneCX-Document-Management.

This component provides the core functionality for document management. It handles tasks such as document storage, retrieval, metadata management, and access control. The backend is built cloud native using Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Document Management Service, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose (Windows Subsystem for Linux (WSL) recommended)

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx-apps/onecx-document-management-svc.git
git clone https://github.com/onecx-apps/document-management-dev.git
```

The repository `onecx-document-management` contains the source code of the document management backend. The repository`document-management-dev` contains the necessary OneCX platform dependencies and the docker-compose script required to run the OneCX Document-Management-Service on your local machine.

#### [](#%5Fbuild%5Fthe%5Fproject)Build the Project

Navigate to the project directory and build the application using Maven:

```bash
cd onecx-document-management-svc
mvn clean install
```

Downloading the required Maven dependencies for the first time may take some time.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       pgadmin
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       tkit-portal-app
127.0.0.1       tkit-portal-server
127.0.0.1       apm
127.0.0.1       wiremock
127.0.0.1       minio
127.0.0.1       onecx-document-management-ui
127.0.0.1       onecx-document-management-bff
127.0.0.1       onecx-document-management-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Document Management using a simple configuration file.

```bash
cd document-management-dev
docker compose up -d traefik postgresdb pgadmin keycloak-app tkit-portal-server minio apm
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data in OneCX Document Management, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.
* `tkit-portal-server`: This micro-service is responsible mostly for handling the logic of portals and their meunitems and user data and settings.
* `minio`: We use MinIO as a facade or abstraction layer to decouple our applications from the underlying cloud storage provider, providing greater flexibility and allowing us to seamlessly switch between different providers without changing our application code. It acts as a unified interface, enabling us to interact with various cloud storage systems using the standardized Amazon S3 API.
* `apm`: In this backend, user permissions are stored in a structured manner and an endpoint is provided to import permissions via CSV files. Each application can be assigned a set of roles and permissions, managed through an association table in the APM database. Roles are assigned in the Keycloak admin console and are retrieved from tokens, while strings defined in APM are used to grant access to specific components or views on the frontend.

#### [](#%5Fstopping%5Fonecx%5Fdependencies)Stopping OneCX dependencies

The `docker-compose stop` command is used to stop the containers defined in a Docker Compose file. It gracefully stops the running containers by sending a stop signal, allowing them to perform any necessary cleanup tasks before shutting down.

```bash
docker compose stop
```

#### [](#%5Fstarting%5Fthe%5Fonecx%5Fdocument%5Fmanagement%5Fservice)Starting the OneCX Document Management Service

The command mvn compile quarkus:dev is used in a Maven-based Quarkus project to compile the source code and start a live coding development mode. In this mode, Quarkus will automatically rebuild and redeploy the application whenever changes are detected in the source code, allowing for rapid development and testing.

```bash
mvn compile quarkus:dev
```

* `mvn compile`: This command tells Maven to compile the source code of the project. It resolves dependencies, compiles the Java source files, and generates the compiled bytecode.
* `quarkus:dev`: This is a Maven plugin goal provided by the Quarkus framework. It starts the Quarkus dev mode, which is a live coding mode for development. It launches your application in development mode, which includes features like hot-reloading and automatic recompilation.

When you run mvn compile quarkus:dev, the build process compiles your application, and once it’s built, Quarkus starts a development server that listens for changes in the source code. If any changes are detected, the affected parts of the application are automatically recompiled and redeployed, allowing you to see the changes in real-time without restarting the application manually.

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
quarkus.banner.enabled=false
quarkus.http.limits.max-body-size=20240K
quarkus.liquibase.migrate-at-start=true
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=8
quarkus.datasource.jdbc.min-size=2
quarkus.datasource.metrics.enabled=true
quarkus.hibernate-orm.metrics.enabled=true
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.database.generation.halt-on-error=true
quarkus.hibernate-orm.jdbc.timezone=UTC
quarkus.log.category."org.hibernate.engine.internal.StatisticalLoggingSessionEventListener".level=WARNING
quarkus.jacoco.excludes=**/mappers/*,**/minio/*
tkit.log.json.enabled=true
tkit.log.json.keys.type=rs-time=double,time=double,rs-response-status=int
tkit.log.json.keys.mdc=traceId=X-B3-TraceId,spanId=X-B3-SpanId
tkit.log.json.keys.ignore=loggerClassName,ndc
tkit.log.json.keys.override=timestamp=@timestamp,threadName=thread,loggerName=source
tkit.log.json.keys.env=service_domain=SERVICE_DOMAIN
minio.bucket.folder=test-bucket
quarkus.jacoco.excludes=**/mappers/*
## TEST
quarkus.minio.secure=false
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                    | 2.36.0  |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                   | 2.36.0  |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                  | 2.36.0  |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                       | 2.36.0  |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                      | 2.36.0  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.15.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                    | 3.15.1                                                                                                                                           |         |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.15.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.15.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.15.1  |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.15.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.15.1  |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.15.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.15.1  |
| quarkus-resteasy-reactive              | [Link](https://quarkus.io/guides/resteasy-reactive)                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-resteasy-reactive.adoc)              | 3.15.1  |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.15.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                  | 2.36.0  |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 0.34.0                                                                                                                                           |         |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.15.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.15.1  |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.15.1  |
| onecx-security                         | 0.34.0                                                                                         |                                                                                                                                                  |         |
| quarkus-scheduler                      | 3.15.1                                                                                         |                                                                                                                                                  |         |
| quarkus-minio                          | 3.7.7                                                                                          |                                                                                                                                                  |         |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-document-management-svc/pkgs/container/onecx-document-management-svc)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-document-management-svc/pkgs/container/charts%2Fonecx-document-management-svc)

Default values

src/main/helm/values.yaml

```yaml
app:
  image:
    repository: "onecx-apps/onecx-document-management-svc"
  db:
    enabled: true
  product: false
```

undefined
====================
| Extensions                             | Documentation                                                                                  | Configuration                                                                                                                                    | Version |
| -------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)   | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                    | 2.36.0  |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)  | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                   | 2.36.0  |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                  | 2.36.0  |
| tkit-quarkus-jpa                       | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-jpa.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-jpa.adoc)                       | 2.36.0  |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                      | 2.36.0  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.15.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                    | 3.15.1                                                                                                                                           |         |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.15.1  |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.15.1  |
| quarkus-liquibase                      | [Link](https://quarkus.io/guides/liquibase)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-liquibase.adoc)                      | 3.15.1  |
| quarkus-jdbc-postgresql                | [Link](https://quarkus.io/guides/datasource)                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-jdbc-postgresql.adoc)                | 3.15.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                   | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.15.1  |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.15.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.15.1  |
| quarkus-resteasy-reactive              | [Link](https://quarkus.io/guides/resteasy-reactive)                                            | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-resteasy-reactive.adoc)              | 3.15.1  |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)           | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.15.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                  | 2.36.0  |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)       | 0.34.0                                                                                                                                           |         |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                         | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.15.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.15.1  |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                              | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.15.1  |
| onecx-security                         | 0.34.0                                                                                         |                                                                                                                                                  |         |
| quarkus-scheduler                      | 3.15.1                                                                                         |                                                                                                                                                  |         |
| quarkus-minio                          | 3.7.7                                                                                          |                                                                                                                                                  |         |

undefined
====================
## [](#%5Fonecx%5Fdocument%5Fmanagement%5Fuser%5Finterface)OneCX Document-Management-User-Interface

![OneCX Document Management UI](https://github.com/onecx-apps/onecx-document-management-ui/actions/workflows/build.yml/badge.svg)

### [](#%5Fwhat%5Fis%5Fdocument%5Fmanagement)What is Document Management

Document management refers to the systematic process of capturing, organizing, storing, and retrieving documents within an organization. It involves the efficient handling of digital documents, ensuring secure access, version control, collaboration based on TM-Forum standard[TMF 667](https://github.com/tmforum-apis/TMF667%5FDocument).

With OneCX-Document-Management Software, you can streamline your document management workflows, reduce manual efforts, and enhance productivity. Whether it’s managing contracts, invoices, legal documents, or any other form of digital content, OneCX Document Management provides a centralized and user-friendly solution for effectively managing your documents.

### [](#%5Foverview)Overview

OneCX-Document-Management is a comprehensive solution for managing documents in a user-friendly and efficient manner. It is a solution that consists of three main components which are explained in more detail in the general documentation. Please refer to the following documentation to learn more[Document-Management Documenation](https://onecx.github.io/docs/document-management/current/general/index.html). However, in this document we are only referring to one of the three components, the OneCX-Document-Management-User-Interface (UI) of OneCX-Document-Management.

The user interface (UI) for this document management component is designed to provide an intuitive and user-friendly experience for managing documents in the cloud-native environment built with Quarkus.

### [](#%5Fgetting%5Fstarted)Getting Started

To start developing the OneCX Document Management User Interface, you need to set up your local development environment. It’s recommended that you use WSL as the runtime for your application, as shown in the figure below. If you are using a different runtime, please check that you meet the requirements below.

#### [](#%5Fprerequisites)Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose (Windows Subsystem for Linux (WSL) recommended)
* NodeJS

#### [](#%5Fclone%5Fthe%5Frepository)Clone the Repository

Start by cloning the required repositories to your local machine using the following command:

```bash
git clone https://github.com/onecx-apps/onecx-document-management-ui.git
git clone https://github.com/onecx-apps/document-management-dev.git
```

The repository `onecx-document-management-ui` contains the source code of the document management user interface. The repository`document-management-dev` contains the necessary OneCX platform dependencies and the docker-compose script required to run the OneCX Document-Management-User-Interface on your local machine.

#### [](#%5Fupdate%5Flocal%5Fdns%5Fresolution)Update local DNS resolution

Assuming you are using WSL, updating the local host file for local development allows you to map domain names to specific IP addresses, making it easier to test and debug applications using custom domain names instead of IP addresses. To enable multiple services on the same port, we use traefik as a reverse proxy. A running traefik container is therefore essential for your local setup to route your traffic to the appropriate Docker containers based on hostnames.

**It is recommended that the WSL host file and the Windows host file are aligned. Unless you have disabled this behaviour, the WSL host file will be automatically generated from the Windows host file when WSL is restarted.**

##### [](#%5Fupdate%5Fwindows%5Fhost%5Ffile)Update Windows host file

Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite editor and add the following entries:

```bash
127.0.0.1       pgadmin
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       tkit-portal-app
127.0.0.1       tkit-portal-server
127.0.0.1       apm
127.0.0.1       wiremock
127.0.0.1       minio
127.0.0.1       onecx-document-management-ui
127.0.0.1       onecx-document-management-bff
127.0.0.1       onecx-document-management-svc
```

##### [](#%5Fupdate%5Fwsl%5Fhost%5Ffile)Update WSL host file

If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the same entries like above.

#### [](#%5Fstarting%5Fonecx%5Fdependencies)Starting OneCX dependencies

In a local development environment, Docker Compose is used to define and manage multiple containers as a single application stack. It enables developers to easily start, stop, and configure all the necessary services and dependencies required by OneCX Document Management using a simple configuration file.

```bash
cd document-management-dev
docker compose up -d traefik postgresdb pgadmin keycloak-app tkit-portal-server minio apm
```

* `traefik`: Traefik is an ingress controller for Kubernetes deployments that enables dynamic traffic routing and load balancing based on defined rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database management system. It is used as persistence layer for storing and managing data in OneCX Document Management, providing reliability and scalability.
* `pgadmin`: pgAdmin is an open-source administration and development platform that offers a user-friendly graphical interface for managing and interacting with the local PostgreSQL database.
* `keycloak`: Keycloak is an open-source identity and access management system that simplifies authentication, authorization, and single sign-on for web and mobile applications.
* `tkit-portal-server`: This micro-service is responsible mostly for handling the logic of portals and their meunitems and user data and settings.
* `minio`: We use MinIO as a facade or abstraction layer to decouple our applications from the underlying cloud storage provider, providing greater flexibility and allowing us to seamlessly switch between different providers without changing our application code. It acts as a unified interface, enabling us to interact with various cloud storage systems using the standardized Amazon S3 API.
* `apm`: In this backend, user permissions are stored in a structured manner and an endpoint is provided to import permissions via CSV files. Each application can be assigned a set of roles and permissions, managed through an association table in the APM database. Roles are assigned in the Keycloak admin console and are retrieved from tokens, while strings defined in APM are used to grant access to specific components or views on the frontend.

#### [](#%5Fstarting%5Fthe%5Fonecx%5Fdocument%5Fmanagement%5Fuser%5Finterface)Starting the OneCX Document Management User Interface

Navigate to the project directory and build the application using NPM:

```bash
cd onecx-document-management-ui
npm install --force
```

Note: If you face any issues while npm install, try deleting the node\_module folder and package-lock.json from the project.

Start the user interface:

```bash
cd onecx-document-management-ui
npm start
```

#### [](#%5Fstopping%5Fonecx%5Fdependencies)Stopping OneCX dependencies

The `docker compose stop` command is used to stop the containers defined in a Docker Compose file. It gracefully stops the running containers by sending a stop signal, allowing them to perform any necessary cleanup tasks before shutting down.

```bash
cd onecx-document-management-dev
docker compose stop
```

undefined
====================
## [](#%5Fonecx%5Fdocument%5Fmanagement%5Fbff)onecx-document-management-bff

### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
documentmgmt/mp-rest/url=http://onecx-document-management-svc:8080
documentmgmt/mp-rest/forward-headers=true
apm/mp-rest/url=http://tkit-apm:8080/tkit-apm-rs/v2
ahm/mp-rest/url=http://announcement-help-management:8080
portalLaunchpad/mp-rest/url=http://portal-launchpad:8080
tkitPortalServer/mp-rest/url=http://tkit-portal-server:8080
mp.openapi.scan.disable=false
tkit.log.json.enabled=false
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
quarkus.oidc-client.client-id=${quarkus.application.name}
smallrye.jwt.path.groups =realm_access/roles
quarkus.http.limits.max-body-size=20240K
dms.file-upload.proxy-path=/v1/document/files/upload/*
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
quarkus.rest-client.onecx_document_svc.url = http://onecx-document-management-svc:8080
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.config-key=onecx_document_svc
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.base-package=gen.org.tkit.onecx.document-management.client
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.onecx_document_management_svc_yaml.auth.oauth2.token-propagation=false
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.import-mappings=MultipartFormDataInput=org.jboss.resteasy.reactive.server.multipart.MultipartFormDataInput
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.type-mappings.File=java.io.File
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.type-mappings.MultipartFormDataInput=org.jboss.resteasy.reactive.server.multipart.MultipartFormDataInput
quarkus.rest-client.onecx_document_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                    | 2.36.0  |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                   | 2.36.0  |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                      | 2.36.0  |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                  | 2.36.0  |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)              | 2.36.0  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.15.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.15.1                                                                                                                                           |         |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                      | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.15.1  |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.15.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.15.1  |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.15.1  |
| quarkus-resteasy-reactive              | [Link](https://quarkus.io/guides/resteasy-reactive)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-resteasy-reactive.adoc)              | 3.15.1  |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.4.7/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc)      | 2.4.7   |
| quarkus-rest-client-reactive-jackson   | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.15.1                                                                                                                                           |         |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.15.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.15.1  |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.15.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                  | 2.36.0  |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/0.34.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                      | 0.34.0  |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 0.34.0                                                                                                                                           |         |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.15.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.15.1  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.15.1  |
| tkit-quarkus-bff-lib                   | 1.0.0                                                                                              |                                                                                                                                                  |         |
| quarkus-smallrye-jwt-build             | 3.15.1                                                                                             |                                                                                                                                                  |         |
| quarkus-rest-client-oidc-filter        | 3.15.1                                                                                             |                                                                                                                                                  |         |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-document-management-bff/pkgs/container/onecx-document-management-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-document-management-bff/pkgs/container/charts%2Fonecx-document-management-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  image:
    repository: "onecx-apps/onecx-document-management-bff"
    tag: 999-SNAPSHOT
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          document:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-doc:all, ocx-doc:read, ocx-doc:write, ocx-pm:read ]
  product: false
```

ocx-doc:all, ocx-doc:read, ocx-doc:write, ocx-pm:read \] product: false

ient:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-doc:all, ocx-doc:read, ocx-doc:write ]

  product: false

#            read: permission on all GET requests and POST search
 keycloak:
   client:
     enabled: true
     spec:
       kcConfig:
         defaultClientScopes: [ ocx-doc:all, ocx-doc:read, ocx-doc:write ]

product: false

t Management

Document management refers to the systematic process of capturing,
organizing, storing, and retrieving documents within an organization. It
involves the efficient handling of digital documents, ensuring secure
access, version control, collaboration based on TM-Forum standard
https://github.com/tmforum-apis/TMF667_Document[TMF 667].

With OneCX-Document-Management Software, you can streamline your
document management workflows, reduce manual efforts, and enhance
productivity. Whether it’s managing contracts, invoices, legal
documents, or any other form of digital content, OneCX Document
Management provides a centralized and user-friendly solution for
effectively managing your documents.

=== Overview

OneCX-Document-Management is a comprehensive solution for managing
documents in a user-friendly and efficient manner. It is a solution that
consists of three main components which are explained in more detail in
the general documentation. Please refer to the following documentation
to learn more
https://onecx.github.io/docs/document-management/current/general/index.html[Document-Management
Documenation]. However, in this document we are only referring to one of
the three components, the OneCX-Document-Management-Backend-For-Frontend (BFF) of
OneCX-Document-Management.

=== What is a Backend For Frontend
Backend For Frontend is an architectural pattern used in modern web development. The BFF pattern involves creating a dedicated backend service for each front-end client or application. This allows the backend to provide customised APIs and functionality optimised for the specific needs of each frontend.

The code generation part of the `pom.xml` file is responsible for creating REST clients and proxies tailored to the backend services that the user interface needs to interact with. These clients and proxies act as the backend for the frontend, providing a dedicated and optimised interface for the document management frontend application. This architectural pattern provides a better separation of concerns, improves frontend performance and simplifies the frontend development process, as it only needs to deal with the APIs relevant to its functionality.

The BFF pattern is particularly useful in microservices architectures, such as the OneCX workspaces, where different front-end clients may require different data and functionality from multiple back-end services.

=== Getting Started

To start developing the OneCX Document Management BFF, you need to
set up your local development environment. It’s recommended that you use
WSL as the runtime for your application, as shown in the figure below.
If you are using a different runtime, please check that you meet the
requirements below.

==== Prerequisites

Before you begin, ensure you have the following installed:

* Java Development Kit (JDK) version 17
* Maven build tool
* Git
* Docker + Docker Compose (Windows Subsystem for Linux (WSL)
recommended)

==== Clone the Repository

Start by cloning the required repositories to your local machine using
the following command:

[source,bash]

git clone <https://github.com/onecx-apps/onecx-document-management-bff.git>git clone <https://github.com/onecx-apps/document-management-dev.git>

The repository `onecx-document-management-bff` contains the source code of
the document management BFF. The repository
`document-management-dev` contains the necessary OneCX platform
dependencies and the docker-compose script required to run the OneCX
Document-Management-User-Interface on your local machine.

==== Build the Project
Navigate to the project directory and build the application using NPM:

[source,bash]

cd onecx-document-management-bff mvn clean install

Downloading the required Maven dependencies for the first time may take
some time.

==== Update local DNS resolution
Assuming you are using WSL, updating the local host file for local
development allows you to map domain names to specific IP addresses,
making it easier to test and debug applications using custom domain names
instead of IP addresses. To enable multiple services on the same port,
we use traefik as a reverse proxy. A running traefik container is
therefore essential for your local setup to route your traffic to the
appropriate Docker containers based on hostnames.

*It is recommended that the WSL host file and the Windows host file are aligned.
Unless you have disabled this behaviour, the WSL host file will be automatically
generated from the Windows host file when WSL is restarted.*

===== Update Windows host file
Open the file `C:\Windows\System32\drivers\etc\hosts` in your favorite
editor and add the following entries:

[source,bash]

127.0.0.1 pgadmin 127.0.0.1 postgresdb 127.0.0.1 keycloak-app 127.0.0.1 traefik 127.0.0.1 tkit-portal-app 127.0.0.1 tkit-portal-server 127.0.0.1 apm 127.0.0.1 wiremock 127.0.0.1 minio 127.0.0.1 onecx-document-management-ui 127.0.0.1 onecx-document-management-bff 127.0.0.1 onecx-document-management-svc

===== Update WSL host file
If needed, update the file `\etc\hosts` in `your` favorite linux editor and add the
same entries like above.

==== Starting OneCX dependencies
In a local development environment, Docker Compose is used to define and
manage multiple containers as a single application stack. It enables
developers to easily start, stop, and configure all the necessary
services and dependencies required by OneCX Document Management using a
simple configuration file.

[source,bash]

cd document-management-dev docker compose up -d traefik postgresdb pgadmin keycloak-app tkit-portal-server minio apm

* `traefik`: Traefik is an ingress controller for Kubernetes deployments
that enables dynamic traffic routing and load balancing based on defined
rules and configurations.
* `postgresdb`: PostgreSQL is an open-source relational database
management system. It is used as persistence layer for storing and
managing data in OneCX Document Management, providing reliability and
scalability.
* `pgadmin`: pgAdmin is an open-source administration and development
platform that offers a user-friendly graphical interface for managing
and interacting with the local PostgreSQL database.
* `keycloak`: Keycloak is an open-source identity and access management
system that simplifies authentication, authorization, and single sign-on
for web and mobile applications.
* `tkit-portal-server`: This micro-service is responsible mostly for
handling the logic of portals and their meunitems and user data and
settings.
* `minio`: We use MinIO as a facade or abstraction layer to decouple our
applications from the underlying cloud storage provider, providing
greater flexibility and allowing us to seamlessly switch between
different providers without changing our application code. It acts as a
unified interface, enabling us to interact with various cloud storage
systems using the standardized Amazon S3 API.
* `apm`: In this backend, user permissions are stored in a structured
manner and an endpoint is provided to import permissions via CSV files.
Each application can be assigned a set of roles and permissions, managed
through an association table in the APM database. Roles are assigned in
the Keycloak admin console and are retrieved from tokens, while strings
defined in APM are used to grant access to specific components or views
on the frontend.

==== Starting the OneCX Document Management BFF

The command `mvn compile quarkus:dev` is used in a Maven-based Quarkus
project to compile the source code and start a live coding development
mode. In this mode, Quarkus will automatically rebuild and redeploy the
application whenever changes are detected in the source code, allowing
for rapid development and testing.

Please run:
[source,bash]

cd onecx-document-management-bff mvn compile quarkus:dev

Commands Explained:

* `mvn compile`: This command tells Maven to compile the source code of
the project. It resolves dependencies, compiles the Java source files,
and generates the compiled bytecode.
* `quarkus:dev`: This is a Maven plugin goal provided by the Quarkus
framework. It starts the Quarkus dev mode, which is a live coding mode
for development. It launches your application in development mode, which
includes features like hot-reloading and automatic recompilation.

When you run mvn compile quarkus:dev, the build process compiles your
application, and once it’s built, Quarkus starts a development server
that listens for changes in the source code. If any changes are
detected, the affected parts of the application are automatically
recompiled and redeployed, allowing you to see the changes in real-time
without restarting the application manually.

==== Stopping OneCX dependencies

The `docker compose stop` command is used to stop the containers defined
in a Docker Compose file. It gracefully stops the running containers by
sending a stop signal, allowing them to perform any necessary cleanup
tasks before shutting down.

[source,bash]

cd onecx-document-management-dev docker compose stop

undefined
====================


undefined
====================
### [](#%5Fdefault%5Fproperties)Default properties

src/main/resources/application.properties 

```properties
documentmgmt/mp-rest/url=http://onecx-document-management-svc:8080
documentmgmt/mp-rest/forward-headers=true
apm/mp-rest/url=http://tkit-apm:8080/tkit-apm-rs/v2
ahm/mp-rest/url=http://announcement-help-management:8080
portalLaunchpad/mp-rest/url=http://portal-launchpad:8080
tkitPortalServer/mp-rest/url=http://tkit-portal-server:8080
mp.openapi.scan.disable=false
tkit.log.json.enabled=false
org.eclipse.microprofile.rest.client.propagateHeaders=apm-principal-token
quarkus.oidc-client.client-id=${quarkus.application.name}
smallrye.jwt.path.groups =realm_access/roles
quarkus.http.limits.max-body-size=20240K
dms.file-upload.proxy-path=/v1/document/files/upload/*
quarkus.http.auth.permission.health.paths=/q/*
quarkus.http.auth.permission.health.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated
onecx.permissions.application-id=${quarkus.application.name}
quarkus.rest-client.onecx_document_svc.url = http://onecx-document-management-svc:8080
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.config-key=onecx_document_svc
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.base-package=gen.org.tkit.onecx.document-management.client
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.return-response=true
quarkus.openapi-generator.codegen.input-base-dir=target/tmp/openapi
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.additional-api-type-annotations=@org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.additional-model-type-annotations=@io.quarkus.runtime.annotations.RegisterForReflection;
quarkus.openapi-generator.onecx_document_management_svc_yaml.auth.oauth2.token-propagation=false
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.enable-security-generation=false
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.import-mappings=MultipartFormDataInput=org.jboss.resteasy.reactive.server.multipart.MultipartFormDataInput
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.type-mappings.File=java.io.File
quarkus.openapi-generator.codegen.spec.onecx_document_management_svc_yaml.type-mappings.MultipartFormDataInput=org.jboss.resteasy.reactive.server.multipart.MultipartFormDataInput
quarkus.rest-client.onecx_document_svc.providers=io.quarkus.oidc.client.reactive.filter.OidcClientRequestReactiveFilter
```

### [](#%5Fextensions)Extensions

| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                    | 2.36.0  |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                   | 2.36.0  |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                      | 2.36.0  |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                  | 2.36.0  |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)              | 2.36.0  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.15.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.15.1                                                                                                                                           |         |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                      | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.15.1  |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.15.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.15.1  |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.15.1  |
| quarkus-resteasy-reactive              | [Link](https://quarkus.io/guides/resteasy-reactive)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-resteasy-reactive.adoc)              | 3.15.1  |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.4.7/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc)      | 2.4.7   |
| quarkus-rest-client-reactive-jackson   | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.15.1                                                                                                                                           |         |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.15.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.15.1  |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.15.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                  | 2.36.0  |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/0.34.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                      | 0.34.0  |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 0.34.0                                                                                                                                           |         |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.15.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.15.1  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.15.1  |
| tkit-quarkus-bff-lib                   | 1.0.0                                                                                              |                                                                                                                                                  |         |
| quarkus-smallrye-jwt-build             | 3.15.1                                                                                             |                                                                                                                                                  |         |
| quarkus-rest-client-oidc-filter        | 3.15.1                                                                                             |                                                                                                                                                  |         |

### [](#%5Fcontainer)Container

[Docker registry](https://github.com/onecx/onecx-document-management-bff/pkgs/container/onecx-document-management-bff)

### [](#%5Fhelm)Helm

[Helm registry](https://github.com/onecx/onecx-document-management-bff/pkgs/container/charts%2Fonecx-document-management-bff)

Default values

src/main/helm/values.yaml

```yaml
app:
  image:
    repository: "onecx-apps/onecx-document-management-bff"
    tag: 999-SNAPSHOT
  operator:
    # Permission
    permission:
      enabled: true
      spec:
        permissions:
          document:
            read: permission on all GET requests and POST search
            write: permission on PUT, POST, PATCH requests, where objects are saved or updated
            delete: permission on all DELETE requests
    keycloak:
      client:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-doc:all, ocx-doc:read, ocx-doc:write, ocx-pm:read ]
  product: false
```

ocx-doc:all, ocx-doc:read, ocx-doc:write, ocx-pm:read \] product: false

ient:
        enabled: true
        spec:
          kcConfig:
            defaultClientScopes: [ ocx-doc:all, ocx-doc:read, ocx-doc:write ]

  product: false

#            read: permission on all GET requests and POST search
 keycloak:
   client:
     enabled: true
     spec:
       kcConfig:
         defaultClientScopes: [ ocx-doc:all, ocx-doc:read, ocx-doc:write ]

product: false

undefined
====================
| Extensions                             | Documentation                                                                                      | Configuration                                                                                                                                    | Version |
| -------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------- |
| tkit-quarkus-log-rs                    | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-rs.html)       | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-rs.adoc)                    | 2.36.0  |
| tkit-quarkus-log-cdi                   | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-cdi.html)      | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-cdi.adoc)                   | 2.36.0  |
| tkit-quarkus-rest                      | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest.html)         | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest.adoc)                      | 2.36.0  |
| tkit-quarkus-log-json                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-log-json.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-log-json.adoc)                  | 2.36.0  |
| tkit-quarkus-rest-context              | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-rest-context.html) | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-rest-context.adoc)              | 2.36.0  |
| quarkus-rest                           | [Link](https://quarkus.io/guides/rest)                                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest.adoc)                           | 3.15.1  |
| quarkus-rest-jackson                   | [Link](https://quarkus.io/guides/rest-json)                                                        | 3.15.1                                                                                                                                           |         |
| quarkus-rest-client                    | [Link](https://quarkus.io/guides/rest-client)                                                      | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-rest-client.adoc)                    | 3.15.1  |
| quarkus-container-image-docker         | [Link](https://quarkus.io/guides/container-image)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-container-image-docker.adoc)         | 3.15.1  |
| quarkus-smallrye-health                | [Link](https://quarkus.io/guides/smallrye-health)                                                  | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-health.adoc)                | 3.15.1  |
| quarkus-smallrye-jwt                   | [Link](https://quarkus.io/guides/security-jwt-build)                                               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-jwt.adoc)                   | 3.15.1  |
| quarkus-resteasy-reactive              | [Link](https://quarkus.io/guides/resteasy-reactive)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-resteasy-reactive.adoc)              | 3.15.1  |
| quarkus-openapi-generator              | [Link](https://docs.quarkiverse.io/quarkus-openapi-generator/dev/index.html)                       | [Link](https://github.com/quarkiverse/quarkus-openapi-generator/blob/2.4.7/docs/modules/ROOT/pages/includes/quarkus-openapi-generator.adoc)      | 2.4.7   |
| quarkus-rest-client-reactive-jackson   | [Link](https://quarkus.io/guides/rest-client)                                                      | 3.15.1                                                                                                                                           |         |
| quarkus-smallrye-openapi               | [Link](https://quarkus.io/guides/openapi-swaggerui)                                                | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-smallrye-openapi.adoc)               | 3.15.1  |
| quarkus-hibernate-validator            | [Link](https://quarkus.io/guides/validation)                                                       | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-hibernate-validator.adoc)            | 3.15.1  |
| quarkus-oidc                           | [Link](https://quarkus.io/guides/security-oidc-bearer-token-authentication-tutorial)               | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-oidc.adoc)                           | 3.15.1  |
| tkit-quarkus-security                  | [Link](https://1000kit.github.io/tkit-quarkus/current/tkit-quarkus/tkit-quarkus-security.html)     | [Link](https://github.com/1000kit/tkit-quarkus/blob/2.36.0/docs/modules/tkit-quarkus/pages/includes/tkit-quarkus-security.adoc)                  | 2.36.0  |
| onecx-permissions                      | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-permissions.html)    | [Link](https://github.com/onecx/onecx-quarkus/blob/0.34.0/docs/modules/onecx-quarkus/pages/includes/onecx-permissions.adoc)                      | 0.34.0  |
| onecx-core                             | [Link](https://onecx.github.io/docs/onecx-quarkus/current/onecx-quarkus/onecx-core.html)           | 0.34.0                                                                                                                                           |         |
| quarkus-micrometer-registry-prometheus | [Link](https://quarkus.io/guides/telemetry-micrometer)                                             | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-micrometer-registry-prometheus.adoc) | 3.15.1  |
| quarkus-opentelemetry                  | [Link](https://quarkus.io/guides/opentelemetry)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-opentelemetry.adoc)                  | 3.15.1  |
| quarkus-arc                            | [Link](https://quarkus.io/guides/cdi-reference)                                                    | [Link](https://github.com/quarkusio/quarkusio.github.io/blob/develop/%5Fgenerated-doc/latest/config/quarkus-arc.adoc)                            | 3.15.1  |
| tkit-quarkus-bff-lib                   | 1.0.0                                                                                              |                                                                                                                                                  |         |
| quarkus-smallrye-jwt-build             | 3.15.1                                                                                             |                                                                                                                                                  |         |
| quarkus-rest-client-oidc-filter        | 3.15.1                                                                                             |                                                                                                                                                  |         |