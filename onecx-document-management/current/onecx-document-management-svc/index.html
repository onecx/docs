<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: OneCX Docs</title>
    <link rel="canonical" href="https://onecx.github.io/docs/onecx-document-management/current/onecx-document-management-svc/index.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="https://unpkg.com/bpmn-js/dist/assets/diagram-js.css">
    <link rel="stylesheet" href="https://unpkg.com/bpmn-js/dist/assets/bpmn-font/css/bpmn.css">
    <link rel="stylesheet" href="../../../_/css/bpmn.css">
    <link href="../../../_/css/fontawesome.css" rel="stylesheet" />
    <link href="../../../_/css/brands.css" rel="stylesheet" />
    <link href="../../../_/css/solid.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui.css">
    <script>var uiRootPath = '../../../_'</script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/bpmn-js/dist/bpmn-viewer.production.min.js"></script>
    <script src="https://unpkg.com/dmn-js@11.0.2/dist/dmn-viewer.production.min.js"></script>
    <script src="../../../_/js/bpmn.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui-standalone-preset.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui-bundle.js"></script>

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://onecx.github.io/docs">OneCX Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/docs">Home</a>
        <!--  <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/docs/docs-guides-quarkus/latest/">Quarkus</a>
            <a class="navbar-item" href="/docs/docs-guides-bpmn/latest/">Bpmn</a>
          </div> 
        </div> -->
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="onecx-document-management" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../onecx-document-management/index.html">Document Management</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../onecx-document-management/index.html">Document Management</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../onecx-document-management-ui/index.html">Document Management UI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../onecx-document-management-bff/index.html">Document-Management BFF</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="index.html">Document Management Service</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Document Management</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../onecx-announcement/current/general/index.html">Announcement Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-announcement/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-bookmark/current/general/index.html">Bookmark Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-bookmark/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../onecx-document-management/index.html">Document Management</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../onecx-document-management/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../guides/current/general/index.html">Guides</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guides/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-help/current/general/index.html">Help Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-help/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-iam/current/general/index.html">IAM Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-iam/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../index/current/index.html">OneCX Docs</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../index/current/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../nx-plugins/current/general/index.html">OneCX generator</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../nx-plugins/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-quarkus/current/onecx-quarkus/index.html">Onecx Quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-quarkus/current/onecx-quarkus/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-parameter/current/general/index.html">Parameter Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-parameter/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-permission/current/general/index.html">Permission Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-permission/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-product-store/current/general/index.html">Product Store Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-product-store/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-tenant/current/general/index.html">Tenant Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-tenant/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-theme/current/general/index.html">Theme Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-theme/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-user-profile/current/general/index.html">User Profile Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-user-profile/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-welcome/current/general/index.html">Welcome Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-welcome/current/general/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../onecx-workspace/current/onecx-workspace/index.html">Workspace Management</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../onecx-workspace/current/onecx-workspace/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../index/current/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../onecx-document-management/index.html">Document Management</a></li>
    <li><a href="index.html">Document Management Service</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/onecx-apps/onecx-document-management-svc/edit/main/docs/modules/onecx-document-management-svc/pages/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
    <div class="sect1">
<h2 id="_onecx_document_management_service"><a class="anchor" href="#_onecx_document_management_service"></a>OneCX Document-Management-Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="https://github.com/onecx-apps/onecx-document-management-svc/actions/workflows/build.yml/badge.svg" alt="OneCX Document Management SVC"></span></p>
</div>
<div class="sect2">
<h3 id="_what_is_document_management"><a class="anchor" href="#_what_is_document_management"></a>What is Document Management</h3>
<div class="paragraph">
<p>Document management refers to the systematic process of capturing,
organizing, storing, and retrieving documents within an organization. It
involves the efficient handling of digital documents, ensuring secure
access, version control, collaboration based on TM-Forum standard
<a href="https://github.com/tmforum-apis/TMF667_Document">TMF 667</a>.</p>
</div>
<div class="paragraph">
<p>With OneCX-Document-Management Software, you can streamline your
document management workflows, reduce manual efforts, and enhance
productivity. Whether it’s managing contracts, invoices, legal
documents, or any other form of digital content, OneCX Document
Management provides a centralized and user-friendly solution for
effectively managing your documents.</p>
</div>
</div>
<div class="sect2">
<h3 id="_issue_tracking"><a class="anchor" href="#_issue_tracking"></a>Issue tracking</h3>
<div class="paragraph">
<p>All OneCX Document Management issues are tracked and maintained here
<a href="">issue tracking tool</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_overview"><a class="anchor" href="#_overview"></a>Overview</h3>
<div class="paragraph">
<p>OneCX-Document-Management is a comprehensive solution for managing
documents in a user-friendly and efficient manner. It is a solution that
consists of three main components which are explained in more detail in
the general documentation. Please refer to the following documentation
to learn more
<a href="https://github.com/onecx-apps/onecx-document-management">Document-Management
Documenation</a>. However, in this document we are only referring to one of
the three components, the OneCX-Document-Management-Service (Backend) of
OneCX-Document-Management.</p>
</div>
<div class="paragraph">
<p>This component provides the core functionality for document management.
It handles tasks such as document storage, retrieval, metadata
management, and access control. The backend is built cloud native using
Quarkus.</p>
</div>
</div>
<div class="sect2">
<h3 id="_getting_started"><a class="anchor" href="#_getting_started"></a>Getting Started</h3>
<div class="paragraph">
<p>To start developing the OneCX Document Management Service, you need to
set up your local development environment. It’s recommended that you use
WSL as the runtime for your application, as shown in the figure below.
If you are using a different runtime, please check that you meet the
requirements below.</p>
</div>
<div class="sect3">
<h4 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h4>
<div class="paragraph">
<p>Before you begin, ensure you have the following installed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java Development Kit (JDK) version 17</p>
</li>
<li>
<p>Maven build tool</p>
</li>
<li>
<p>Git</p>
</li>
<li>
<p>Docker + Docker Compose (Windows Subsystem for Linux (WSL)
recommended)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_clone_the_repository"><a class="anchor" href="#_clone_the_repository"></a>Clone the Repository</h4>
<div class="paragraph">
<p>Start by cloning the required repositories to your local machine using
the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/onecx-apps/onecx-document-management-svc.git
git clone https://github.com/onecx-apps/document-management-dev.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>The repository <code>onecx-document-management</code> contains the source code of
the document management backend. The repository
<code>document-management-dev</code> contains the necessary OneCX platform
dependencies and the docker-compose script required to run the OneCX
Document-Management-Service on your local machine.</p>
</div>
</div>
<div class="sect3">
<h4 id="_build_the_project"><a class="anchor" href="#_build_the_project"></a>Build the Project</h4>
<div class="paragraph">
<p>Navigate to the project directory and build the application using Maven:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd onecx-document-management-svc
mvn clean install</code></pre>
</div>
</div>
<div class="paragraph">
<p>Downloading the required Maven dependencies for the first time may take
some time.</p>
</div>
</div>
<div class="sect3">
<h4 id="_update_local_dns_resolution"><a class="anchor" href="#_update_local_dns_resolution"></a>Update local DNS resolution</h4>
<div class="paragraph">
<p>Assuming you are using WSL, updating the local host file for local
development allows you to map domain names to specific IP addresses,
making it easier to test and debug applications using custom domain names
instead of IP addresses. To enable multiple services on the same port,
we use traefik as a reverse proxy. A running traefik container is
therefore essential for your local setup to route your traffic to the
appropriate Docker containers based on hostnames.</p>
</div>
<div class="paragraph">
<p><strong>It is recommended that the WSL host file and the Windows host file are aligned.
Unless you have disabled this behaviour, the WSL host file will be automatically
generated from the Windows host file when WSL is restarted.</strong></p>
</div>
<div class="sect4">
<h5 id="_update_windows_host_file"><a class="anchor" href="#_update_windows_host_file"></a>Update Windows host file</h5>
<div class="paragraph">
<p>Open the file <code>C:\Windows\System32\drivers\etc\hosts</code> in your favorite
editor and add the following entries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">127.0.0.1       pgadmin
127.0.0.1       postgresdb
127.0.0.1       keycloak-app
127.0.0.1       traefik
127.0.0.1       tkit-portal-app
127.0.0.1       tkit-portal-server
127.0.0.1       apm
127.0.0.1       wiremock
127.0.0.1       minio
127.0.0.1       onecx-document-management-ui
127.0.0.1       onecx-document-management-bff
127.0.0.1       onecx-document-management-svc</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_update_wsl_host_file"><a class="anchor" href="#_update_wsl_host_file"></a>Update WSL host file</h5>
<div class="paragraph">
<p>If needed, update the file <code>\etc\hosts</code> in <code>your</code> favorite linux editor and add the
same entries like above.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_starting_onecx_dependencies"><a class="anchor" href="#_starting_onecx_dependencies"></a>Starting OneCX dependencies</h4>
<div class="paragraph">
<p>In a local development environment, Docker Compose is used to define and
manage multiple containers as a single application stack. It enables
developers to easily start, stop, and configure all the necessary
services and dependencies required by OneCX Document Management using a
simple configuration file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd document-management-dev
docker compose up -d traefik postgresdb pgadmin keycloak-app tkit-portal-server minio apm</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>traefik</code>: Traefik is an ingress controller for Kubernetes deployments
that enables dynamic traffic routing and load balancing based on defined
rules and configurations.</p>
</li>
<li>
<p><code>postgresdb</code>: PostgreSQL is an open-source relational database
management system. It is used as persistence layer for storing and
managing data in OneCX Document Management, providing reliability and
scalability.</p>
</li>
<li>
<p><code>pgadmin</code>: pgAdmin is an open-source administration and development
platform that offers a user-friendly graphical interface for managing
and interacting with the local PostgreSQL database.</p>
</li>
<li>
<p><code>keycloak</code>: Keycloak is an open-source identity and access management
system that simplifies authentication, authorization, and single sign-on
for web and mobile applications.</p>
</li>
<li>
<p><code>tkit-portal-server</code>: This micro-service is responsible mostly for
handling the logic of portals and their meunitems and user data and
settings.</p>
</li>
<li>
<p><code>minio</code>: We use MinIO as a facade or abstraction layer to decouple our
applications from the underlying cloud storage provider, providing
greater flexibility and allowing us to seamlessly switch between
different providers without changing our application code. It acts as a
unified interface, enabling us to interact with various cloud storage
systems using the standardized Amazon S3 API.</p>
</li>
<li>
<p><code>apm</code>: In this backend, user permissions are stored in a structured
manner and an endpoint is provided to import permissions via CSV files.
Each application can be assigned a set of roles and permissions, managed
through an association table in the APM database. Roles are assigned in
the Keycloak admin console and are retrieved from tokens, while strings
defined in APM are used to grant access to specific components or views
on the frontend.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_stopping_onecx_dependencies"><a class="anchor" href="#_stopping_onecx_dependencies"></a>Stopping OneCX dependencies</h4>
<div class="paragraph">
<p>The <code>docker-compose stop</code> command is used to stop the containers defined
in a Docker Compose file. It gracefully stops the running containers by
sending a stop signal, allowing them to perform any necessary cleanup
tasks before shutting down.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker compose stop</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_starting_the_onecx_document_management_service"><a class="anchor" href="#_starting_the_onecx_document_management_service"></a>Starting the OneCX Document Management Service</h4>
<div class="paragraph">
<p>The command mvn compile quarkus:dev is used in a Maven-based Quarkus
project to compile the source code and start a live coding development
mode. In this mode, Quarkus will automatically rebuild and redeploy the
application whenever changes are detected in the source code, allowing
for rapid development and testing.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn compile quarkus:dev</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mvn compile</code>: This command tells Maven to compile the source code of
the project. It resolves dependencies, compiles the Java source files,
and generates the compiled bytecode.</p>
</li>
<li>
<p><code>quarkus:dev</code>: This is a Maven plugin goal provided by the Quarkus
framework. It starts the Quarkus dev mode, which is a live coding mode
for development. It launches your application in development mode, which
includes features like hot-reloading and automatic recompilation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When you run mvn compile quarkus:dev, the build process compiles your
application, and once it’s built, Quarkus starts a development server
that listens for changes in the source code. If any changes are
detected, the affected parts of the application are automatically
recompiled and redeployed, allowing you to see the changes in real-time
without restarting the application manually.</p>
</div>
</div>
</div>
</div>
</div>
  </article>  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script>
    document.addEventListener('readystatechange', event => {
    if (event.target.readyState === "complete") {
        renderAllBpmnJs();
    }
    });    
</script>
  </body>
</html>
